"use strict";(self.webpackChunkshopping_cart=self.webpackChunkshopping_cart||[]).push([[179],{440:(rn,et,T)=>{T.d(et,{nm:()=>Ai});var d=T(5813);T(4650),T(5867);var ot=T(5861),Ue=T(9681),Xe=T(4859),mt=T(2090),vt=T(1877);const nt=new Map,Ae={activated:!1,tokenObservers:[]},Ze={initialized:!1,enabled:!1};function Qe(ft){return nt.get(ft)||Ae}function Ct(ft,ht){nt.set(ft,ht)}function Et(){return Ze}class Yt{constructor(ht,St,Zt,yn,Tn){if(this.operation=ht,this.retryPolicy=St,this.getWaitDuration=Zt,this.lowerBound=yn,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=yn,yn>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ht){var St=this;return(0,ot.Z)(function*(){St.stop();try{St.pending=new mt.BH,yield function Dt(ft){return new Promise(ht=>{setTimeout(ht,ft)})}(St.getNextRun(ht)),St.pending.resolve(),yield St.pending.promise,St.pending=new mt.BH,yield St.operation(),St.pending.resolve(),yield St.pending.promise,St.process(!0).catch(()=>{})}catch(Zt){St.retryPolicy(Zt)?St.process(!1).catch(()=>{}):St.stop()}})()}getNextRun(ht){if(ht)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const St=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),St}}}const $t=new mt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Nn(ft){if(!Qe(ft).activated)throw $t.create("use-before-activation",{appName:ft.name})}function Gn(ft,ht){return jn.apply(this,arguments)}function jn(){return(jn=(0,ot.Z)(function*({url:ft,body:ht},St){var Zt,yn;const Tn={"Content-Type":"application/json"},di=St.getImmediate({optional:!0});if(di){const jr=yield di.getHeartbeatsHeader();jr&&(Tn["X-Firebase-Client"]=jr)}const _r={method:"POST",body:JSON.stringify(ht),headers:Tn};let Fi,Xi;try{Fi=yield fetch(ft,_r)}catch(jr){throw $t.create("fetch-network-error",{originalErrorMessage:null===(Zt=jr)||void 0===Zt?void 0:Zt.message})}if(200!==Fi.status)throw $t.create("fetch-status-error",{httpStatus:Fi.status});try{Xi=yield Fi.json()}catch(jr){throw $t.create("fetch-parse-error",{originalErrorMessage:null===(yn=jr)||void 0===yn?void 0:yn.message})}const ar=Xi.ttl.match(/^([\d.]+)(s)$/);if(!ar||!ar[2]||isNaN(Number(ar[1])))throw $t.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Xi.ttl}`});const Zr=1e3*Number(ar[1]),Os=Date.now();return{token:Xi.token,expireTimeMillis:Os+Zr,issuedAtTimeMillis:Os}})).apply(this,arguments)}function ii(ft,ht){const{projectId:St,appId:Zt,apiKey:yn}=ft.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${St}/apps/${Zt}:exchangeDebugToken?key=${yn}`,body:{debug_token:ht}}}const ei="firebase-app-check-store";let $n=null;function ti(){return $n||($n=new Promise((ft,ht)=>{var St;try{const Zt=indexedDB.open("firebase-app-check-database",1);Zt.onsuccess=yn=>{ft(yn.target.result)},Zt.onerror=yn=>{var Tn;ht($t.create("storage-open",{originalErrorMessage:null===(Tn=yn.target.error)||void 0===Tn?void 0:Tn.message}))},Zt.onupgradeneeded=yn=>{0===yn.oldVersion&&yn.target.result.createObjectStore(ei,{keyPath:"compositeKey"})}}catch(Zt){ht($t.create("storage-open",{originalErrorMessage:null===(St=Zt)||void 0===St?void 0:St.message}))}}),$n)}function Qt(){return(Qt=(0,ot.Z)(function*(ft,ht){const Zt=(yield ti()).transaction(ei,"readwrite"),Tn=Zt.objectStore(ei).put({compositeKey:ft,value:ht});return new Promise((di,_r)=>{Tn.onsuccess=Fi=>{di()},Zt.onerror=Fi=>{var Xi;_r($t.create("storage-set",{originalErrorMessage:null===(Xi=Fi.target.error)||void 0===Xi?void 0:Xi.message}))}})})).apply(this,arguments)}const Lt=new vt.Yd("@firebase/app-check");function je(ft,ht){return(0,mt.hl)()?function Pi(ft,ht){return function yi(ft,ht){return Qt.apply(this,arguments)}(function wt(ft){return`${ft.options.appId}-${ft.name}`}(ft),ht)}(ft,ht).catch(St=>{Lt.warn(`Failed to write token to IndexedDB. Error: ${St}`)}):Promise.resolve()}function ee(){return Et().enabled}function se(){return Q.apply(this,arguments)}function Q(){return(Q=(0,ot.Z)(function*(){const ft=Et();if(ft.enabled&&ft.token)return ft.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ve={error:"UNKNOWN_ERROR"};function J(ft){return mt.US.encodeString(JSON.stringify(ft),!1)}function Ce(ft){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,ot.Z)(function*(ft,ht=!1){const St=ft.app;Nn(St);const Zt=Qe(St);let Tn,yn=Zt.token;if(!yn){const Fi=yield Zt.cachedTokenPromise;Fi&&at(Fi)&&(yn=Fi)}if(!ht&&yn&&at(yn))return{token:yn.token};let _r,di=!1;if(ee()){Zt.exchangeTokenPromise||(Zt.exchangeTokenPromise=Gn(ii(St,yield se()),ft.heartbeatServiceProvider).then(Xi=>(Zt.exchangeTokenPromise=void 0,Xi)),di=!0);const Fi=yield Zt.exchangeTokenPromise;return yield je(St,Fi),Ct(St,Object.assign(Object.assign({},Zt),{token:Fi})),{token:Fi.token}}try{Zt.exchangeTokenPromise||(Zt.exchangeTokenPromise=Zt.provider.getToken().then(Fi=>(Zt.exchangeTokenPromise=void 0,Fi)),di=!0),yn=yield Zt.exchangeTokenPromise}catch(Fi){"appCheck/throttled"===Fi.code?Lt.warn(Fi.message):Lt.error(Fi),Tn=Fi}return yn?(_r={token:yn.token},Ct(St,Object.assign(Object.assign({},Zt),{token:yn})),yield je(St,yn)):_r=ke(Tn),di&&dn(St,_r),_r})).apply(this,arguments)}function it(ft,ht){const St=Qe(ft),Zt=St.tokenObservers.filter(yn=>yn.next!==ht);0===Zt.length&&St.tokenRefresher&&St.tokenRefresher.isRunning()&&St.tokenRefresher.stop(),Ct(ft,Object.assign(Object.assign({},St),{tokenObservers:Zt}))}function nn(ft){const{app:ht}=ft,St=Qe(ht);let Zt=St.tokenRefresher;Zt||(Zt=function fn(ft){const{app:ht}=ft;return new Yt((0,ot.Z)(function*(){let Zt;if(Zt=Qe(ht).token?yield Ce(ft,!0):yield Ce(ft),Zt.error)throw Zt.error}),()=>!0,()=>{const St=Qe(ht);if(St.token){let Zt=St.token.issuedAtTimeMillis+.5*(St.token.expireTimeMillis-St.token.issuedAtTimeMillis)+3e5;return Zt=Math.min(Zt,St.token.expireTimeMillis-3e5),Math.max(0,Zt-Date.now())}return 0},3e4,96e4)}(ft),Ct(ht,Object.assign(Object.assign({},St),{tokenRefresher:Zt}))),!Zt.isRunning()&&St.isTokenAutoRefreshEnabled&&Zt.start()}function dn(ft,ht){const St=Qe(ft).tokenObservers;for(const Zt of St)try{"EXTERNAL"===Zt.type&&null!=ht.error?Zt.error(ht.error):Zt.next(ht)}catch{}}function at(ft){return ft.expireTimeMillis-Date.now()>0}function ke(ft){return{token:J(ve),error:ft}}class He{constructor(ht,St){this.app=ht,this.heartbeatServiceProvider=St}_delete(){const{tokenObservers:ht}=Qe(this.app);for(const St of ht)it(this.app,St.next);return Promise.resolve()}}const Ki="app-check-internal";!function Mr(){(0,Ue._registerComponent)(new Xe.wA("app-check",ft=>function Tt(ft,ht){return new He(ft,ht)}(ft.getProvider("app").getImmediate(),ft.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ft,ht,St)=>{ft.getProvider(Ki).initialize()})),(0,Ue._registerComponent)(new Xe.wA(Ki,ft=>function Ge(ft){return{getToken:ht=>Ce(ft,ht),addTokenListener:ht=>function Je(ft,ht,St,Zt){const{app:yn}=ft,Tn=Qe(yn),di={next:St,error:Zt,type:ht};if(Ct(yn,Object.assign(Object.assign({},Tn),{tokenObservers:[...Tn.tokenObservers,di]})),Tn.token&&at(Tn.token)){const _r=Tn.token;Promise.resolve().then(()=>{St({token:_r.token}),nn(ft)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>nn(ft))}(ft,"INTERNAL",ht),removeTokenListener:ht=>it(ft.app,ht)}}(ft.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)("@firebase/app-check","0.5.12")}();class Ai{constructor(){return(0,d.vb)("app-check")}}typeof window<"u"&&window},1205:(rn,et,T)=>{T.d(et,{zQ:()=>Pt,rT:()=>Ze,f7:()=>Ct,L6:()=>nt,_Q:()=>Ae,lh:()=>Qe,Qv:()=>vt,nw:()=>Et});var d=T(4650),f=T(7579),P=T(9646),B=T(9751),_e=T(8996),Oe=T(6451),Fe=T(5363),he=T(3900),Re=T(4004),q=T(6063);class ue extends f.x{constructor(Rn=1/0,Jt=1/0,qe=q.l){super(),this._bufferSize=Rn,this._windowTime=Jt,this._timestampProvider=qe,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Jt===1/0,this._bufferSize=Math.max(1,Rn),this._windowTime=Math.max(1,Jt)}next(Rn){const{isStopped:Jt,_buffer:qe,_infiniteTimeWindow:Yt,_timestampProvider:Dt,_windowTime:jt}=this;Jt||(qe.push(Rn),!Yt&&qe.push(Dt.now()+jt)),this._trimBuffer(),super.next(Rn)}_subscribe(Rn){this._throwIfClosed(),this._trimBuffer();const Jt=this._innerSubscribe(Rn),{_infiniteTimeWindow:qe,_buffer:Yt}=this,Dt=Yt.slice();for(let jt=0;jt<Dt.length&&!Rn.closed;jt+=qe?1:2)Rn.next(Dt[jt]);return this._checkFinalizedStatuses(Rn),Jt}_trimBuffer(){const{_bufferSize:Rn,_timestampProvider:Jt,_buffer:qe,_infiniteTimeWindow:Yt}=this,Dt=(Yt?1:2)*Rn;if(Rn<1/0&&Dt<qe.length&&qe.splice(0,qe.length-Dt),!Yt){const jt=Jt.now();let $t=0;for(let An=1;An<qe.length&&qe[An]<=jt;An+=2)$t=An;$t&&qe.splice(0,$t+1)}}}var ye=T(3099);function tt(sn,Rn,Jt){var qe,Yt;let Dt,jt=!1;return sn&&"object"==typeof sn?(Dt=null!==(qe=sn.bufferSize)&&void 0!==qe?qe:1/0,Rn=null!==(Yt=sn.windowTime)&&void 0!==Yt?Yt:1/0,jt=!!sn.refCount,Jt=sn.scheduler):Dt=sn??1/0,(0,ye.B)({connector:()=>new ue(Dt,Rn,Jt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:jt})}var dt=T(590),Ye=T(576);function Ft(sn,Rn){return(0,Ye.m)(Rn)?(0,he.w)(()=>sn,Rn):(0,he.w)(()=>sn)}var pt=T(9468),ze=T(9300),_t=T(5813),yt=T(2011),ot=T(6895),Ue=T(440);T(127);const vt=new d.OlP("angularfire2.auth.use-emulator"),nt=new d.OlP("angularfire2.auth.settings"),Ae=new d.OlP("angularfire2.auth.tenant-id"),Ze=new d.OlP("angularfire2.auth.langugage-code"),Qe=new d.OlP("angularfire2.auth.use-device-language"),Ct=new d.OlP("angularfire.auth.persistence"),Et=(sn,Rn,Jt,qe,Yt,Dt,jt,$t)=>(0,yt.cc)(`${sn.name}.auth`,"AngularFireAuth",sn.name,()=>{const An=Rn.runOutsideAngular(()=>sn.auth());if(Jt&&An.useEmulator(...Jt),qe&&(An.tenantId=qe),An.languageCode=Yt,Dt&&An.useDeviceLanguage(),jt)for(const[Nn,Hn]of Object.entries(jt))An.settings[Nn]=Hn;return $t&&An.setPersistence($t),An},[Jt,qe,Yt,Dt,jt,$t]);let Pt=(()=>{class sn{constructor(Jt,qe,Yt,Dt,jt,$t,An,Nn,Hn,xi,Gn,jn){const Ii=new f.x,Wn=(0,P.of)(void 0).pipe((0,Fe.Q)(jt.outsideAngular),(0,he.w)(()=>Dt.runOutsideAngular(()=>Promise.resolve().then(T.bind(T,5881)))),(0,Re.U)(()=>(0,yt.on)(Jt,Dt,qe)),(0,Re.U)(ii=>Et(ii,Dt,$t,Nn,Hn,xi,An,Gn)),tt({bufferSize:1,refCount:!1}));if((0,ot.PM)(Yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,P.of)(null);else{Wn.pipe((0,dt.P)()).subscribe();const zt=Wn.pipe((0,he.w)(en=>en.getRedirectResult().then($n=>$n,()=>null)),_t.iC,tt({bufferSize:1,refCount:!1})),qn=Wn.pipe((0,he.w)(en=>new B.y($n=>({unsubscribe:Dt.runOutsideAngular(()=>en.onAuthStateChanged(ti=>$n.next(ti),ti=>$n.error(ti),()=>$n.complete()))})))),ei=Wn.pipe((0,he.w)(en=>new B.y($n=>({unsubscribe:Dt.runOutsideAngular(()=>en.onIdTokenChanged(ti=>$n.next(ti),ti=>$n.error(ti),()=>$n.complete()))}))));this.authState=zt.pipe(Ft(qn),(0,pt.R)(jt.outsideAngular),(0,Fe.Q)(jt.insideAngular)),this.user=zt.pipe(Ft(ei),(0,pt.R)(jt.outsideAngular),(0,Fe.Q)(jt.insideAngular)),this.idToken=this.user.pipe((0,he.w)(en=>en?(0,_e.D)(en.getIdToken()):(0,P.of)(null))),this.idTokenResult=this.user.pipe((0,he.w)(en=>en?(0,_e.D)(en.getIdTokenResult()):(0,P.of)(null))),this.credential=(0,Oe.T)(zt,Ii,this.authState.pipe((0,ze.h)(en=>!en))).pipe((0,Re.U)(en=>en?.user?en:null),(0,pt.R)(jt.outsideAngular),(0,Fe.Q)(jt.insideAngular))}return(0,yt.pX)(this,Wn,Dt,{spy:{apply:(ii,zt,qn)=>{(ii.startsWith("signIn")||ii.startsWith("createUser"))&&qn.then(ei=>Ii.next(ei))}}})}}return sn.\u0275fac=function(Jt){return new(Jt||sn)(d.LFG(yt.Dh),d.LFG(yt.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(_t.HU),d.LFG(vt,8),d.LFG(nt,8),d.LFG(Ae,8),d.LFG(Ze,8),d.LFG(Qe,8),d.LFG(Ct,8),d.LFG(Ue.nm,8))},sn.\u0275prov=d.Yz7({token:sn,factory:sn.\u0275fac,providedIn:"any"}),sn})()},2011:(rn,et,T)=>{T.d(et,{Dh:()=>he,GT:()=>Oe,cc:()=>dt,hO:()=>tt,on:()=>q,pX:()=>_e,xv:()=>Re});var d=T(4650),f=T(127),P=T(5813);rn=T.hmd(rn);const B=["ngOnDestroy"],_e=(ze,_t,yt,ot={})=>new Proxy(ze,{get:(Ue,Xe)=>yt.runOutsideAngular(()=>{var mt;if(ze[Xe])return!(null===(mt=ot?.spy)||void 0===mt)&&mt.get&&ot.spy.get(Xe,ze[Xe]),ze[Xe];if(B.indexOf(Xe)>-1)return()=>{};const vt=_t.toPromise().then(nt=>{const Ae=nt&&nt[Xe];return"function"==typeof Ae?Ae.bind(nt):Ae&&Ae.then?Ae.then(Ze=>yt.run(()=>Ze)):yt.run(()=>Ae)});return new Proxy(()=>{},{get:(nt,Ae)=>vt[Ae],apply:(nt,Ae,Ze)=>vt.then(Qe=>{var Ct;const Et=Qe&&Qe(...Ze);return!(null===(Ct=ot?.spy)||void 0===Ct)&&Ct.apply&&ot.spy.apply(Xe,Ze,Et),Et})})})}),Oe=(ze,_t)=>{_t.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(ot=>{Object.defineProperty(ze.prototype,ot,Object.getOwnPropertyDescriptor(yt.prototype||yt,ot))})})};class Fe{constructor(_t){return _t}}const he=new d.OlP("angularfire2.app.options"),Re=new d.OlP("angularfire2.app.name");function q(ze,_t,yt){const Ue="object"==typeof yt&&yt||{};Ue.name=Ue.name||"string"==typeof yt&&yt||"[DEFAULT]";const mt=f.Z.apps.filter(vt=>vt&&vt.name===Ue.name)[0]||_t.runOutsideAngular(()=>f.Z.initializeApp(ze,Ue));try{JSON.stringify(ze)!==JSON.stringify(mt.options)&&ue("error",`${mt.name} Firebase App already initialized with different options${rn.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Fe(mt)}const ue=(ze,..._t)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ze](..._t)},ye={provide:Fe,useFactory:q,deps:[he,d.R0b,[new d.FiY,Re]]};let tt=(()=>{class ze{constructor(yt){f.Z.registerVersion("angularfire",P.q4.full,"core"),f.Z.registerVersion("angularfire",P.q4.full,"app-compat"),f.Z.registerVersion("angular",d.q4F.full,yt.toString())}static initializeApp(yt,ot){return{ngModule:ze,providers:[{provide:he,useValue:yt},{provide:Re,useValue:ot}]}}}return ze.\u0275fac=function(yt){return new(yt||ze)(d.LFG(d.Lbi))},ze.\u0275mod=d.oAB({type:ze}),ze.\u0275inj=d.cJS({providers:[ye]}),ze})();function dt(ze,_t,yt,ot,Ue){const[,Xe,mt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===ze)||[];if(Xe)return function Ye(ze,_t){try{return ze.toString()===_t.toString()}catch{return ze===_t}}(Ue,mt)||(pt("error",`${_t} was already initialized on the ${yt} Firebase App with different settings.${Ft?" You may need to reload as Firebase is not HMR aware.":""}`),pt("warn",{is:Ue,was:mt})),Xe;{const vt=ot();return globalThis.\u0275AngularfireInstanceCache.push([ze,vt,Ue]),vt}}const Ft=!!rn.hot,pt=(ze,..._t)=>{(0,d.X6Q)()&&typeof console<"u"&&console[ze](..._t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(rn,et,T)=>{T.d(et,{q4:()=>Pe,iC:()=>Lo,HU:()=>bo,vb:()=>qs,JM:()=>Ys});var d=T(4650),f=T(5867),P=T(5861),B=T(9681),_e=T(2090),Oe=T(4859),Fe=T(1877),he=T(8766);const Re="@firebase/installations",q="0.5.12",ye=`w:${q}`,tt="FIS_v2",_t=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yt(F){return F instanceof _e.ZR&&F.code.includes("request-failed")}function ot({projectId:F}){return`https://firebaseinstallations.googleapis.com/v1/projects/${F}/installations`}function Ue(F){return{token:F.token,requestStatus:2,expiresIn:Qe(F.expiresIn),creationTime:Date.now()}}function Xe(F,H){return mt.apply(this,arguments)}function mt(){return(mt=(0,P.Z)(function*(F,H){const Ve=(yield H.json()).error;return _t.create("request-failed",{requestName:F,serverCode:Ve.code,serverMessage:Ve.message,serverStatus:Ve.status})})).apply(this,arguments)}function vt({apiKey:F}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F})}function nt(F,{refreshToken:H}){const le=vt(F);return le.append("Authorization",function Ct(F){return`${tt} ${F}`}(H)),le}function Ae(F){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(F){const H=yield F();return H.status>=500&&H.status<600?F():H})).apply(this,arguments)}function Qe(F){return Number(F.replace("s","000"))}function Et(F,H){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,P.Z)(function*({appConfig:F,heartbeatServiceProvider:H},{fid:le}){const Ve=ot(F),bt=vt(F),Nt=H.getImmediate({optional:!0});if(Nt){const wi=yield Nt.getHeartbeatsHeader();wi&&bt.append("x-firebase-client",wi)}const In={method:"POST",headers:bt,body:JSON.stringify({fid:le,authVersion:tt,appId:F.appId,sdkVersion:ye})},Un=yield Ae(()=>fetch(Ve,In));if(Un.ok){const wi=yield Un.json();return{fid:wi.fid||le,registrationStatus:2,refreshToken:wi.refreshToken,authToken:Ue(wi.authToken)}}throw yield Xe("Create Installation",Un)})).apply(this,arguments)}function En(F){return new Promise(H=>{setTimeout(H,F)})}const Rn=/^[cdef][\w-]{21}$/;function qe(){try{const F=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(F),F[0]=112+F[0]%16;const le=function Yt(F){return function sn(F){return btoa(String.fromCharCode(...F)).replace(/\+/g,"-").replace(/\//g,"_")}(F).substr(0,22)}(F);return Rn.test(le)?le:""}catch{return""}}function Dt(F){return`${F.appName}!${F.appId}`}const jt=new Map;function $t(F,H){const le=Dt(F);Hn(le,H),function xi(F,H){const le=function jn(){return!Gn&&"BroadcastChannel"in self&&(Gn=new BroadcastChannel("[Firebase] FID Change"),Gn.onmessage=F=>{Hn(F.data.key,F.data.fid)}),Gn}();le&&le.postMessage({key:F,fid:H}),function Ii(){0===jt.size&&Gn&&(Gn.close(),Gn=null)}()}(le,H)}function Hn(F,H){const le=jt.get(F);if(le)for(const Ve of le)Ve(H)}let Gn=null;const zt="firebase-installations-store";let qn=null;function ei(){return qn||(qn=(0,he.X3)("firebase-installations-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(zt)}})),qn}function en(F,H){return $n.apply(this,arguments)}function $n(){return($n=(0,P.Z)(function*(F,H){const le=Dt(F),bt=(yield ei()).transaction(zt,"readwrite"),Nt=bt.objectStore(zt),cn=yield Nt.get(le);return yield Nt.put(H,le),yield bt.done,(!cn||cn.fid!==H.fid)&&$t(F,H.fid),H})).apply(this,arguments)}function ti(F){return fi.apply(this,arguments)}function fi(){return(fi=(0,P.Z)(function*(F){const H=Dt(F),Ve=(yield ei()).transaction(zt,"readwrite");yield Ve.objectStore(zt).delete(H),yield Ve.done})).apply(this,arguments)}function Pi(F,H){return zi.apply(this,arguments)}function zi(){return(zi=(0,P.Z)(function*(F,H){const le=Dt(F),bt=(yield ei()).transaction(zt,"readwrite"),Nt=bt.objectStore(zt),cn=yield Nt.get(le),In=H(cn);return void 0===In?yield Nt.delete(le):yield Nt.put(In,le),yield bt.done,In&&(!cn||cn.fid!==In.fid)&&$t(F,In.fid),In})).apply(this,arguments)}function Fn(F){return yi.apply(this,arguments)}function yi(){return(yi=(0,P.Z)(function*(F){let H;const le=yield Pi(F.appConfig,Ve=>{const bt=Qt(Ve),Nt=gt(F,bt);return H=Nt.registrationPromise,Nt.installationEntry});return""===le.fid?{installationEntry:yield H}:{installationEntry:le,registrationPromise:H}})).apply(this,arguments)}function Qt(F){return je(F||{fid:qe(),registrationStatus:0})}function gt(F,H){if(0===H.registrationStatus){if(!navigator.onLine)return{installationEntry:H,registrationPromise:Promise.reject(_t.create("app-offline"))};const le={fid:H.fid,registrationStatus:1,registrationTime:Date.now()},Ve=function Te(F,H){return wt.apply(this,arguments)}(F,le);return{installationEntry:le,registrationPromise:Ve}}return 1===H.registrationStatus?{installationEntry:H,registrationPromise:Lt(F)}:{installationEntry:H}}function wt(){return(wt=(0,P.Z)(function*(F,H){try{const le=yield Et(F,H);return en(F.appConfig,le)}catch(le){throw yt(le)&&409===le.customData.serverCode?yield ti(F.appConfig):yield en(F.appConfig,{fid:H.fid,registrationStatus:0}),le}})).apply(this,arguments)}function Lt(F){return qt.apply(this,arguments)}function qt(){return(qt=(0,P.Z)(function*(F){let H=yield Cn(F.appConfig);for(;1===H.registrationStatus;)yield En(100),H=yield Cn(F.appConfig);if(0===H.registrationStatus){const{installationEntry:le,registrationPromise:Ve}=yield Fn(F);return Ve||le}return H})).apply(this,arguments)}function Cn(F){return Pi(F,H=>{if(!H)throw _t.create("installation-not-found");return je(H)})}function je(F){return function It(F){return 1===F.registrationStatus&&F.registrationTime+1e4<Date.now()}(F)?{fid:F.fid,registrationStatus:0}:F}function $(F,H){return ee.apply(this,arguments)}function ee(){return(ee=(0,P.Z)(function*({appConfig:F,heartbeatServiceProvider:H},le){const Ve=se(F,le),bt=nt(F,le),Nt=H.getImmediate({optional:!0});if(Nt){const wi=yield Nt.getHeartbeatsHeader();wi&&bt.append("x-firebase-client",wi)}const In={method:"POST",headers:bt,body:JSON.stringify({installation:{sdkVersion:ye,appId:F.appId}})},Un=yield Ae(()=>fetch(Ve,In));if(Un.ok)return Ue(yield Un.json());throw yield Xe("Generate Auth Token",Un)})).apply(this,arguments)}function se(F,{fid:H}){return`${ot(F)}/${H}/authTokens:generate`}function Q(F){return de.apply(this,arguments)}function de(){return(de=(0,P.Z)(function*(F,H=!1){let le;const Ve=yield Pi(F.appConfig,Nt=>{if(!it(Nt))throw _t.create("not-registered");const cn=Nt.authToken;if(!H&&nn(cn))return Nt;if(1===cn.requestStatus)return le=ve(F,H),Nt;{if(!navigator.onLine)throw _t.create("app-offline");const In=dn(Nt);return le=Ie(F,In),In}});return le?yield le:Ve.authToken})).apply(this,arguments)}function ve(F,H){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(F,H){let le=yield Ce(F.appConfig);for(;1===le.authToken.requestStatus;)yield En(100),le=yield Ce(F.appConfig);const Ve=le.authToken;return 0===Ve.requestStatus?Q(F,H):Ve})).apply(this,arguments)}function Ce(F){return Pi(F,H=>{if(!it(H))throw _t.create("not-registered");return function at(F){return 1===F.requestStatus&&F.requestTime+1e4<Date.now()}(H.authToken)?Object.assign(Object.assign({},H),{authToken:{requestStatus:0}}):H})}function Ie(F,H){return Je.apply(this,arguments)}function Je(){return(Je=(0,P.Z)(function*(F,H){try{const le=yield $(F,H),Ve=Object.assign(Object.assign({},H),{authToken:le});return yield en(F.appConfig,Ve),le}catch(le){if(!yt(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const Ve=Object.assign(Object.assign({},H),{authToken:{requestStatus:0}});yield en(F.appConfig,Ve)}else yield ti(F.appConfig);throw le}})).apply(this,arguments)}function it(F){return void 0!==F&&2===F.registrationStatus}function nn(F){return 2===F.requestStatus&&!function fn(F){const H=Date.now();return H<F.creationTime||F.creationTime+F.expiresIn<H+36e5}(F)}function dn(F){const H={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},F),{authToken:H})}function He(){return(He=(0,P.Z)(function*(F){const H=F,{installationEntry:le,registrationPromise:Ve}=yield Fn(H);return Ve?Ve.catch(console.error):Q(H).catch(console.error),le.fid})).apply(this,arguments)}function Ge(){return(Ge=(0,P.Z)(function*(F,H=!1){const le=F;return yield Le(le),(yield Q(le,H)).token})).apply(this,arguments)}function Le(F){return be.apply(this,arguments)}function be(){return(be=(0,P.Z)(function*(F){const{registrationPromise:H}=yield Fn(F);H&&(yield H)})).apply(this,arguments)}function rt(F){return _t.create("missing-app-config-values",{valueName:F})}const ie="installations",Ee=F=>{const H=F.getProvider("app").getImmediate(),le=function oi(F){if(!F||!F.options)throw rt("App Configuration");if(!F.name)throw rt("App Name");const H=["projectId","apiKey","appId"];for(const le of H)if(!F.options[le])throw rt(le);return{appName:F.name,projectId:F.options.projectId,apiKey:F.options.apiKey,appId:F.options.appId}}(H);return{app:H,appConfig:le,heartbeatServiceProvider:(0,B._getProvider)(H,"heartbeat"),_delete:()=>Promise.resolve()}},K=F=>{const H=F.getProvider("app").getImmediate(),le=(0,B._getProvider)(H,ie).getImmediate();return{getId:()=>function ke(F){return He.apply(this,arguments)}(le),getToken:bt=>function Tt(F){return Ge.apply(this,arguments)}(le,bt)}};(function De(){(0,B._registerComponent)(new Oe.wA(ie,Ee,"PUBLIC")),(0,B._registerComponent)(new Oe.wA("installations-internal",K,"PRIVATE"))})(),(0,B.registerVersion)(Re,q),(0,B.registerVersion)(Re,q,"esm2017");const Se="@firebase/remote-config",Jn=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gs{constructor(H,le,Ve,bt){this.client=H,this.storage=le,this.storageCache=Ve,this.logger=bt}isCachedDataFresh(H,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ve=Date.now()-le,bt=Ve<=H;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ve}. Cache max age millis (minimumFetchIntervalMillis setting): ${H}. Is cache hit: ${bt}.`),bt}fetch(H){var le=this;return(0,P.Z)(function*(){const[Ve,bt]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(bt&&le.isCachedDataFresh(H.cacheMaxAgeMillis,Ve))return bt;H.eTag=bt&&bt.eTag;const Nt=yield le.client.fetch(H),cn=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Nt.status&&cn.push(le.storage.setLastSuccessfulFetchResponse(Nt)),yield Promise.all(cn),Nt})()}}function uo(F=navigator){return F.languages&&F.languages[0]||F.language}class Na{constructor(H,le,Ve,bt,Nt,cn){this.firebaseInstallations=H,this.sdkVersion=le,this.namespace=Ve,this.projectId=bt,this.apiKey=Nt,this.appId=cn}fetch(H){var le=this;return(0,P.Z)(function*(){var Ve,bt,Nt;const[cn,In]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),wi=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,zn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":H.eTag||"*"},ui={sdk_version:le.sdkVersion,app_instance_id:cn,app_instance_id_token:In,app_id:le.appId,language_code:uo()},zr={method:"POST",headers:zn,body:JSON.stringify(ui)},Cr=fetch(wi,zr),Wl=new Promise((Or,Xa)=>{H.signal.addEventListener(()=>{const Bc=new Error("The operation was aborted.");Bc.name="AbortError",Xa(Bc)})});let Ta;try{yield Promise.race([Cr,Wl]),Ta=yield Cr}catch(Or){let Xa="fetch-client-network";throw"AbortError"===(null===(Ve=Or)||void 0===Ve?void 0:Ve.name)&&(Xa="fetch-timeout"),Jn.create(Xa,{originalErrorMessage:null===(bt=Or)||void 0===bt?void 0:bt.message})}let Zo=Ta.status;const Qo=Ta.headers.get("ETag")||void 0;let ha,Tl;if(200===Ta.status){let Or;try{Or=yield Ta.json()}catch(Xa){throw Jn.create("fetch-client-parse",{originalErrorMessage:null===(Nt=Xa)||void 0===Nt?void 0:Nt.message})}ha=Or.entries,Tl=Or.state}if("INSTANCE_STATE_UNSPECIFIED"===Tl?Zo=500:"NO_CHANGE"===Tl?Zo=304:("NO_TEMPLATE"===Tl||"EMPTY_CONFIG"===Tl)&&(ha={}),304!==Zo&&200!==Zo)throw Jn.create("fetch-status",{httpStatus:Zo});return{status:Zo,eTag:Qo,config:ha}})()}}class ht{constructor(H,le){this.client=H,this.storage=le}fetch(H){var le=this;return(0,P.Z)(function*(){const Ve=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(H,Ve)})()}attemptFetch(H,{throttleEndTimeMillis:le,backoffCount:Ve}){var bt=this;return(0,P.Z)(function*(){yield function cs(F,H){return new Promise((le,Ve)=>{const bt=Math.max(H-Date.now(),0),Nt=setTimeout(le,bt);F.addEventListener(()=>{clearTimeout(Nt),Ve(Jn.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}(H.signal,le);try{const Nt=yield bt.client.fetch(H);return yield bt.storage.deleteThrottleMetadata(),Nt}catch(Nt){if(!function ft(F){if(!(F instanceof _e.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}(Nt))throw Nt;const cn={throttleEndTimeMillis:Date.now()+(0,_e.$s)(Ve),backoffCount:Ve+1};return yield bt.storage.setThrottleMetadata(cn),bt.attemptFetch(H,cn)}})()}}class yn{constructor(H,le,Ve,bt,Nt){this.app=H,this._client=le,this._storageCache=Ve,this._storage=bt,this._logger=Nt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tn(F,H){var le;const Ve=F.target.error||void 0;return Jn.create(H,{originalErrorMessage:Ve&&(null===(le=Ve)||void 0===le?void 0:le.message)})}const di="app_namespace_store";class ar{constructor(H,le,Ve,bt=function Xi(){return new Promise((F,H)=>{var le;try{const Ve=indexedDB.open("firebase_remote_config",1);Ve.onerror=bt=>{H(Tn(bt,"storage-open"))},Ve.onsuccess=bt=>{F(bt.target.result)},Ve.onupgradeneeded=bt=>{0===bt.oldVersion&&bt.target.result.createObjectStore(di,{keyPath:"compositeKey"})}}catch(Ve){H(Jn.create("storage-open",{originalErrorMessage:null===(le=Ve)||void 0===le?void 0:le.message}))}})}()){this.appId=H,this.appName=le,this.namespace=Ve,this.openDbPromise=bt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(H){return this.set("last_fetch_status",H)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(H){return this.set("last_successful_fetch_timestamp_millis",H)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(H){return this.set("last_successful_fetch_response",H)}getActiveConfig(){return this.get("active_config")}setActiveConfig(H){return this.set("active_config",H)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(H){return this.set("active_config_etag",H)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(H){return this.set("throttle_metadata",H)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(H){var le=this;return(0,P.Z)(function*(){const Ve=yield le.openDbPromise;return new Promise((bt,Nt)=>{var cn;const Un=Ve.transaction([di],"readonly").objectStore(di),wi=le.createCompositeKey(H);try{const zn=Un.get(wi);zn.onerror=ui=>{Nt(Tn(ui,"storage-get"))},zn.onsuccess=ui=>{const zr=ui.target.result;bt(zr?zr.value:void 0)}}catch(zn){Nt(Jn.create("storage-get",{originalErrorMessage:null===(cn=zn)||void 0===cn?void 0:cn.message}))}})})()}set(H,le){var Ve=this;return(0,P.Z)(function*(){const bt=yield Ve.openDbPromise;return new Promise((Nt,cn)=>{var In;const wi=bt.transaction([di],"readwrite").objectStore(di),zn=Ve.createCompositeKey(H);try{const ui=wi.put({compositeKey:zn,value:le});ui.onerror=zr=>{cn(Tn(zr,"storage-set"))},ui.onsuccess=()=>{Nt()}}catch(ui){cn(Jn.create("storage-set",{originalErrorMessage:null===(In=ui)||void 0===In?void 0:In.message}))}})})()}delete(H){var le=this;return(0,P.Z)(function*(){const Ve=yield le.openDbPromise;return new Promise((bt,Nt)=>{var cn;const Un=Ve.transaction([di],"readwrite").objectStore(di),wi=le.createCompositeKey(H);try{const zn=Un.delete(wi);zn.onerror=ui=>{Nt(Tn(ui,"storage-delete"))},zn.onsuccess=()=>{bt()}}catch(zn){Nt(Jn.create("storage-delete",{originalErrorMessage:null===(cn=zn)||void 0===cn?void 0:cn.message}))}})})()}createCompositeKey(H){return[this.appId,this.appName,this.namespace,H].join()}}class Zr{constructor(H){this.storage=H}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var H=this;return(0,P.Z)(function*(){const le=H.storage.getLastFetchStatus(),Ve=H.storage.getLastSuccessfulFetchTimestampMillis(),bt=H.storage.getActiveConfig(),Nt=yield le;Nt&&(H.lastFetchStatus=Nt);const cn=yield Ve;cn&&(H.lastSuccessfulFetchTimestampMillis=cn);const In=yield bt;In&&(H.activeConfig=In)})()}setLastFetchStatus(H){return this.lastFetchStatus=H,this.storage.setLastFetchStatus(H)}setLastSuccessfulFetchTimestampMillis(H){return this.lastSuccessfulFetchTimestampMillis=H,this.storage.setLastSuccessfulFetchTimestampMillis(H)}setActiveConfig(H){return this.activeConfig=H,this.storage.setActiveConfig(H)}}function ks(){return Js.apply(this,arguments)}function Js(){return(Js=(0,P.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function Os(){(0,B._registerComponent)(new Oe.wA("remote-config",function F(H,{instanceIdentifier:le}){const Ve=H.getProvider("app").getImmediate(),bt=H.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!(0,_e.hl)())throw Jn.create("indexed-db-unavailable");const{projectId:Nt,apiKey:cn,appId:In}=Ve.options;if(!Nt)throw Jn.create("registration-project-id");if(!cn)throw Jn.create("registration-api-key");if(!In)throw Jn.create("registration-app-id");const Un=new ar(In,Ve.name,le=le||"firebase"),wi=new Zr(Un),zn=new Fe.Yd(Se);zn.logLevel=Fe.in.ERROR;const ui=new Na(bt,B.SDK_VERSION,le,Nt,cn,In),zr=new ht(ui,Un),Cr=new Gs(zr,Un,wi,zn),Wl=new yn(Ve,Cr,wi,Un,zn);return function Ti(F){const H=(0,_e.m9)(F);H._initializePromise||(H._initializePromise=H._storageCache.loadFromStorage().then(()=>{H._isInitializationComplete=!0}))}(Wl),Wl},"PUBLIC").setMultipleInstances(!0)),(0,B.registerVersion)(Se,"0.3.11"),(0,B.registerVersion)(Se,"0.3.11","esm2017")}();const Hr="/firebase-messaging-sw.js",Io="/firebase-cloud-messaging-push-scope",_a="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",xs="google.c.a.c_id",$s="google.c.a.c_l",Ps="google.c.a.ts",us="google.c.a.e";var Li=(()=>{return(F=Li||(Li={})).PUSH_RECEIVED="push-received",F.NOTIFICATION_CLICKED="notification-clicked",Li;var F})();function yr(F){const H=new Uint8Array(F);return btoa(String.fromCharCode(...H)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rs(F){const le=(F+"=".repeat((4-F.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ve=atob(le),bt=new Uint8Array(Ve.length);for(let Nt=0;Nt<Ve.length;++Nt)bt[Nt]=Ve.charCodeAt(Nt);return bt}const Ds="fcm_token_details_db",ds="fcm_token_object_Store";function Ao(F){return ya.apply(this,arguments)}function ya(){return ya=(0,P.Z)(function*(F){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Nt=>Nt.name).includes(Ds))return null;let H=null;return(yield(0,he.X3)(Ds,5,{upgrade:(Ve=(0,P.Z)(function*(bt,Nt,cn,In){var Un;if(Nt<2||!bt.objectStoreNames.contains(ds))return;const wi=In.objectStore(ds),zn=yield wi.index("fcmSenderId").get(F);if(yield wi.clear(),zn)if(2===Nt){const ui=zn;if(!ui.auth||!ui.p256dh||!ui.endpoint)return;H={token:ui.fcmToken,createTime:null!==(Un=ui.createTime)&&void 0!==Un?Un:Date.now(),subscriptionOptions:{auth:ui.auth,p256dh:ui.p256dh,endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:"string"==typeof ui.vapidKey?ui.vapidKey:yr(ui.vapidKey)}}}else if(3===Nt){const ui=zn;H={token:ui.fcmToken,createTime:ui.createTime,subscriptionOptions:{auth:yr(ui.auth),p256dh:yr(ui.p256dh),endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:yr(ui.vapidKey)}}}else if(4===Nt){const ui=zn;H={token:ui.fcmToken,createTime:ui.createTime,subscriptionOptions:{auth:yr(ui.auth),p256dh:yr(ui.p256dh),endpoint:ui.endpoint,swScope:ui.swScope,vapidKey:yr(ui.vapidKey)}}}}),function(Nt,cn,In,Un){return Ve.apply(this,arguments)})})).close(),yield(0,he.Lj)(Ds),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),ur(H)?H:null;var Ve}),ya.apply(this,arguments)}function ur(F){if(!F||!F.subscriptionOptions)return!1;const{subscriptionOptions:H}=F;return"number"==typeof F.createTime&&F.createTime>0&&"string"==typeof F.token&&F.token.length>0&&"string"==typeof H.auth&&H.auth.length>0&&"string"==typeof H.p256dh&&H.p256dh.length>0&&"string"==typeof H.endpoint&&H.endpoint.length>0&&"string"==typeof H.swScope&&H.swScope.length>0&&"string"==typeof H.vapidKey&&H.vapidKey.length>0}const Lr="firebase-messaging-store";let Ar=null;function Is(){return Ar||(Ar=(0,he.X3)("firebase-messaging-database",1,{upgrade:(F,H)=>{0===H&&F.createObjectStore(Lr)}})),Ar}function hs(F){return ho.apply(this,arguments)}function ho(){return(ho=(0,P.Z)(function*(F){const H=ss(F),Ve=yield(yield Is()).transaction(Lr).objectStore(Lr).get(H);if(Ve)return Ve;{const bt=yield Ao(F.appConfig.senderId);if(bt)return yield Ni(F,bt),bt}})).apply(this,arguments)}function Ni(F,H){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,P.Z)(function*(F,H){const le=ss(F),bt=(yield Is()).transaction(Lr,"readwrite");return yield bt.objectStore(Lr).put(H,le),yield bt.done,H})).apply(this,arguments)}function Gr(F){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*(F){const H=ss(F),Ve=(yield Is()).transaction(Lr,"readwrite");yield Ve.objectStore(Lr).delete(H),yield Ve.done})).apply(this,arguments)}function ss({appConfig:F}){return F.appId}const dr=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function mi(F,H){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,P.Z)(function*(F,H){var le;const Ve=yield fs(F),bt=tn(H),Nt={method:"POST",headers:Ve,body:JSON.stringify(bt)};let cn;try{cn=yield(yield fetch($r(F.appConfig),Nt)).json()}catch(In){throw dr.create("token-subscribe-failed",{errorInfo:null===(le=In)||void 0===le?void 0:le.toString()})}if(cn.error)throw dr.create("token-subscribe-failed",{errorInfo:cn.error.message});if(!cn.token)throw dr.create("token-subscribe-no-token");return cn.token})).apply(this,arguments)}function ra(F,H){return po.apply(this,arguments)}function po(){return(po=(0,P.Z)(function*(F,H){var le;const Ve=yield fs(F),bt=tn(H.subscriptionOptions),Nt={method:"PATCH",headers:Ve,body:JSON.stringify(bt)};let cn;try{cn=yield(yield fetch(`${$r(F.appConfig)}/${H.token}`,Nt)).json()}catch(In){throw dr.create("token-update-failed",{errorInfo:null===(le=In)||void 0===le?void 0:le.toString()})}if(cn.error)throw dr.create("token-update-failed",{errorInfo:cn.error.message});if(!cn.token)throw dr.create("token-update-no-token");return cn.token})).apply(this,arguments)}function sa(F,H){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,P.Z)(function*(F,H){var le;const bt={method:"DELETE",headers:yield fs(F)};try{const cn=yield(yield fetch(`${$r(F.appConfig)}/${H}`,bt)).json();if(cn.error)throw dr.create("token-unsubscribe-failed",{errorInfo:cn.error.message})}catch(Nt){throw dr.create("token-unsubscribe-failed",{errorInfo:null===(le=Nt)||void 0===le?void 0:le.toString()})}})).apply(this,arguments)}function $r({projectId:F}){return`https://fcmregistrations.googleapis.com/v1/projects/${F}/registrations`}function fs(F){return va.apply(this,arguments)}function va(){return(va=(0,P.Z)(function*({appConfig:F,installations:H}){const le=yield H.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":F.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function tn({p256dh:F,auth:H,endpoint:le,vapidKey:Ve}){const bt={web:{endpoint:le,auth:H,p256dh:F}};return Ve!==_a&&(bt.web.applicationPubKey=Ve),bt}const vi=6048e5;function Go(F){return So.apply(this,arguments)}function So(){return(So=(0,P.Z)(function*(F){const H=yield Zn(F.swRegistration,F.vapidKey),le={vapidKey:F.vapidKey,swScope:F.swRegistration.scope,endpoint:H.endpoint,auth:yr(H.getKey("auth")),p256dh:yr(H.getKey("p256dh"))},Ve=yield hs(F.firebaseDependencies);if(Ve){if(os(Ve.subscriptionOptions,le))return Date.now()>=Ve.createTime+vi?V(F,{token:Ve.token,createTime:Date.now(),subscriptionOptions:le}):Ve.token;try{yield sa(F.firebaseDependencies,Ve.token)}catch(bt){console.warn(bt)}return pe(F.firebaseDependencies,le)}return pe(F.firebaseDependencies,le)})).apply(this,arguments)}function vr(F){return G.apply(this,arguments)}function G(){return(G=(0,P.Z)(function*(F){const H=yield hs(F.firebaseDependencies);H&&(yield sa(F.firebaseDependencies,H.token),yield Gr(F.firebaseDependencies));const le=yield F.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()})).apply(this,arguments)}function V(F,H){return L.apply(this,arguments)}function L(){return(L=(0,P.Z)(function*(F,H){try{const le=yield ra(F.firebaseDependencies,H),Ve=Object.assign(Object.assign({},H),{token:le,createTime:Date.now()});return yield Ni(F.firebaseDependencies,Ve),le}catch(le){throw yield vr(F),le}})).apply(this,arguments)}function pe(F,H){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(F,H){const Ve={token:yield mi(F,H),createTime:Date.now(),subscriptionOptions:H};return yield Ni(F,Ve),Ve.token})).apply(this,arguments)}function Zn(F,H){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(F,H){return(yield F.pushManager.getSubscription())||F.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rs(H)})})).apply(this,arguments)}function os(F,H){return H.vapidKey===F.vapidKey&&H.endpoint===F.endpoint&&H.auth===F.auth&&H.p256dh===F.p256dh}function Ns(F){const H={from:F.from,collapseKey:F.collapse_key,messageId:F.fcmMessageId};return function nr(F,H){if(!H.notification)return;F.notification={};const le=H.notification.title;le&&(F.notification.title=le);const Ve=H.notification.body;Ve&&(F.notification.body=Ve);const bt=H.notification.image;bt&&(F.notification.image=bt)}(H,F),function ps(F,H){!H.data||(F.data=H.data)}(H,F),function oa(F,H){var le,Ve,bt,Nt,cn;if(!(H.fcmOptions||null!==(le=H.notification)&&void 0!==le&&le.click_action))return;F.fcmOptions={};const In=null!==(bt=null===(Ve=H.fcmOptions)||void 0===Ve?void 0:Ve.link)&&void 0!==bt?bt:null===(Nt=H.notification)||void 0===Nt?void 0:Nt.click_action;In&&(F.fcmOptions.link=In);const Un=null===(cn=H.fcmOptions)||void 0===cn?void 0:cn.analytics_label;Un&&(F.fcmOptions.analyticsLabel=Un)}(H,F),H}function go(F){return"object"==typeof F&&!!F&&xs in F}function As(F,H){const le=[];for(let Ve=0;Ve<F.length;Ve++)le.push(F.charAt(Ve)),Ve<H.length&&le.push(H.charAt(Ve));return le.join("")}function ba(F){return dr.create("missing-app-config-values",{valueName:F})}As("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),As("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Lc{constructor(H,le,Ve){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const bt=function To(F){if(!F||!F.options)throw ba("App Configuration Object");if(!F.name)throw ba("App Name");const H=["projectId","apiKey","appId","messagingSenderId"],{options:le}=F;for(const Ve of H)if(!le[Ve])throw ba(Ve);return{appName:F.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(H);this.firebaseDependencies={app:H,appConfig:bt,installations:le,analyticsProvider:Ve}}_delete(){return Promise.resolve()}}function wa(F){return $o.apply(this,arguments)}function $o(){return($o=(0,P.Z)(function*(F){var H;try{F.swRegistration=yield navigator.serviceWorker.register(Hr,{scope:Io}),F.swRegistration.update().catch(()=>{})}catch(le){throw dr.create("failed-service-worker-registration",{browserErrorMessage:null===(H=le)||void 0===H?void 0:H.message})}})).apply(this,arguments)}function zo(F,H){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(F,H){if(!H&&!F.swRegistration&&(yield wa(F)),H||!F.swRegistration){if(!(H instanceof ServiceWorkerRegistration))throw dr.create("invalid-sw-registration");F.swRegistration=H}})).apply(this,arguments)}function mo(F,H){return _o.apply(this,arguments)}function _o(){return(_o=(0,P.Z)(function*(F,H){H?F.vapidKey=H:F.vapidKey||(F.vapidKey=_a)})).apply(this,arguments)}function Ro(){return(Ro=(0,P.Z)(function*(F,H){if(!navigator)throw dr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw dr.create("permission-blocked");return yield mo(F,H?.vapidKey),yield zo(F,H?.serviceWorkerRegistration),Go(F)})).apply(this,arguments)}function fc(F,H,le){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,P.Z)(function*(F,H,le){const Ve=Wo(H);(yield F.firebaseDependencies.analyticsProvider.get()).logEvent(Ve,{message_id:le[xs],message_name:le[$s],message_time:le[Ps],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wo(F){switch(F){case Li.NOTIFICATION_CLICKED:return"notification_open";case Li.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function X(){return(X=(0,P.Z)(function*(F,H){const le=H.data;if(!le.isFirebaseMessaging)return;F.onMessageHandler&&le.messageType===Li.PUSH_RECEIVED&&("function"==typeof F.onMessageHandler?F.onMessageHandler(Ns(le)):F.onMessageHandler.next(Ns(le)));const Ve=le.data;go(Ve)&&"1"===Ve[us]&&(yield fc(F,le.messageType,Ve))})).apply(this,arguments)}const N="@firebase/messaging",$e=F=>{const H=new Lc(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),F.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function O(F,H){return X.apply(this,arguments)}(H,le)),H},Rt=F=>{const H=F.getProvider("messaging").getImmediate();return{getToken:Ve=>function cl(F,H){return Ro.apply(this,arguments)}(H,Ve)}};function Pn(){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,P.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Gt(){(0,B._registerComponent)(new Oe.wA("messaging",$e,"PUBLIC")),(0,B._registerComponent)(new Oe.wA("messaging-internal",Rt,"PRIVATE")),(0,B.registerVersion)(N,"0.9.16"),(0,B.registerVersion)(N,"0.9.16","esm2017")}();const Xr="analytics",Ks="firebase_id",Va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ul="https://www.googletagmanager.com/gtag/js",fr=new Fe.Yd("@firebase/analytics");function Ca(F){return Promise.all(F.map(H=>H.catch(le=>le)))}function dl(F,H){const le=document.createElement("script");le.src=`${ul}?l=${F}&id=${H}`,le.async=!0,document.head.appendChild(le)}function gc(F,H,le,Ve,bt,Nt){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,P.Z)(function*(F,H,le,Ve,bt,Nt){const cn=Ve[bt];try{if(cn)yield H[cn];else{const Un=(yield Ca(le)).find(wi=>wi.measurementId===bt);Un&&(yield H[Un.appId])}}catch(In){fr.error(In)}F("config",bt,Nt)})).apply(this,arguments)}function Oo(F,H,le,Ve,bt){return Br.apply(this,arguments)}function Br(){return(Br=(0,P.Z)(function*(F,H,le,Ve,bt){try{let Nt=[];if(bt&&bt.send_to){let cn=bt.send_to;Array.isArray(cn)||(cn=[cn]);const In=yield Ca(le);for(const Un of cn){const wi=In.find(ui=>ui.measurementId===Un),zn=wi&&H[wi.appId];if(!zn){Nt=[];break}Nt.push(zn)}}0===Nt.length&&(Nt=Object.values(H)),yield Promise.all(Nt),F("event",Ve,bt||{})}catch(Nt){fr.error(Nt)}})).apply(this,arguments)}function on(){const F=window.document.getElementsByTagName("script");for(const H of Object.values(F))if(H.src&&H.src.includes(ul))return H;return null}const pr=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Dl=new class _i{constructor(H={},le=1e3){this.throttleMetadata=H,this.intervalMillis=le}getThrottleMetadata(H){return this.throttleMetadata[H]}setThrottleMetadata(H,le){this.throttleMetadata[H]=le}deleteThrottleMetadata(H){delete this.throttleMetadata[H]}};function xt(F){return new Headers({Accept:"application/json","x-goog-api-key":F})}function Vt(F){return un.apply(this,arguments)}function un(){return(un=(0,P.Z)(function*(F){var H;const{appId:le,apiKey:Ve}=F,bt={method:"GET",headers:xt(Ve)},Nt=Va.replace("{app-id}",le),cn=yield fetch(Nt,bt);if(200!==cn.status&&304!==cn.status){let In="";try{const Un=yield cn.json();null!==(H=Un.error)&&void 0!==H&&H.message&&(In=Un.error.message)}catch{}throw pr.create("config-fetch-failed",{httpStatus:cn.status,responseMessage:In})}return cn.json()})).apply(this,arguments)}function Jr(F){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,P.Z)(function*(F,H=Dl,le){const{appId:Ve,apiKey:bt,measurementId:Nt}=F.options;if(!Ve)throw pr.create("no-app-id");if(!bt){if(Nt)return{measurementId:Nt,appId:Ve};throw pr.create("no-api-key")}const cn=H.getThrottleMetadata(Ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},In=new Ha;return setTimeout((0,P.Z)(function*(){In.abort()}),void 0!==le?le:6e4),aa({appId:Ve,apiKey:bt,measurementId:Nt},cn,In,H)})).apply(this,arguments)}function aa(F,H,le){return Us.apply(this,arguments)}function Us(){return(Us=(0,P.Z)(function*(F,{throttleEndTimeMillis:H,backoffCount:le},Ve,bt=Dl){var Nt,cn;const{appId:In,measurementId:Un}=F;try{yield ja(Ve,H)}catch(wi){if(Un)return fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${null===(Nt=wi)||void 0===Nt?void 0:Nt.message}]`),{appId:In,measurementId:Un};throw wi}try{const wi=yield Vt(F);return bt.deleteThrottleMetadata(In),wi}catch(wi){const zn=wi;if(!ko(zn)){if(bt.deleteThrottleMetadata(In),Un)return fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Un} provided in the "measurementId" field in the local Firebase config. [${zn?.message}]`),{appId:In,measurementId:Un};throw wi}const ui=503===Number(null===(cn=zn?.customData)||void 0===cn?void 0:cn.httpStatus)?(0,_e.$s)(le,bt.intervalMillis,30):(0,_e.$s)(le,bt.intervalMillis),zr={throttleEndTimeMillis:Date.now()+ui,backoffCount:le+1};return bt.setThrottleMetadata(In,zr),fr.debug(`Calling attemptFetch again in ${ui} millis`),aa(F,zr,Ve,bt)}})).apply(this,arguments)}function ja(F,H){return new Promise((le,Ve)=>{const bt=Math.max(H-Date.now(),0),Nt=setTimeout(le,bt);F.addEventListener(()=>{clearTimeout(Nt),Ve(pr.create("fetch-throttle",{throttleEndTimeMillis:H}))})})}function ko(F){if(!(F instanceof _e.ZR&&F.customData))return!1;const H=Number(F.customData.httpStatus);return 429===H||500===H||503===H||504===H}class Ha{constructor(){this.listeners=[]}addEventListener(H){this.listeners.push(H)}abort(){this.listeners.forEach(H=>H())}}let Da,Oi;function Ga(){return(Ga=(0,P.Z)(function*(F,H,le,Ve,bt){if(bt&&bt.global)F("event",le,Ve);else{const Nt=yield H;F("event",le,Object.assign(Object.assign({},Ve),{send_to:Nt}))}})).apply(this,arguments)}function yo(F){Oi=F}function Ji(F){Da=F}function _n(){return ca.apply(this,arguments)}function ca(){return(ca=(0,P.Z)(function*(){var F;if(!(0,_e.hl)())return fr.warn(pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(H){return fr.warn(pr.create("indexeddb-unavailable",{errorInfo:null===(F=H)||void 0===F?void 0:F.toString()}).message),!1}return!0})).apply(this,arguments)}function ms(){return(ms=(0,P.Z)(function*(F,H,le,Ve,bt,Nt,cn){var In;const Un=Jr(F);Un.then(Cr=>{le[Cr.measurementId]=Cr.appId,F.options.measurementId&&Cr.measurementId!==F.options.measurementId&&fr.warn(`The measurement ID in the local Firebase config (${F.options.measurementId}) does not match the measurement ID fetched from the server (${Cr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Cr=>fr.error(Cr)),H.push(Un);const wi=_n().then(Cr=>{if(Cr)return Ve.getId()}),[zn,ui]=yield Promise.all([Un,wi]);on()||dl(Nt,zn.measurementId),Oi&&(bt("consent","default",Oi),yo(void 0)),bt("js",new Date);const zr=null!==(In=cn?.config)&&void 0!==In?In:{};return zr.origin="firebase",zr.update=!0,null!=ui&&(zr[Ks]=ui),bt("config",zn.measurementId,zr),Da&&(bt("set",Da),Ji(void 0)),zn.measurementId})).apply(this,arguments)}class qi{constructor(H){this.app=H}_delete(){return delete es[this.app.options.appId],Promise.resolve()}}let es={},_s=[];const ys={};let er,no,Fo="dataLayer",za=!1;function Wa(F,H,le){!function Ko(){const F=[];if((0,_e.ru)()&&F.push("This is a browser extension environment."),(0,_e.zI)()||F.push("Cookies are not available."),F.length>0){const H=F.map((Ve,bt)=>`(${bt+1}) ${Ve}`).join(" "),le=pr.create("invalid-analytics-context",{errorInfo:H});fr.warn(le.message)}}();const Ve=F.options.appId;if(!Ve)throw pr.create("no-app-id");if(!F.options.apiKey){if(!F.options.measurementId)throw pr.create("no-api-key");fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${F.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=es[Ve])throw pr.create("already-exists",{id:Ve});if(!za){!function pc(F){let H=[];Array.isArray(window[F])?H=window[F]:window[F]=H}(Fo);const{wrappedGtag:Nt,gtagCore:cn}=function xa(F,H,le,Ve,bt){let Nt=function(...cn){window[Ve].push(arguments)};return window[bt]&&"function"==typeof window[bt]&&(Nt=window[bt]),window[bt]=function hl(F,H,le,Ve){function Nt(){return(Nt=(0,P.Z)(function*(cn,In,Un){try{"event"===cn?yield Oo(F,H,le,In,Un):"config"===cn?yield gc(F,H,le,Ve,In,Un):"consent"===cn?F("consent","update",Un):F("set",In)}catch(wi){fr.error(wi)}})).apply(this,arguments)}return function bt(cn,In,Un){return Nt.apply(this,arguments)}}(Nt,F,H,le),{gtagCore:Nt,wrappedGtag:window[bt]}}(es,_s,ys,Fo,"gtag");no=Nt,er=cn,za=!0}return es[Ve]=function vo(F,H,le,Ve,bt,Nt,cn){return ms.apply(this,arguments)}(F,_s,ys,H,er,Fo,le),new qi(F)}function io(){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,P.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const zl="@firebase/analytics";!function js(){(0,B._registerComponent)(new Oe.wA(Xr,(H,{options:le})=>Wa(H.getProvider("app").getImmediate(),H.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,B._registerComponent)(new Oe.wA("analytics-internal",function F(H){try{const le=H.getProvider(Xr).getImmediate();return{logEvent:(Ve,bt,Nt)=>function fl(F,H,le,Ve){F=(0,_e.m9)(F),function Nc(F,H,le,Ve,bt){return Ga.apply(this,arguments)}(no,es[F.app.options.appId],H,le,Ve).catch(bt=>fr.error(bt))}(le,Ve,bt,Nt)}}catch(le){throw pr.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,B.registerVersion)(zl,"0.8.0"),(0,B.registerVersion)(zl,"0.8.0","esm2017")}();var as=T(4408),wr=T(7565);const I=new class D extends wr.v{}(class pl extends as.o{constructor(H,le){super(H,le),this.scheduler=H,this.work=le}schedule(H,le=0){return le>0?super.schedule(H,le):(this.delay=le,this.state=H,this.scheduler.flush(this),this)}execute(H,le){return le>0||this.closed?super.execute(H,le):this._execute(H,le)}requestAsyncId(H,le,Ve=0){return null!=Ve&&Ve>0||null==Ve&&this.delay>0?super.requestAsyncId(H,le,Ve):H.flush(this)}});var k=T(4986),j=T(8505),ce=T(9468),Ne=T(5363);const Pe=new d.GfV("7.4.1"),Ut="__angularfire_symbol__analyticsIsSupportedValue",mn="__angularfire_symbol__analyticsIsSupported",Kn="__angularfire_symbol__remoteConfigIsSupportedValue",Mn="__angularfire_symbol__remoteConfigIsSupported",$i="__angularfire_symbol__messagingIsSupportedValue",ls="__angularfire_symbol__messagingIsSupported";function Ys(F,H,le){if(H){if(1===H.length)return H[0];const Nt=H.filter(cn=>cn.app===le);if(1===Nt.length)return Nt[0]}return le.container.getProvider(F).getImmediate({optional:!0})}globalThis[mn]||(globalThis[mn]=io().then(F=>globalThis[Ut]=F).catch(()=>globalThis[Ut]=!1)),globalThis[ls]||(globalThis[ls]=Pn().then(F=>globalThis[$i]=F).catch(()=>globalThis[$i]=!1)),globalThis[Mn]||(globalThis[Mn]=ks().then(F=>globalThis[Kn]=F).catch(()=>globalThis[Kn]=!1));const qs=(F,H)=>{const le=H?[H]:(0,f.C6)(),Ve=[];return le.forEach(bt=>{bt.container.getProvider(F).instances.forEach(cn=>{Ve.includes(cn)||Ve.push(cn)})}),Ve};function so(){}class Sa{constructor(H,le=I){this.zone=H,this.delegate=le}now(){return this.delegate.now()}schedule(H,le,Ve){const bt=this.zone;return this.delegate.schedule(function(cn){bt.runGuarded(()=>{H.apply(this,[cn])})},le,Ve)}}class Yo{constructor(H){this.zone=H,this.task=null}call(H,le){const Ve=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",so,{},so,so)),le.pipe((0,j.b)({next:Ve,complete:Ve,error:Ve})).subscribe(H).add(Ve)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let bo=(()=>{class F{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new Sa(Zone.current)),this.insideAngular=le.run(()=>new Sa(Zone.current,k.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return F.\u0275fac=function(le){return new(le||F)(d.LFG(d.R0b))},F.\u0275prov=d.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function wo(){const F=globalThis.\u0275AngularFireScheduler;if(!F)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return F}function Lo(F){return wo(),function da(F){return function(le){return(le=le.lift(new Yo(F.ngZone))).pipe((0,ce.R)(F.outsideAngular),(0,Ne.Q)(F.insideAngular))}}(wo())(F)}},7929:(rn,et,T)=>{T.d(et,{$:()=>$o,A:()=>qe,B:()=>jt,G:()=>na,H:()=>ft,J:()=>yr,L:()=>Kt,M:()=>Ni,N:()=>ss,P:()=>Lo,Q:()=>fo,R:()=>bs,T:()=>dr,U:()=>Rr,V:()=>po,W:()=>sa,X:()=>tn,Y:()=>ps,Z:()=>go,_:()=>To,a:()=>Ji,a0:()=>cl,a1:()=>fc,a2:()=>Wo,a3:()=>X,a4:()=>fe,a5:()=>Rt,a6:()=>Pn,a7:()=>Mi,a8:()=>Hi,a9:()=>Bi,aA:()=>Ma,aB:()=>Xo,aC:()=>Or,aD:()=>Tl,aE:()=>Vi,aI:()=>vo,aL:()=>Fs,aa:()=>Ws,ab:()=>Xr,ac:()=>eo,af:()=>fr,ag:()=>dl,ah:()=>pc,ak:()=>G,al:()=>Ua,an:()=>ko,ao:()=>$a,ap:()=>ns,aq:()=>ei,ar:()=>Ai,as:()=>Mr,at:()=>Gn,au:()=>Gc,av:()=>Ja,aw:()=>jn,ax:()=>zt,ay:()=>$n,az:()=>pn,b:()=>Oi,c:()=>Nt,d:()=>wi,e:()=>In,f:()=>Hh,g:()=>Ml,h:()=>Zd,i:()=>zl,j:()=>Bu,k:()=>il,l:()=>Sa,m:()=>tc,o:()=>sn,r:()=>bo,s:()=>qs,u:()=>Sl});var d=T(5861),f=T(2090),P=T(9681);function Fe(C,g){var y={};for(var A in C)Object.prototype.hasOwnProperty.call(C,A)&&g.indexOf(A)<0&&(y[A]=C[A]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var Y=0;for(A=Object.getOwnPropertySymbols(C);Y<A.length;Y++)g.indexOf(A[Y])<0&&Object.prototype.propertyIsEnumerable.call(C,A[Y])&&(y[A[Y]]=C[A[Y]])}return y}var Et=T(1877),Pt=T(4859);const sn={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},qe={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const jt=function Yt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},$t=function Dt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},An=new f.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Hn=new Et.Yd("@firebase/auth");function xi(C,...g){Hn.logLevel<=Et.in.ERROR&&Hn.error(`Auth (${P.SDK_VERSION}): ${C}`,...g)}function Gn(C,...g){throw ii(C,...g)}function jn(C,...g){return ii(C,...g)}function Ii(C,g,y){const A=Object.assign(Object.assign({},$t()),{[g]:y});return new f.LL("auth","Firebase",A).create(g,{appName:C.name})}function Wn(C,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&Gn(C,"argument-error"),Ii(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ii(C,...g){if("string"!=typeof C){const y=g[0],A=[...g.slice(1)];return A[0]&&(A[0].appName=C.name),C._errorFactory.create(y,...A)}return An.create(C,...g)}function zt(C,g,...y){if(!C)throw ii(g,...y)}function qn(C){const g="INTERNAL ASSERTION FAILED: "+C;throw xi(g),new Error(g)}function ei(C,g){C||qn(g)}const en=new Map;function $n(C){ei(C instanceof Function,"Expected a class definition");let g=en.get(C);return g?(ei(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,en.set(C,g),g)}function Pi(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function zi(){return"http:"===Fn()||"https:"===Fn()}function Fn(){var C;return typeof self<"u"&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class gt{constructor(g,y){this.shortDelay=g,this.longDelay=y,ei(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,f.uI)()||(0,f.b$)()}get(){return function yi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zi()||(0,f.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Te(C,g){ei(C.emulator,"Emulator should always be set here");const{url:y}=C.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class wt{static initialize(g,y,A){this.fetchImpl=g,y&&(this.headersImpl=y),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qt=new gt(3e4,6e4);function Cn(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function je(C,g,y,A){return It.apply(this,arguments)}function It(){return(It=(0,d.Z)(function*(C,g,y,A,Y={}){return $(C,Y,(0,d.Z)(function*(){let re={},ct={};A&&("GET"===g?ct=A:re={body:JSON.stringify(A)});const Ht=(0,f.xO)(Object.assign({key:C.config.apiKey},ct)).slice(1),vn=yield C._getAdditionalHeaders();return vn["Content-Type"]="application/json",C.languageCode&&(vn["X-Firebase-Locale"]=C.languageCode),wt.fetch()(de(C,C.config.apiHost,y,Ht),Object.assign({method:g,headers:vn,referrerPolicy:"no-referrer"},re))}))})).apply(this,arguments)}function $(C,g,y){return ee.apply(this,arguments)}function ee(){return(ee=(0,d.Z)(function*(C,g,y){C._canInitEmulator=!1;const A=Object.assign(Object.assign({},Lt),g);try{const Y=new ve(C),re=yield Promise.race([y(),Y.promise]);Y.clearNetworkTimeout();const ct=yield re.json();if("needConfirmation"in ct)throw J(C,"account-exists-with-different-credential",ct);if(re.ok&&!("errorMessage"in ct))return ct;{const Ht=re.ok?ct.errorMessage:ct.error.message,[vn,bn]=Ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw J(C,"credential-already-in-use",ct);if("EMAIL_EXISTS"===vn)throw J(C,"email-already-in-use",ct);if("USER_DISABLED"===vn)throw J(C,"user-disabled",ct);const ri=A[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(bn)throw Ii(C,ri,bn);Gn(C,ri)}}catch(Y){if(Y instanceof f.ZR)throw Y;Gn(C,"network-request-failed")}})).apply(this,arguments)}function se(C,g,y,A){return Q.apply(this,arguments)}function Q(){return(Q=(0,d.Z)(function*(C,g,y,A,Y={}){const re=yield je(C,g,y,A,Y);return"mfaPendingCredential"in re&&Gn(C,"multi-factor-auth-required",{_serverResponse:re}),re})).apply(this,arguments)}function de(C,g,y,A){const Y=`${g}${y}?${A}`;return C.config.emulator?Te(C.config,Y):`${C.config.apiScheme}://${Y}`}class ve{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,A)=>{this.timer=setTimeout(()=>A(jn(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function J(C,g,y){const A={appName:C.name};y.email&&(A.email=y.email),y.phoneNumber&&(A.phoneNumber=y.phoneNumber);const Y=jn(C,g,A);return Y.customData._tokenResponse=y,Y}function Ie(){return(Ie=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Je(C,g){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function nn(C,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function dn(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function He(){return(He=(0,d.Z)(function*(C,g=!1){const y=(0,f.m9)(C),A=yield y.getIdToken(g),Y=Ge(A);zt(Y&&Y.exp&&Y.auth_time&&Y.iat,y.auth,"internal-error");const re="object"==typeof Y.firebase?Y.firebase:void 0,ct=re?.sign_in_provider;return{claims:Y,token:A,authTime:dn(Tt(Y.auth_time)),issuedAtTime:dn(Tt(Y.iat)),expirationTime:dn(Tt(Y.exp)),signInProvider:ct||null,signInSecondFactor:re?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(C){return 1e3*Number(C)}function Ge(C){var g;const[y,A,Y]=C.split(".");if(void 0===y||void 0===A||void 0===Y)return xi("JWT malformed, contained fewer than 3 sections"),null;try{const re=(0,f.tV)(A);return re?JSON.parse(re):(xi("Failed to decode base64 JWT payload"),null)}catch(re){return xi("Caught error parsing JWT payload as JSON",null===(g=re)||void 0===g?void 0:g.toString()),null}}function be(C,g){return te.apply(this,arguments)}function te(){return(te=(0,d.Z)(function*(C,g,y=!1){if(y)return g;try{return yield g}catch(A){throw A instanceof f.ZR&&oe(A)&&C.auth.currentUser===C&&(yield C.auth.signOut()),A}})).apply(this,arguments)}function oe({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class ae{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const Y=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const A=this.getInterval(g);this.timerId=setTimeout((0,d.Z)(function*(){yield y.iteration()}),A)}iteration(){var g=this;return(0,d.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(y=A)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Be{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=dn(this.lastLoginAt),this.creationTime=dn(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function lt(C){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(C){var g;const y=C.auth,A=yield C.getIdToken(),Y=yield be(C,nn(y,{idToken:A}));zt(Y?.users.length,y,"internal-error");const re=Y.users[0];C._notifyReloadListener(re);const ct=null!==(g=re.providerUserInfo)&&void 0!==g&&g.length?ie(re.providerUserInfo):[],Ht=rt(C.providerData,ct),ri=!!C.isAnonymous&&!(C.email&&re.passwordHash||Ht?.length),ir={uid:re.localId,displayName:re.displayName||null,photoURL:re.photoUrl||null,email:re.email||null,emailVerified:re.emailVerified||!1,phoneNumber:re.phoneNumber||null,tenantId:re.tenantId||null,providerData:Ht,metadata:new Be(re.createdAt,re.lastLoginAt),isAnonymous:ri};Object.assign(C,ir)})).apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(C){const g=(0,f.m9)(C);yield lt(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function rt(C,g){return[...C.filter(A=>!g.some(Y=>Y.providerId===A.providerId)),...g]}function ie(C){return C.map(g=>{var{providerId:y}=g,A=Fe(g,["providerId"]);return{providerId:y,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Ee(){return(Ee=(0,d.Z)(function*(C,g){const y=yield $(C,{},(0,d.Z)(function*(){const A=(0,f.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:Y,apiKey:re}=C.config,ct=de(C,Y,"/v1/token",`key=${re}`),Ht=yield C._getAdditionalHeaders();return Ht["Content-Type"]="application/x-www-form-urlencoded",wt.fetch()(ct,{method:"POST",headers:Ht,body:A})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){zt(g.idToken,"internal-error"),zt(typeof g.idToken<"u","internal-error"),zt(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Le(C){const g=Ge(C);return zt(g,"internal-error"),zt(typeof g.exp<"u","internal-error"),zt(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var A=this;return(0,d.Z)(function*(){return zt(!A.accessToken||A.refreshToken,g,"user-token-expired"),y||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(g,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var A=this;return(0,d.Z)(function*(){const{accessToken:Y,refreshToken:re,expiresIn:ct}=yield function Z(C,g){return Ee.apply(this,arguments)}(g,y);A.updateTokensAndExpiration(Y,re,Number(ct))})()}updateTokensAndExpiration(g,y,A){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(g,y){const{refreshToken:A,accessToken:Y,expirationTime:re}=y,ct=new K;return A&&(zt("string"==typeof A,"internal-error",{appName:g}),ct.refreshToken=A),Y&&(zt("string"==typeof Y,"internal-error",{appName:g}),ct.accessToken=Y),re&&(zt("number"==typeof re,"internal-error",{appName:g}),ct.expirationTime=re),ct}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return qn("not implemented")}}function De(C,g){zt("string"==typeof C||typeof C>"u","internal-error",{appName:g})}class Se{constructor(g){var{uid:y,auth:A,stsTokenManager:Y}=g,re=Fe(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=A,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=re.displayName||null,this.email=re.email||null,this.emailVerified=re.emailVerified||!1,this.phoneNumber=re.phoneNumber||null,this.photoURL=re.photoURL||null,this.isAnonymous=re.isAnonymous||!1,this.tenantId=re.tenantId||null,this.providerData=re.providerData?[...re.providerData]:[],this.metadata=new Be(re.createdAt||void 0,re.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,d.Z)(function*(){const A=yield be(y,y.stsTokenManager.getToken(y.auth,g));return zt(A,y.auth,"internal-error"),y.accessToken!==A&&(y.accessToken=A,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),A})()}getIdTokenResult(g){return function ke(C){return He.apply(this,arguments)}(this,g)}reload(){return function Sn(C){return oi.apply(this,arguments)}(this)}_assign(g){this!==g&&(zt(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Se(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var A=this;return(0,d.Z)(function*(){let Y=!1;g.idToken&&g.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(g),Y=!0),y&&(yield lt(A)),yield A.auth._persistUserIfCurrent(A),Y&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var g=this;return(0,d.Z)(function*(){const y=yield g.getIdToken();return yield be(g,function Ce(C,g){return Ie.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var A,Y,re,ct,Ht,vn,bn,ri;const ir=null!==(A=y.displayName)&&void 0!==A?A:void 0,Sr=null!==(Y=y.email)&&void 0!==Y?Y:void 0,hi=null!==(re=y.phoneNumber)&&void 0!==re?re:void 0,Oa=null!==(ct=y.photoURL)&&void 0!==ct?ct:void 0,Ec=null!==(Ht=y.tenantId)&&void 0!==Ht?Ht:void 0,Cc=null!==(vn=y._redirectEventId)&&void 0!==vn?vn:void 0,rl=null!==(bn=y.createdAt)&&void 0!==bn?bn:void 0,sl=null!==(ri=y.lastLoginAt)&&void 0!==ri?ri:void 0,{uid:Ll,emailVerified:zc,isAnonymous:Wc,providerData:zu,stsTokenManager:xc}=y;zt(Ll&&xc,g,"internal-error");const pu=K.fromJSON(this.name,xc);zt("string"==typeof Ll,g,"internal-error"),De(ir,g.name),De(Sr,g.name),zt("boolean"==typeof zc,g,"internal-error"),zt("boolean"==typeof Wc,g,"internal-error"),De(hi,g.name),De(Oa,g.name),De(Ec,g.name),De(Cc,g.name),De(rl,g.name),De(sl,g.name);const Kc=new Se({uid:Ll,auth:g,email:Sr,emailVerified:zc,displayName:ir,isAnonymous:Wc,photoURL:Oa,phoneNumber:hi,tenantId:Ec,stsTokenManager:pu,createdAt:rl,lastLoginAt:sl});return zu&&Array.isArray(zu)&&(Kc.providerData=zu.map($h=>Object.assign({},$h))),Cc&&(Kc._redirectEventId=Cc),Kc}static _fromIdTokenResponse(g,y,A=!1){return(0,d.Z)(function*(){const Y=new K;Y.updateFromServerResponse(y);const re=new Se({uid:y.localId,auth:g,stsTokenManager:Y,isAnonymous:A});return yield lt(re),re})()}}const Kt=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(y,A){var Y=this;return(0,d.Z)(function*(){Y.storage[y]=A})()}_get(y){var A=this;return(0,d.Z)(function*(){const Y=A.storage[y];return void 0===Y?null:Y})()}_remove(y){var A=this;return(0,d.Z)(function*(){delete A.storage[y]})()}_addListener(y,A){}_removeListener(y,A){}}return C.type="NONE",C})();function pn(C,g,y){return`firebase:${C}:${g}:${y}`}class xn{constructor(g,y,A){this.persistence=g,this.auth=y,this.userKey=A;const{config:Y,name:re}=this.auth;this.fullUserKey=pn(this.userKey,Y.apiKey,re),this.fullPersistenceKey=pn("persistence",Y.apiKey,re),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,d.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?Se._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,d.Z)(function*(){if(y.persistence===g)return;const A=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,A?y.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,A="authUser"){return(0,d.Z)(function*(){if(!y.length)return new xn($n(Kt),g,A);const Y=(yield Promise.all(y.map(function(){var bn=(0,d.Z)(function*(ri){if(yield ri._isAvailable())return ri});return function(ri){return bn.apply(this,arguments)}}()))).filter(bn=>bn);let re=Y[0]||$n(Kt);const ct=pn(A,g.config.apiKey,g.name);let Ht=null;for(const bn of y)try{const ri=yield bn._get(ct);if(ri){const ir=Se._fromJSON(g,ri);bn!==re&&(Ht=ir),re=bn;break}}catch{}const vn=Y.filter(bn=>bn._shouldAllowMigration);return re._shouldAllowMigration&&vn.length?(re=vn[0],Ht&&(yield re._set(ct,Ht.toJSON())),yield Promise.all(y.map(function(){var bn=(0,d.Z)(function*(ri){if(ri!==re)try{yield ri._remove(ct)}catch{}});return function(ri){return bn.apply(this,arguments)}}())),new xn(re,g,A)):new xn(re,g,A)})()}}function Jn(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ki(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(mr(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Fr(g))return"Blackberry";if(qr(g))return"Webos";if(Xn(g))return"Safari";if((g.includes("chrome/")||Dr(g))&&!g.includes("edge/"))return"Chrome";if(Mr(g))return"Android";{const A=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function mr(C=(0,f.z$)()){return/firefox\//i.test(C)}function Xn(C=(0,f.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Dr(C=(0,f.z$)()){return/crios\//i.test(C)}function Ki(C=(0,f.z$)()){return/iemobile/i.test(C)}function Mr(C=(0,f.z$)()){return/android/i.test(C)}function Fr(C=(0,f.z$)()){return/blackberry/i.test(C)}function qr(C=(0,f.z$)()){return/webos/i.test(C)}function Ai(C=(0,f.z$)()){return/iphone|ipad|ipod/i.test(C)||/macintosh/i.test(C)&&/mobile/i.test(C)}function ns(C=(0,f.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function or(C=(0,f.z$)()){return Ai(C)||Mr(C)||qr(C)||Fr(C)||/windows phone/i.test(C)||Ki(C)}function Do(C,g=[]){let y;switch(C){case"Browser":y=Jn((0,f.z$)());break;case"Worker":y=`${Jn((0,f.z$)())}-${C}`;break;default:y=C}const A=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${A}`}class jo{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const A=re=>new Promise((ct,Ht)=>{try{ct(g(re))}catch(vn){Ht(vn)}});A.onAbort=y,this.queue.push(A);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,d.Z)(function*(){var A;if(y.auth.currentUser===g)return;const Y=[];try{for(const re of y.queue)yield re(g),re.onAbort&&Y.push(re.onAbort)}catch(re){Y.reverse();for(const ct of Y)try{ct()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=re)||void 0===A?void 0:A.message})}})()}}class Xs{constructor(g,y,A){this.app=g,this.heartbeatServiceProvider=y,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ho(this),this.idTokenSubscription=new Ho(this),this.beforeStateQueue=new jo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=An,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(g,y){var A=this;return y&&(this._popupRedirectResolver=$n(y)),this._initializationPromise=this.queue((0,d.Z)(function*(){var Y,re;if(!A._deleted&&(A.persistenceManager=yield xn.create(A,g),!A._deleted)){if(null!==(Y=A._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(y),A.lastNotifiedUid=(null===(re=A.currentUser)||void 0===re?void 0:re.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,d.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,d.Z)(function*(){var A;const Y=yield y.assertedPersistence.getCurrentUser();let re=Y,ct=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Ht=null===(A=y.redirectUser)||void 0===A?void 0:A._redirectEventId,vn=re?._redirectEventId,bn=yield y.tryRedirectSignIn(g);(!Ht||Ht===vn)&&bn?.user&&(re=bn.user,ct=!0)}if(!re)return y.directlySetCurrentUser(null);if(!re._redirectEventId){if(ct)try{yield y.beforeStateQueue.runMiddleware(re)}catch(Ht){re=Y,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Ht))}return re?y.reloadAndSetCurrentUserOrClear(re):y.directlySetCurrentUser(null)}return zt(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===re._redirectEventId?y.directlySetCurrentUser(re):y.reloadAndSetCurrentUserOrClear(re)})()}tryRedirectSignIn(g){var y=this;return(0,d.Z)(function*(){let A=null;try{A=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,d.Z)(function*(){var A;try{yield lt(g)}catch(Y){if("auth/network-request-failed"!==(null===(A=Y)||void 0===A?void 0:A.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,d.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,d.Z)(function*(){const A=g?(0,f.m9)(g):null;return A&&zt(A.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(A&&A._clone(y))})()}_updateCurrentUser(g,y=!1){var A=this;return(0,d.Z)(function*(){if(!A._deleted)return g&&zt(A.tenantId===g.tenantId,A,"tenant-id-mismatch"),y||(yield A.beforeStateQueue.runMiddleware(g)),A.queue((0,d.Z)(function*(){yield A.directlySetCurrentUser(g),A.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,d.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,d.Z)(function*(){yield y.assertedPersistence.setPersistence($n(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new f.LL("auth","Firebase",g())}onAuthStateChanged(g,y,A){return this.registerStateListener(this.authStateSubscription,g,y,A)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,A){return this.registerStateListener(this.idTokenSubscription,g,y,A)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var A=this;return(0,d.Z)(function*(){const Y=yield A.getOrInitRedirectPersistenceManager(y);return null===g?Y.removeCurrentUser():Y.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,d.Z)(function*(){if(!y.redirectPersistenceManager){const A=g&&$n(g)||y._popupRedirectResolver;zt(A,y,"argument-error"),y.redirectPersistenceManager=yield xn.create(y,[$n(A._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,d.Z)(function*(){var A,Y;return y._isInitialized&&(yield y.queue((0,d.Z)(function*(){}))),(null===(A=y._currentUser)||void 0===A?void 0:A._redirectEventId)===g?y._currentUser:(null===(Y=y.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,d.Z)(function*(){if(g===y.currentUser)return y.queue((0,d.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,A,Y){if(this._deleted)return()=>{};const re="function"==typeof y?y:y.next.bind(y),ct=this._isInitialized?Promise.resolve():this._initializationPromise;return zt(ct,this,"internal-error"),ct.then(()=>re(this.currentUser)),"function"==typeof y?g.addObserver(y,A,Y):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,d.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Do(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,d.Z)(function*(){var y;const A={"X-Client-Version":g.clientVersion};g.app.options.appId&&(A["X-Firebase-gmpid"]=g.app.options.appId);const Y=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return Y&&(A["X-Firebase-Client"]=Y),A})()}}function Vi(C){return(0,f.m9)(C)}class Ho{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,f.ne)(y=>this.observer=y)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function na(C,g,y){const A=Vi(C);zt(A._canInitEmulator,A,"emulator-config-failed"),zt(/^https?:\/\//.test(g),A,"invalid-emulator-scheme");const Y=!!y?.disableWarnings,re=Gs(g),{host:ct,port:Ht}=function uo(C){const g=Gs(C),y=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!y)return{host:"",port:null};const A=y[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(A);if(Y){const re=Y[1];return{host:re,port:Na(A.substr(re.length+1))}}{const[re,ct]=A.split(":");return{host:re,port:Na(ct)}}}(g);A.config.emulator={url:`${re}//${ct}${null===Ht?"":`:${Ht}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ct,port:Ht,protocol:re.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function cs(){function C(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function Gs(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function Na(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class ft{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return qn("not implemented")}_getIdTokenResponse(g){return qn("not implemented")}_linkToIdToken(g,y){return qn("not implemented")}_getReauthenticationResolver(g){return qn("not implemented")}}function ht(C,g){return St.apply(this,arguments)}function St(){return(St=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:resetPassword",Cn(C,g))})).apply(this,arguments)}function Zt(C,g){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Tn(C,g){return di.apply(this,arguments)}function di(){return(di=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:update",Cn(C,g))})).apply(this,arguments)}function Fi(){return(Fi=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signInWithPassword",Cn(C,g))})).apply(this,arguments)}function Xi(C,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:sendOobCode",Cn(C,g))})).apply(this,arguments)}function Zr(C,g){return Os.apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(C,g){return Xi(C,g)})).apply(this,arguments)}function jr(C,g){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,d.Z)(function*(C,g){return Xi(C,g)})).apply(this,arguments)}function ks(C,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,d.Z)(function*(C,g){return Xi(C,g)})).apply(this,arguments)}function Hr(C,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(C,g){return Xi(C,g)})).apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signInWithEmailLink",Cn(C,g))})).apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signInWithEmailLink",Cn(C,g))})).apply(this,arguments)}class Ps extends ft{constructor(g,y,A,Y=null){super("password",A),this._email=g,this._password=y,this._tenantId=Y}static _fromEmailAndPassword(g,y){return new Ps(g,y,"password")}static _fromEmailAndCode(g,y,A=null){return new Ps(g,y,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,d.Z)(function*(){switch(y.signInMethod){case"password":return function _r(C,g){return Fi.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function _a(C,g){return Qr.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:Gn(g,"internal-error")}})()}_linkToIdToken(g,y){var A=this;return(0,d.Z)(function*(){switch(A.signInMethod){case"password":return Zt(g,{idToken:y,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function xs(C,g){return $s.apply(this,arguments)}(g,{idToken:y,email:A._email,oobCode:A._password});default:Gn(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function us(C,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signInWithIdp",Cn(C,g))})).apply(this,arguments)}class yr extends ft{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new yr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):Gn("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:Y}=y,re=Fe(y,["providerId","signInMethod"]);if(!A||!Y)return null;const ct=new yr(A,Y);return ct.idToken=re.idToken||void 0,ct.accessToken=re.accessToken||void 0,ct.secret=re.secret,ct.nonce=re.nonce,ct.pendingToken=re.pendingToken||null,ct}_getIdTokenResponse(g){return us(g,this.buildRequest())}_linkToIdToken(g,y){const A=this.buildRequest();return A.idToken=y,us(g,A)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,us(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,f.xO)(y)}return g}}function rs(C,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:sendVerificationCode",Cn(C,g))})).apply(this,arguments)}function ds(){return(ds=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signInWithPhoneNumber",Cn(C,g))})).apply(this,arguments)}function ya(){return(ya=(0,d.Z)(function*(C,g){const y=yield se(C,"POST","/v1/accounts:signInWithPhoneNumber",Cn(C,g));if(y.temporaryProof)throw J(C,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const ur={USER_NOT_FOUND:"user-not-found"};function ll(){return(ll=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signInWithPhoneNumber",Cn(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ur)})).apply(this,arguments)}class Lr extends ft{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Lr({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Lr({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function zs(C,g){return ds.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Ao(C,g){return ya.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Ba(C,g){return ll.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:A,verificationCode:Y}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:A,code:Y}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:A,phoneNumber:Y,temporaryProof:re}=g;return A||y||Y||re?new Lr({verificationId:y,verificationCode:A,phoneNumber:Y,temporaryProof:re}):null}}class hs{constructor(g){var y,A,Y,re,ct,Ht;const vn=(0,f.zd)((0,f.pd)(g)),bn=null!==(y=vn.apiKey)&&void 0!==y?y:null,ri=null!==(A=vn.oobCode)&&void 0!==A?A:null,ir=function Ar(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=vn.mode)&&void 0!==Y?Y:null);zt(bn&&ri&&ir,"argument-error"),this.apiKey=bn,this.operation=ir,this.code=ri,this.continueUrl=null!==(re=vn.continueUrl)&&void 0!==re?re:null,this.languageCode=null!==(ct=vn.languageCode)&&void 0!==ct?ct:null,this.tenantId=null!==(Ht=vn.tenantId)&&void 0!==Ht?Ht:null}static parseLink(g){const y=function Is(C){const g=(0,f.zd)((0,f.pd)(C)).link,y=g?(0,f.zd)((0,f.pd)(g)).deep_link_id:null,A=(0,f.zd)((0,f.pd)(C)).deep_link_id;return(A?(0,f.zd)((0,f.pd)(A)).link:null)||A||y||g||C}(g);try{return new hs(y)}catch{return null}}}let Ni=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(y,A){return Ps._fromEmailAndPassword(y,A)}static credentialWithLink(y,A){const Y=hs.parseLink(A);return zt(Y,"argument-error"),Ps._fromEmailAndCode(y,Y.code,Y.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Nr{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Gr extends Nr{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Rr extends Gr{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return zt("providerId"in y&&"signInMethod"in y,"argument-error"),yr._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return zt(g.idToken||g.accessToken,"argument-error"),yr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Rr.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Rr.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:A,oauthTokenSecret:Y,pendingToken:re,nonce:ct,providerId:Ht}=g;if(!A&&!Y&&!y&&!re||!Ht)return null;try{return new Rr(Ht)._credential({idToken:y,accessToken:A,nonce:ct,pendingToken:re})}catch{return null}}}let ss=(()=>{class C extends Gr{constructor(){super("facebook.com")}static credential(y){return yr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),fo=(()=>{class C extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,A){return yr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:A})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:A,oauthAccessToken:Y}=y;if(!A&&!Y)return null;try{return C.credential(A,Y)}catch{return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),dr=(()=>{class C extends Gr{constructor(){super("github.com")}static credential(y){return yr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return C.credential(y.oauthAccessToken)}catch{return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Fs extends ft{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return us(g,this.buildRequest())}_linkToIdToken(g,y){const A=this.buildRequest();return A.idToken=y,us(g,A)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,us(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:A,signInMethod:Y,pendingToken:re}=y;return A&&Y&&re&&A===Y?new Fs(A,re):null}static _create(g,y){return new Fs(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class po extends Nr{constructor(g){zt(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return po.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return po.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Fs.fromJSON(g);return zt(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:A}=g;if(!y||!A)return null;try{return Fs._create(A,y)}catch{return null}}}let sa=(()=>{class C extends Gr{constructor(){super("twitter.com")}static credential(y,A){return yr._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:A})}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:A,oauthTokenSecret:Y}=y;if(!A||!Y)return null;try{return C.credential(A,Y)}catch{return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Ls(C,g){return $r.apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signUp",Cn(C,g))})).apply(this,arguments)}class fs{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,A,Y=!1){return(0,d.Z)(function*(){const re=yield Se._fromIdTokenResponse(g,A,Y),ct=va(A);return new fs({user:re,providerId:ct,_tokenResponse:A,operationType:y})})()}static _forOperation(g,y,A){return(0,d.Z)(function*(){yield g._updateTokensIfNecessary(A,!0);const Y=va(A);return new fs({user:g,providerId:Y,_tokenResponse:A,operationType:y})})()}}function va(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function tn(C){return vi.apply(this,arguments)}function vi(){return(vi=(0,d.Z)(function*(C){var g;const y=Vi(C);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new fs({user:y.currentUser,providerId:null,operationType:"signIn"});const A=yield Ls(y,{returnSecureToken:!0}),Y=yield fs._fromIdTokenResponse(y,"signIn",A,!0);return yield y._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Go extends f.ZR{constructor(g,y,A,Y){var re;super(y.code,y.message),this.operationType=A,this.user=Y,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:g.name,tenantId:null!==(re=g.tenantId)&&void 0!==re?re:void 0,_serverResponse:y.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(g,y,A,Y){return new Go(g,y,A,Y)}}function So(C,g,y,A){return("reauthenticate"===g?y._getReauthenticationResolver(C):y._getIdTokenResponse(C)).catch(re=>{throw"auth/multi-factor-auth-required"===re.code?Go._fromErrorAndOperation(C,re,g,A):re})}function vr(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function G(C,g){return V.apply(this,arguments)}function V(){return(V=(0,d.Z)(function*(C,g){const y=(0,f.m9)(C);yield Bt(!0,y,g);const{providerUserInfo:A}=yield Je(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),Y=vr(A||[]);return y.providerData=y.providerData.filter(re=>Y.has(re.providerId)),Y.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function L(C,g){return pe.apply(this,arguments)}function pe(){return(pe=(0,d.Z)(function*(C,g,y=!1){const A=yield be(C,g._linkToIdToken(C.auth,yield C.getIdToken()),y);return fs._forOperation(C,"link",A)})).apply(this,arguments)}function Bt(C,g,y){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,d.Z)(function*(C,g,y){yield lt(g);const Y=!1===C?"provider-already-linked":"no-such-provider";zt(vr(g.providerData).has(y)===C,g.auth,Y)})).apply(this,arguments)}function lr(C,g){return os.apply(this,arguments)}function os(){return(os=(0,d.Z)(function*(C,g,y=!1){var A;const{auth:Y}=C,re="reauthenticate";try{const ct=yield be(C,So(Y,re,g,C),y);zt(ct.idToken,Y,"internal-error");const Ht=Ge(ct.idToken);zt(Ht,Y,"internal-error");const{sub:vn}=Ht;return zt(C.uid===vn,Y,"user-mismatch"),fs._forOperation(C,re,ct)}catch(ct){throw"auth/user-not-found"===(null===(A=ct)||void 0===A?void 0:A.code)&&Gn(Y,"user-mismatch"),ct}})).apply(this,arguments)}function Ns(C,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,d.Z)(function*(C,g,y=!1){const A="signIn",Y=yield So(C,A,g),re=yield fs._fromIdTokenResponse(C,A,Y);return y||(yield C._updateCurrentUser(re.user)),re})).apply(this,arguments)}function ps(C,g){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(C,g){return Ns(Vi(C),g)})).apply(this,arguments)}function go(C,g){return As.apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(C,g){const y=(0,f.m9)(C);return yield Bt(!1,y,g.providerId),L(y,g)})).apply(this,arguments)}function To(C,g){return ba.apply(this,arguments)}function ba(){return(ba=(0,d.Z)(function*(C,g){return lr((0,f.m9)(C),g)})).apply(this,arguments)}function Lc(C,g){return wa.apply(this,arguments)}function wa(){return(wa=(0,d.Z)(function*(C,g){return se(C,"POST","/v1/accounts:signInWithCustomToken",Cn(C,g))})).apply(this,arguments)}function $o(C,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(C,g){const y=Vi(C),A=yield Lc(y,{token:g,returnSecureToken:!0}),Y=yield fs._fromIdTokenResponse(y,"signIn",A);return yield y._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Mo{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?mo._fromServerResponse(g,y):Gn(g,"internal-error")}}class mo extends Mo{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new mo(y)}}function _o(C,g,y){var A;zt((null===(A=y.url)||void 0===A?void 0:A.length)>0,C,"invalid-continue-uri"),zt(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(zt(y.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(zt(y.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function cl(C,g,y){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C),Y={requestType:"PASSWORD_RESET",email:g};y&&_o(A,Y,y),yield jr(A,Y)})).apply(this,arguments)}function fc(C,g,y){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,d.Z)(function*(C,g,y){yield ht((0,f.m9)(C),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Wo(C,g){return O.apply(this,arguments)}function O(){return(O=(0,d.Z)(function*(C,g){yield Tn((0,f.m9)(C),{oobCode:g})})).apply(this,arguments)}function X(C,g){return N.apply(this,arguments)}function N(){return(N=(0,d.Z)(function*(C,g){const y=(0,f.m9)(C),A=yield ht(y,{oobCode:g}),Y=A.requestType;switch(zt(Y,y,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":zt(A.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":zt(A.mfaInfo,y,"internal-error");default:zt(A.email,y,"internal-error")}let re=null;return A.mfaInfo&&(re=Mo._fromServerResponse(Vi(y),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:re},operation:Y}})).apply(this,arguments)}function fe(C,g){return $e.apply(this,arguments)}function $e(){return($e=(0,d.Z)(function*(C,g){const{data:y}=yield X((0,f.m9)(C),g);return y.email})).apply(this,arguments)}function Rt(C,g,y){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,d.Z)(function*(C,g,y){const A=Vi(C),Y=yield Ls(A,{returnSecureToken:!0,email:g,password:y}),re=yield fs._fromIdTokenResponse(A,"signIn",Y);return yield A._updateCurrentUser(re.user),re})).apply(this,arguments)}function Pn(C,g,y){return ps((0,f.m9)(C),Ni.credential(g,y))}function Mi(C,g,y){return ji.apply(this,arguments)}function ji(){return(ji=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C),Y={requestType:"EMAIL_SIGNIN",email:g};zt(y.handleCodeInApp,A,"argument-error"),y&&_o(A,Y,y),yield ks(A,Y)})).apply(this,arguments)}function Hi(C,g){return"EMAIL_SIGNIN"===hs.parseLink(g)?.operation}function Bi(C,g,y){return hr.apply(this,arguments)}function hr(){return(hr=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C),Y=Ni.credentialWithLink(g,y||Pi());return zt(Y._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),ps(A,Y)})).apply(this,arguments)}function Gi(C,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:createAuthUri",Cn(C,g))})).apply(this,arguments)}function Ws(C,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,d.Z)(function*(C,g){const A={identifier:g,continueUri:zi()?Pi():"http://localhost"},{signinMethods:Y}=yield Gi((0,f.m9)(C),A);return Y||[]})).apply(this,arguments)}function Xr(C,g){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(C,g){const y=(0,f.m9)(C),Y={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&_o(y.auth,Y,g);const{email:re}=yield Zr(y.auth,Y);re!==C.email&&(yield C.reload())})).apply(this,arguments)}function eo(C,g,y){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C),re={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};y&&_o(A.auth,re,y);const{email:ct}=yield Hr(A.auth,re);ct!==C.email&&(yield C.reload())})).apply(this,arguments)}function Va(C,g){return ul.apply(this,arguments)}function ul(){return(ul=(0,d.Z)(function*(C,g){return je(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function fr(C,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(C,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const A=(0,f.m9)(C),re={idToken:yield A.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},ct=yield be(A,Va(A.auth,re));A.displayName=ct.displayName||null,A.photoURL=ct.photoUrl||null;const Ht=A.providerData.find(({providerId:vn})=>"password"===vn);Ht&&(Ht.displayName=A.displayName,Ht.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ct)})).apply(this,arguments)}function dl(C,g){return gc((0,f.m9)(C),g,null)}function pc(C,g){return gc((0,f.m9)(C),null,g)}function gc(C,g,y){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.Z)(function*(C,g,y){const{auth:A}=C,re={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(re.email=g),y&&(re.password=y);const ct=yield be(C,Zt(A,re));yield C._updateTokensIfNecessary(ct,!0)})).apply(this,arguments)}class Br{constructor(g,y,A={}){this.isNewUser=g,this.providerId=y,this.profile=A}}class hl extends Br{constructor(g,y,A,Y){super(g,y,A),this.username=Y}}class xa extends Br{constructor(g,y){super(g,"facebook.com",y)}}class on extends hl{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class br extends Br{constructor(g,y){super(g,"google.com",y)}}class pr extends hl{constructor(g,y,A){super(g,"twitter.com",y,A)}}function Ua(C){const{user:g,_tokenResponse:y}=C;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Oo(C){var g,y;if(!C)return null;const{providerId:A}=C,Y=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},re=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!A&&C?.idToken){const ct=null===(y=null===(g=Ge(C.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(ct)return new Br(re,"anonymous"!==ct&&"custom"!==ct?ct:null)}if(!A)return null;switch(A){case"facebook.com":return new xa(re,Y);case"github.com":return new on(re,Y);case"google.com":return new br(re,Y);case"twitter.com":return new pr(re,Y,C.screenName||null);case"custom":case"anonymous":return new Br(re,null);default:return new Br(re,A,Y)}}(y)}class Us{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new Us("enroll",g)}static _fromMfaPendingCredential(g){return new Us("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,A;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return Us._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(A=g.multiFactorSession)&&void 0!==A&&A.idToken)return Us._fromIdtoken(g.multiFactorSession.idToken)}return null}}class ja{constructor(g,y,A){this.session=g,this.hints=y,this.signInResolver=A}static _fromError(g,y){const A=Vi(g),Y=y.customData._serverResponse,re=(Y.mfaInfo||[]).map(Ht=>Mo._fromServerResponse(A,Ht));zt(Y.mfaPendingCredential,A,"internal-error");const ct=Us._fromMfaPendingCredential(Y.mfaPendingCredential);return new ja(ct,re,function(){var Ht=(0,d.Z)(function*(vn){const bn=yield vn._process(A,ct);delete Y.mfaInfo,delete Y.mfaPendingCredential;const ri=Object.assign(Object.assign({},Y),{idToken:bn.idToken,refreshToken:bn.refreshToken});switch(y.operationType){case"signIn":const ir=yield fs._fromIdTokenResponse(A,y.operationType,ri);return yield A._updateCurrentUser(ir.user),ir;case"reauthenticate":return zt(y.user,A,"internal-error"),fs._forOperation(y.user,y.operationType,ri);default:Gn(A,"internal-error")}});return function(vn){return Ht.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,d.Z)(function*(){return y.signInResolver(g)})()}}function ko(C,g){var y;const A=(0,f.m9)(C),Y=g;return zt(g.customData.operationType,A,"argument-error"),zt(null===(y=Y.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,A,"argument-error"),ja._fromError(A,Y)}function Ha(C,g){return je(C,"POST","/v2/accounts/mfaEnrollment:start",Cn(C,g))}class Ga{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(A=>Mo._fromServerResponse(g.auth,A)))})}static _fromUser(g){return new Ga(g)}getSession(){var g=this;return(0,d.Z)(function*(){return Us._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var A=this;return(0,d.Z)(function*(){const Y=g,re=yield A.getSession(),ct=yield be(A.user,Y._process(A.user.auth,re,y));return yield A.user._updateTokensIfNecessary(ct),A.user.reload()})()}unenroll(g){var y=this;return(0,d.Z)(function*(){var A;const Y="string"==typeof g?g:g.uid,re=yield y.user.getIdToken(),ct=yield be(y.user,function Nc(C,g){return je(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Cn(C,g))}(y.user.auth,{idToken:re,mfaEnrollmentId:Y}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Ht})=>Ht!==Y),yield y.user._updateTokensIfNecessary(ct);try{yield y.user.reload()}catch(Ht){if("auth/user-token-expired"!==(null===(A=Ht)||void 0===A?void 0:A.code))throw Ht}})()}}const Ia=new WeakMap;function $a(C){const g=(0,f.m9)(C);return Ia.has(g)||Ia.set(g,Ga._fromUser(g)),Ia.get(g)}const Bn="__sak";class Po{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Bn,"1"),this.storage.removeItem(Bn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Oi=(()=>{class C extends Po{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,A)=>this.onStorageEvent(y,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function to(){const C=(0,f.z$)();return Xn(C)||Ai(C)}()&&function is(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=or(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const A of Object.keys(this.listeners)){const Y=this.storage.getItem(A),re=this.localCache[A];Y!==re&&y(A,re,Y)}}onStorageEvent(y,A=!1){if(!y.key)return void this.forAllChangedKeys((Ht,vn,bn)=>{this.notifyListeners(Ht,bn)});const Y=y.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ht=this.storage.getItem(Y);if(y.newValue!==Ht)null!==y.newValue?this.storage.setItem(Y,y.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===y.newValue&&!A)return}const re=()=>{const Ht=this.storage.getItem(Y);!A&&this.localCache[Y]===Ht||this.notifyListeners(Y,Ht)},ct=this.storage.getItem(Y);!function Cs(){return(0,f.w1)()&&10===document.documentMode}()||ct===y.newValue||y.newValue===y.oldValue?re():setTimeout(re,10)}notifyListeners(y,A){this.localCache[y]=A;const Y=this.listeners[y];if(Y)for(const re of Array.from(Y))re(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,A,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:A,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,A){var Y=()=>super._set,re=this;return(0,d.Z)(function*(){yield Y().call(re,y,A),re.localCache[y]=JSON.stringify(A)})()}_get(y){var A=()=>super._get,Y=this;return(0,d.Z)(function*(){const re=yield A().call(Y,y);return Y.localCache[y]=JSON.stringify(re),re})()}_remove(y){var A=()=>super._remove,Y=this;return(0,d.Z)(function*(){yield A().call(Y,y),delete Y.localCache[y]})()}}return C.type="LOCAL",C})(),Ji=(()=>{class C extends Po{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,A){}_removeListener(y,A){}}return C.type="SESSION",C})();let ca=(()=>{class C{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const A=this.receivers.find(re=>re.isListeningto(y));if(A)return A;const Y=new C(y);return this.receivers.push(Y),Y}isListeningto(y){return this.eventTarget===y}handleEvent(y){var A=this;return(0,d.Z)(function*(){const Y=y,{eventId:re,eventType:ct,data:Ht}=Y.data,vn=A.handlersMap[ct];if(!vn?.size)return;Y.ports[0].postMessage({status:"ack",eventId:re,eventType:ct});const bn=Array.from(vn).map(function(){var ir=(0,d.Z)(function*(Sr){return Sr(Y.origin,Ht)});return function(Sr){return ir.apply(this,arguments)}}()),ri=yield function _n(C){return Promise.all(C.map(function(){var g=(0,d.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(A){return{fulfilled:!1,reason:A}}});return function(y){return g.apply(this,arguments)}}()))}(bn);Y.ports[0].postMessage({status:"done",eventId:re,eventType:ct,response:ri})})()}_subscribe(y,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(A)}_unsubscribe(y,A){this.handlersMap[y]&&A&&this.handlersMap[y].delete(A),(!A||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function vo(C="",g=10){let y="";for(let A=0;A<g;A++)y+=Math.floor(10*Math.random());return C+y}class ms{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,A=50){var Y=this;return(0,d.Z)(function*(){const re=typeof MessageChannel<"u"?new MessageChannel:null;if(!re)throw new Error("connection_unavailable");let ct,Ht;return new Promise((vn,bn)=>{const ri=vo("",20);re.port1.start();const ir=setTimeout(()=>{bn(new Error("unsupported_event"))},A);Ht={messageChannel:re,onMessage(Sr){const hi=Sr;if(hi.data.eventId===ri)switch(hi.data.status){case"ack":clearTimeout(ir),ct=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ct),vn(hi.data.response);break;default:clearTimeout(ir),clearTimeout(ct),bn(new Error("invalid_response"))}}},Y.handlers.add(Ht),re.port1.addEventListener("message",Ht.onMessage),Y.target.postMessage({eventType:g,eventId:ri,data:y},[re.port2])}).finally(()=>{Ht&&Y.removeMessageHandler(Ht)})})()}}function qi(){return window}function _s(){return typeof qi().WorkerGlobalScope<"u"&&"function"==typeof qi().importScripts}function Fo(){return(Fo=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const no="firebaseLocalStorageDb",Zi="firebaseLocalStorage",Ko="fbase_key";class Wa{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ot(C,g){return C.transaction([Zi],g?"readwrite":"readonly").objectStore(Zi)}function io(){const C=indexedDB.open(no,1);return new Promise((g,y)=>{C.addEventListener("error",()=>{y(C.error)}),C.addEventListener("upgradeneeded",()=>{const A=C.result;try{A.createObjectStore(Zi,{keyPath:Ko})}catch(Y){y(Y)}}),C.addEventListener("success",(0,d.Z)(function*(){const A=C.result;A.objectStoreNames.contains(Zi)?g(A):(A.close(),yield function Ka(){const C=indexedDB.deleteDatabase(no);return new Wa(C).toPromise()}(),g(yield io()))}))})}function Ya(C,g,y){return qa.apply(this,arguments)}function qa(){return(qa=(0,d.Z)(function*(C,g,y){const A=Ot(C,!0).put({[Ko]:g,value:y});return new Wa(A).toPromise()})).apply(this,arguments)}function mc(){return(mc=(0,d.Z)(function*(C,g){const y=Ot(C,!1).get(g),A=yield new Wa(y).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Aa(C,g){const y=Ot(C,!0).delete(g);return new Wa(y).toPromise()}const zl=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,d.Z)(function*(){return y.db||(y.db=yield io()),y.db})()}_withRetries(y){var A=this;return(0,d.Z)(function*(){let Y=0;for(;;)try{const re=yield A._openDb();return yield y(re)}catch(re){if(Y++>3)throw re;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,d.Z)(function*(){return _s()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,d.Z)(function*(){y.receiver=ca._getInstance(function er(){return _s()?self:null}()),y.receiver._subscribe("keyChanged",function(){var A=(0,d.Z)(function*(Y,re){return{keyProcessed:(yield y._poll()).includes(re.key)}});return function(Y,re){return A.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var A=(0,d.Z)(function*(Y,re){return["keyChanged"]});return function(Y,re){return A.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,d.Z)(function*(){var A,Y;if(y.activeServiceWorker=yield function ys(){return Fo.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ms(y.activeServiceWorker);const re=yield y.sender._send("ping",{},800);!re||(null===(A=re[0])||void 0===A?void 0:A.fulfilled)&&(null===(Y=re[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var A=this;return(0,d.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Il(){var C;return(null===(C=navigator?.serviceWorker)||void 0===C?void 0:C.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:y},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const y=yield io();return yield Ya(y,Bn,"1"),yield Aa(y,Bn),!0}catch{}return!1})()}_withPendingWrite(y){var A=this;return(0,d.Z)(function*(){A.pendingWrites++;try{yield y()}finally{A.pendingWrites--}})()}_set(y,A){var Y=this;return(0,d.Z)(function*(){return Y._withPendingWrite((0,d.Z)(function*(){return yield Y._withRetries(re=>Ya(re,y,A)),Y.localCache[y]=A,Y.notifyServiceWorker(y)}))})()}_get(y){var A=this;return(0,d.Z)(function*(){const Y=yield A._withRetries(re=>function ro(C,g){return mc.apply(this,arguments)}(re,y));return A.localCache[y]=Y,Y})()}_remove(y){var A=this;return(0,d.Z)(function*(){return A._withPendingWrite((0,d.Z)(function*(){return yield A._withRetries(Y=>Aa(Y,y)),delete A.localCache[y],A.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,d.Z)(function*(){const A=yield y._withRetries(ct=>{const Ht=Ot(ct,!1).getAll();return new Wa(Ht).toPromise()});if(!A)return[];if(0!==y.pendingWrites)return[];const Y=[],re=new Set;for(const{fbase_key:ct,value:Ht}of A)re.add(ct),JSON.stringify(y.localCache[ct])!==JSON.stringify(Ht)&&(y.notifyListeners(ct,Ht),Y.push(ct));for(const ct of Object.keys(y.localCache))y.localCache[ct]&&!re.has(ct)&&(y.notifyListeners(ct,null),Y.push(ct));return Y})()}notifyListeners(y,A){this.localCache[y]=A;const Y=this.listeners[y];if(Y)for(const re of Array.from(Y))re(A)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(A)}_removeListener(y,A){this.listeners[y]&&(this.listeners[y].delete(A),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Ss(C,g){return je(C,"POST","/v2/accounts/mfaSignIn:start",Cn(C,g))}function pl(){return(pl=(0,d.Z)(function*(C){return(yield je(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function D(C){return new Promise((g,y)=>{const A=document.createElement("script");A.setAttribute("src",C),A.onload=g,A.onerror=Y=>{const re=jn("internal-error");re.customData=Y,y(re)},A.type="text/javascript",A.charset="UTF-8",function wr(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(A)})}function I(C){return`__${C}${Math.floor(1e6*Math.random())}`}const j=1e12;class ce{constructor(g){this.auth=g,this.counter=j,this._widgets=new Map}render(g,y){const A=this.counter;return this._widgets.set(A,new Ne(g,this.auth.name,y||{})),this.counter++,A}reset(g){var y;const A=g||j;null===(y=this._widgets.get(A))||void 0===y||y.delete(),this._widgets.delete(A)}getResponse(g){var y;return(null===(y=this._widgets.get(g||j))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,d.Z)(function*(){var A;return null===(A=y._widgets.get(g||j))||void 0===A||A.execute(),""})()}}class Ne{constructor(g,y,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof g?document.getElementById(g):g;zt(Y,"argument-error",{appName:y}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Pe(C){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<C;A++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ut=I("rcb"),mn=new gt(3e4,6e4);class Mn{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=qi().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return zt(function $i(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(qi().grecaptcha):new Promise((A,Y)=>{const re=qi().setTimeout(()=>{Y(jn(g,"network-request-failed"))},mn.get());qi()[Ut]=()=>{qi().clearTimeout(re),delete qi()[Ut];const Ht=qi().grecaptcha;if(!Ht)return void Y(jn(g,"internal-error"));const vn=Ht.render;Ht.render=(bn,ri)=>{const ir=vn(bn,ri);return this.counter++,ir},this.hostLanguage=y,A(Ht)},D(`https://www.google.com/recaptcha/api.js??${(0,f.xO)({onload:Ut,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(re),Y(jn(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=qi().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ls{load(g){return(0,d.Z)(function*(){return new ce(g)})()}clearedOneInstance(){}}const vs="recaptcha",Za={theme:"light",type:"image"};class bs{constructor(g,y=Object.assign({},Za),A){this.parameters=y,this.type=vs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vi(A),this.isInvisible="invisible"===this.parameters.size,zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof g?document.getElementById(g):g;zt(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ls:new Mn,this.validateStartingState()}verify(){var g=this;return(0,d.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),A=g.getAssertedRecaptcha();return A.getResponse(y)||new Promise(re=>{const ct=Ht=>{!Ht||(g.tokenChangeListeners.delete(ct),re(Ht))};g.tokenChangeListeners.add(ct),g.isInvisible&&A.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){zt(!this.parameters.sitekey,this.auth,"argument-error"),zt(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),zt(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(A=>A(y)),"function"==typeof g)g(y);else if("string"==typeof g){const A=qi()[g];"function"==typeof A&&A(y)}}}assertNotDestroyed(){zt(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,d.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const A=document.createElement("div");y.appendChild(A),y=A}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,d.Z)(function*(){zt(zi()&&!_s(),g.auth,"internal-error"),yield function gl(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function as(C){return pl.apply(this,arguments)}(g.auth);zt(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return zt(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ys{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Lr._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function qs(C,g,y){return so.apply(this,arguments)}function so(){return(so=(0,d.Z)(function*(C,g,y){const A=Vi(C),Y=yield qo(A,g,(0,f.m9)(y));return new Ys(Y,re=>ps(A,re))})).apply(this,arguments)}function Sa(C,g,y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C);yield Bt(!1,A,"phone");const Y=yield qo(A.auth,g,(0,f.m9)(y));return new Ys(Y,re=>go(A,re))})).apply(this,arguments)}function bo(C,g,y){return wo.apply(this,arguments)}function wo(){return(wo=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C),Y=yield qo(A.auth,g,(0,f.m9)(y));return new Ys(Y,re=>To(A,re))})).apply(this,arguments)}function qo(C,g,y){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.Z)(function*(C,g,y){var A;const Y=yield y.verify();try{let re;if(zt("string"==typeof Y,C,"argument-error"),zt(y.type===vs,C,"argument-error"),re="string"==typeof g?{phoneNumber:g}:g,"session"in re){const ct=re.session;if("phoneNumber"in re)return zt("enroll"===ct.type,C,"internal-error"),(yield Ha(C,{idToken:ct.credential,phoneEnrollmentInfo:{phoneNumber:re.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{zt("signin"===ct.type,C,"internal-error");const Ht=(null===(A=re.multiFactorHint)||void 0===A?void 0:A.uid)||re.multiFactorUid;return zt(Ht,C,"missing-multi-factor-info"),(yield Ss(C,{mfaPendingCredential:ct.credential,mfaEnrollmentId:Ht,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ct}=yield rs(C,{phoneNumber:re.phoneNumber,recaptchaToken:Y});return ct}}finally{y._reset()}})).apply(this,arguments)}function Sl(C,g){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(C,g){yield L((0,f.m9)(C),g)})).apply(this,arguments)}let Lo=(()=>{class C{constructor(y){this.providerId=C.PROVIDER_ID,this.auth=Vi(y)}verifyPhoneNumber(y,A){return qo(this.auth,y,(0,f.m9)(A))}static credential(y,A){return Lr._fromVerification(y,A)}static credentialFromResult(y){return C.credentialFromTaggedObject(y)}static credentialFromError(y){return C.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:A,temporaryProof:Y}=y;return A&&Y?Lr._fromTokenResponse(A,Y):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function da(C,g){return g?$n(g):(zt(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Er extends ft{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return us(g,this._buildIdpRequest())}_linkToIdToken(g,y){return us(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return us(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function cu(C){return Ns(C.auth,new Er(C),C.bypassAuthState)}function F(C){const{auth:g,user:y}=C;return zt(y,g,"internal-error"),lr(y,new Er(C),C.bypassAuthState)}function H(C){return le.apply(this,arguments)}function le(){return(le=(0,d.Z)(function*(C){const{auth:g,user:y}=C;return zt(y,g,"internal-error"),L(y,new Er(C),C.bypassAuthState)})).apply(this,arguments)}class Ve{constructor(g,y,A,Y,re=!1){this.auth=g,this.resolver=A,this.user=Y,this.bypassAuthState=re,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,d.Z)(function*(A,Y){g.pendingPromise={resolve:A,reject:Y};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(re){g.reject(re)}});return function(A,Y){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,d.Z)(function*(){const{urlResponse:A,sessionId:Y,postBody:re,tenantId:ct,error:Ht,type:vn}=g;if(Ht)return void y.reject(Ht);const bn={auth:y.auth,requestUri:A,sessionId:Y,tenantId:ct||void 0,postBody:re||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(vn)(bn))}catch(ri){y.reject(ri)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return cu;case"linkViaPopup":case"linkViaRedirect":return H;case"reauthViaPopup":case"reauthViaRedirect":return F;default:Gn(this.auth,"internal-error")}}resolve(g){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bt=new gt(2e3,1e4);function Nt(C,g,y){return cn.apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(C,g,y){const A=Vi(C);Wn(C,g,Nr);const Y=da(A,y);return new ui(A,"signInViaPopup",g,Y).executeNotNull()})).apply(this,arguments)}function In(C,g,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C);Wn(A.auth,g,Nr);const Y=da(A.auth,y);return new ui(A.auth,"reauthViaPopup",g,Y,A).executeNotNull()})).apply(this,arguments)}function wi(C,g,y){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C);Wn(A.auth,g,Nr);const Y=da(A.auth,y);return new ui(A.auth,"linkViaPopup",g,Y,A).executeNotNull()})).apply(this,arguments)}let ui=(()=>{class C extends Ve{constructor(y,A,Y,re,ct){super(y,A,re,ct),this.provider=Y,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var y=this;return(0,d.Z)(function*(){const A=yield y.execute();return zt(A,y.auth,"internal-error"),A})()}onExecution(){var y=this;return(0,d.Z)(function*(){ei(1===y.filter.length,"Popup operations only handle one event");const A=vo();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],A),y.authWindow.associatedEvent=A,y.resolver._originValidation(y.auth).catch(Y=>{y.reject(Y)}),y.resolver._isIframeWebStorageSupported(y.auth,Y=>{Y||y.reject(jn(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const y=()=>{var A,Y;this.pollId=null!==(Y=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,bt.get())};y()}}return C.currentPopupAction=null,C})();const Cr=new Map;class Wl extends Ve{constructor(g,y,A=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,A),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,d.Z)(function*(){let A=Cr.get(y.auth._key());if(!A){try{const re=(yield function Ta(C,g){return Zo.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;A=()=>Promise.resolve(re)}catch(Y){A=()=>Promise.reject(Y)}Cr.set(y.auth._key(),A)}return y.bypassAuthState||Cr.set(y.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,A=this;return(0,d.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(A,g);if("unknown"!==g.type){if(g.eventId){const Y=yield A.auth._redirectUserForId(g.eventId);if(Y)return A.user=Y,y().call(A,g);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Zo(){return(Zo=(0,d.Z)(function*(C,g){const y=Bc(g),A=Xa(C);if(!(yield A._isAvailable()))return!1;const Y="true"===(yield A._get(y));return yield A._remove(y),Y})).apply(this,arguments)}function Qo(C,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(C,g){return Xa(C)._set(Bc(g),"true")})).apply(this,arguments)}function Tl(){Cr.clear()}function Or(C,g){Cr.set(C._key(),g)}function Xa(C){return $n(C._redirectPersistence)}function Bc(C){return pn("pendingRedirect",C.config.apiKey,C.name)}function Hh(C,g,y){return function pd(C,g,y){return Nu.apply(this,arguments)}(C,g,y)}function Nu(){return(Nu=(0,d.Z)(function*(C,g,y){const A=Vi(C);Wn(C,g,Nr);const Y=da(A,y);return yield Qo(Y,A),Y._openRedirect(A,g,"signInViaRedirect")})).apply(this,arguments)}function Zd(C,g,y){return function uu(C,g,y){return du.apply(this,arguments)}(C,g,y)}function du(){return(du=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C);Wn(A.auth,g,Nr);const Y=da(A.auth,y);yield Qo(Y,A.auth);const re=yield Eo(A);return Y._openRedirect(A.auth,g,"reauthViaRedirect",re)})).apply(this,arguments)}function Ml(C,g,y){return function Kl(C,g,y){return Qd.apply(this,arguments)}(C,g,y)}function Qd(){return(Qd=(0,d.Z)(function*(C,g,y){const A=(0,f.m9)(C);Wn(A.auth,g,Nr);const Y=da(A.auth,y);yield Bt(!1,A,g.providerId),yield Qo(Y,A.auth);const re=yield Eo(A);return Y._openRedirect(A.auth,g,"linkViaRedirect",re)})).apply(this,arguments)}function Bu(C,g){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,d.Z)(function*(C,g){return yield Vi(C)._initializationPromise,Xo(C,g,!1)})).apply(this,arguments)}function Xo(C,g){return _c.apply(this,arguments)}function _c(){return(_c=(0,d.Z)(function*(C,g,y=!1){const A=Vi(C),Y=da(A,g),ct=yield new Wl(A,Y,y).execute();return ct&&!y&&(delete ct.user._redirectEventId,yield A._persistUserIfCurrent(ct.user),yield A._setRedirectUser(null,g)),ct})).apply(this,arguments)}function Eo(C){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(C){const g=vo(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class Ma{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(g,A)&&(y=!0,this.sendToConsumer(g,A),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function No(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ts(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var A;if(g.error&&!Ts(g)){const Y=(null===(A=g.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";y.onError(jn(this.auth,Y))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const A=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&A}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yc(g))}saveEventToCache(g){this.cachedEventUids.add(yc(g)),this.lastProcessedEventTime=Date.now()}}function yc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function Ts({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===g?.code}function Ja(C){return el.apply(this,arguments)}function el(){return(el=(0,d.Z)(function*(C,g={}){return je(C,"GET","/v1/projects",g)})).apply(this,arguments)}const hu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vc=/^https?/;function tl(){return(tl=(0,d.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield Ja(C);for(const y of g)try{if(Ol(y))return}catch{}Gn(C,"unauthorized-domain")})).apply(this,arguments)}function Ol(C){const g=Pi(),{protocol:y,hostname:A}=new URL(g);if(C.startsWith("chrome-extension://")){const ct=new URL(C);return""===ct.hostname&&""===A?"chrome-extension:"===y&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&ct.hostname===A}if(!vc.test(y))return!1;if(hu.test(C))return A===C;const Y=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(A)}const gd=new gt(3e4,6e4);function ju(){const C=qi().___jsl;if(C?.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let y=0;y<C.CP.length;y++)C.CP[y]=null}let Vc=null;function Jo(C){return Vc=Vc||function Xd(C){return new Promise((g,y)=>{var A,Y,re;function ct(){ju(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ju(),y(jn(C,"network-request-failed"))},timeout:gd.get()})}if(null!==(Y=null===(A=qi().gapi)||void 0===A?void 0:A.iframes)&&void 0!==Y&&Y.Iframe)g(gapi.iframes.getContext());else{if(null===(re=qi().gapi)||void 0===re||!re.load){const Ht=I("iframefcb");return qi()[Ht]=()=>{gapi.load?ct():y(jn(C,"network-request-failed"))},D(`https://apis.google.com/js/api.js?onload=${Ht}`).catch(vn=>y(vn))}ct()}}).catch(g=>{throw Vc=null,g})}(C),Vc}const ql=new gt(5e3,15e3),kl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gu(C){const g=C.config;zt(g.authDomain,C,"auth-domain-config-required");const y=g.emulator?Te(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,A={apiKey:g.apiKey,appName:C.name,v:P.SDK_VERSION},Y=Zl.get(C.config.apiHost);Y&&(A.eid=Y);const re=C._getFrameworks();return re.length&&(A.fw=re.join(",")),`${y}?${(0,f.xO)(A).slice(1)}`}function Xl(){return Xl=(0,d.Z)(function*(C){const g=yield Jo(C),y=qi().gapi;return zt(y,C,"internal-error"),g.open({where:document.body,url:Gu(C),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kl,dontclear:!0},A=>new Promise(function(){var Y=(0,d.Z)(function*(re,ct){yield A.restyle({setHideOnLeave:!1});const Ht=jn(C,"network-request-failed"),vn=qi().setTimeout(()=>{ct(Ht)},ql.get());function bn(){qi().clearTimeout(vn),re(A)}A.ping(bn).then(bn,()=>{ct(Ht)})});return function(re,ct){return Y.apply(this,arguments)}}()))}),Xl.apply(this,arguments)}const ml={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nl{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gc(C,g,y,A,Y,re){zt(C.config.authDomain,C,"auth-domain-config-required"),zt(C.config.apiKey,C,"invalid-api-key");const ct={apiKey:C.config.apiKey,appName:C.name,authType:y,redirectUrl:A,v:P.SDK_VERSION,eventId:Y};if(g instanceof Nr){g.setDefaultLanguage(C.languageCode),ct.providerId=g.providerId||"",(0,f.xb)(g.getCustomParameters())||(ct.customParameters=JSON.stringify(g.getCustomParameters()));for(const[vn,bn]of Object.entries(re||{}))ct[vn]=bn}if(g instanceof Gr){const vn=g.getScopes().filter(bn=>""!==bn);vn.length>0&&(ct.scopes=vn.join(","))}C.tenantId&&(ct.tid=C.tenantId);const Ht=ct;for(const vn of Object.keys(Ht))void 0===Ht[vn]&&delete Ht[vn];return`${function fu({config:C}){return C.emulator?Te(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,f.xO)(Ht).slice(1)}`}const $u="webStorageSupport",il=class Pl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ji,this._completeRedirectFn=Xo,this._overrideRedirectResult=Or}_openPopup(g,y,A,Y){var re=this;return(0,d.Z)(function*(){var ct;ei(null===(ct=re.eventManagers[g._key()])||void 0===ct?void 0:ct.manager,"_initialize() not called before _openPopup()");const Ht=Gc(g,y,A,Pi(),Y);return function Yi(C,g,y,A=500,Y=600){const re=Math.max((window.screen.availHeight-Y)/2,0).toString(),ct=Math.max((window.screen.availWidth-A)/2,0).toString();let Ht="";const vn=Object.assign(Object.assign({},ml),{width:A.toString(),height:Y.toString(),top:re,left:ct}),bn=(0,f.z$)().toLowerCase();y&&(Ht=Dr(bn)?"_blank":y),mr(bn)&&(g=g||"http://localhost",vn.scrollbars="yes");const ri=Object.entries(vn).reduce((Sr,[hi,Oa])=>`${Sr}${hi}=${Oa},`,"");if(function Ti(C=(0,f.z$)()){var g;return Ai(C)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(bn)&&"_self"!==Ht)return function Ra(C,g){const y=document.createElement("a");y.href=C,y.target=g;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(A)}(g||"",Ht),new nl(null);const ir=window.open(g||"",Ht,ri);zt(ir,C,"popup-blocked");try{ir.focus()}catch{}return new nl(ir)}(g,Ht,vo())})()}_openRedirect(g,y,A,Y){var re=this;return(0,d.Z)(function*(){return yield re._originValidation(g),function es(C){qi().location.href=C}(Gc(g,y,A,Pi(),Y)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:Y,promise:re}=this.eventManagers[y];return Y?Promise.resolve(Y):(ei(re,"If manager is not set, promise should be"),re)}const A=this.initAndGetManager(g);return this.eventManagers[y]={promise:A},A.catch(()=>{delete this.eventManagers[y]}),A}initAndGetManager(g){var y=this;return(0,d.Z)(function*(){const A=yield function Ql(C){return Xl.apply(this,arguments)}(g),Y=new Ma(g);return A.register("authEvent",re=>(zt(re?.authEvent,g,"invalid-auth-event"),{status:Y.onEvent(re.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:Y},y.iframes[g._key()]=A,Y})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send($u,{type:$u},Y=>{var re;const ct=null===(re=Y?.[0])||void 0===re?void 0:re[$u];void 0!==ct&&y(!!ct),Gn(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Uu(C){return tl.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return or()||Xn()||Ai()}};class Co extends class fa{constructor(g){this.factorId=g}_process(g,y,A){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,A);case"signin":return this._finalizeSignIn(g,y.credential);default:return qn("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new Co(g)}_finalizeEnroll(g,y,A){return function Da(C,g){return je(C,"POST","/v2/accounts/mfaEnrollment:finalize",Cn(C,g))}(g,{idToken:y,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function js(C,g){return je(C,"POST","/v2/accounts/mfaSignIn:finalize",Cn(C,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let tc=(()=>{class C{constructor(){}static assertion(y){return Co._fromCredential(y)}}return C.FACTOR_ID="phone",C})();var wc="@firebase/auth";class $c{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,d.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(A=>{var Y;g((null===(Y=A)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Wr(C){(0,P._registerComponent)(new Pt.wA("auth",(g,{options:y})=>{const A=g.getProvider("app").getImmediate(),Y=g.getProvider("heartbeat"),{apiKey:re,authDomain:ct}=A.options;return((Ht,vn)=>{zt(re&&!re.includes(":"),"invalid-api-key",{appName:Ht.name}),zt(!ct?.includes(":"),"argument-error",{appName:Ht.name});const bn={apiKey:re,authDomain:ct,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Do(C)},ri=new Xs(Ht,vn,bn);return function fi(C,g){const y=g?.persistence||[],A=(Array.isArray(y)?y:[y]).map($n);g?.errorMap&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(A,g?.popupRedirectResolver)}(ri,y),ri})(A,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,A)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new Pt.wA("auth-internal",g=>{const y=Vi(g.getProvider("auth").getImmediate());return new $c(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(wc,"0.20.6",function md(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,P.registerVersion)(wc,"0.20.6","esm2017")}("Browser")},5525:(rn,et,T)=>{T.d(et,{u7:()=>bg,Jj:()=>Oc,IX:()=>j_,my:()=>Hs,xU:()=>Fu,Lz:()=>cc,WA:()=>un,F8:()=>ru,$q:()=>Kd,W:()=>au,EK:()=>Ci,PU:()=>Vm,l7:()=>bs,Ky:()=>_n,Xb:()=>Ji,Cf:()=>sr,K9:()=>Dl,Me:()=>Ne,yq:()=>pr,Wi:()=>Vd,ET:()=>$m,Ab:()=>dc,vr:()=>Pc,Fc:()=>H_,hJ:()=>N_,B$:()=>B_,at:()=>rv,oe:()=>Z_,AK:()=>X_,TF:()=>$_,JU:()=>vm,ST:()=>sd,fH:()=>av,Ix:()=>ug,Wu:()=>Nm,Lx:()=>Lm,qY:()=>ao,GL:()=>Lh,QT:()=>Um,kl:()=>K_,Xk:()=>jm,PL:()=>Y_,UQ:()=>Hm,zN:()=>Gm,nP:()=>hc,b9:()=>km,vh:()=>Pm,Pb:()=>Oh,L$:()=>ma,cf:()=>Q_,sc:()=>zm,Xo:()=>Rm,IO:()=>W_,iE:()=>Hf,Eo:()=>bm,i3:()=>kc,Bt:()=>J_,pl:()=>Yd,Ub:()=>xa,qK:()=>Am,TQ:()=>Fm,e0:()=>pg,r7:()=>q_,Mx:()=>G_,ar:()=>Tm});var he,d=T(5861),f=T(9681),P=T(4859),B=T(1877),_e=T(2090),Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Fe={},Re=Re||{},q=Oe||self;function ue(){}function ye(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function tt(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var Ye="closure_uid_"+(1e9*Math.random()>>>0),Ft=0;function pt(r,e,n){return r.call.apply(r.bind,arguments)}function ze(r,e,n){if(!r)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),r.apply(e,c)}}return function(){return r.apply(e,arguments)}}function _t(r,e,n){return(_t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pt:ze).apply(null,arguments)}function yt(r,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),r.apply(this,o)}}function ot(r,e){function n(){}n.prototype=e.prototype,r.Z=e.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(o,c,m){for(var v=Array(arguments.length-2),M=2;M<arguments.length;M++)v[M-2]=arguments[M];return e.prototype[c].apply(o,v)}}function Ue(){this.s=this.s,this.o=this.o}var mt={};Ue.prototype.s=!1,Ue.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function dt(r){return Object.prototype.hasOwnProperty.call(r,Ye)&&r[Ye]||(r[Ye]=++Ft)}(this);delete mt[r]}},Ue.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let n=0;n<r.length;n++)if(n in r&&r[n]===e)return n;return-1},nt=Array.prototype.forEach?function(r,e,n){Array.prototype.forEach.call(r,e,n)}:function(r,e,n){const o=r.length,c="string"==typeof r?r.split(""):r;for(let m=0;m<o;m++)m in c&&e.call(n,c[m],m,r)};function Ze(r){return Array.prototype.concat.apply([],arguments)}function Qe(r){const e=r.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=r[o];return n}return[]}function Ct(r){return/^[\s\xa0]*$/.test(r)}var sn,Et=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Pt(r,e){return-1!=r.indexOf(e)}function En(r,e){return r<e?-1:r>e?1:0}e:{var Rn=q.navigator;if(Rn){var Jt=Rn.userAgent;if(Jt){sn=Jt;break e}}sn=""}function qe(r,e,n){for(const o in r)e.call(n,r[o],o,r)}function Yt(r){const e={};for(const n in r)e[n]=r[n];return e}var Dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jt(r,e){let n,o;for(let c=1;c<arguments.length;c++){for(n in o=arguments[c],o)r[n]=o[n];for(let m=0;m<Dt.length;m++)n=Dt[m],Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}}function $t(r){return $t[" "](r),r}$t[" "]=ue;var ii,r,Nn=Pt(sn,"Opera"),Hn=Pt(sn,"Trident")||Pt(sn,"MSIE"),xi=Pt(sn,"Edge"),Gn=xi||Hn,jn=Pt(sn,"Gecko")&&!(Pt(sn.toLowerCase(),"webkit")&&!Pt(sn,"Edge"))&&!(Pt(sn,"Trident")||Pt(sn,"MSIE"))&&!Pt(sn,"Edge"),Ii=Pt(sn.toLowerCase(),"webkit")&&!Pt(sn,"Edge");function Wn(){var r=q.document;return r?r.documentMode:void 0}e:{var zt="",qn=(r=sn,jn?/rv:([^\);]+)(\)|;)/.exec(r):xi?/Edge\/([\d\.]+)/.exec(r):Hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Ii?/WebKit\/(\S+)/.exec(r):Nn?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(qn&&(zt=qn?qn[1]:""),Hn){var ei=Wn();if(null!=ei&&ei>parseFloat(zt)){ii=String(ei);break e}}ii=zt}var en={};var Pi=q.document&&Hn&&(Wn()||parseInt(ii,10))||void 0,zi=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{q.addEventListener("test",ue,e),q.removeEventListener("test",ue,e)}catch{}return r}();function Fn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}function yi(r,e){if(Fn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,o=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(jn){e:{try{$t(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==n?e=r.fromElement:"mouseout"==n&&(e=r.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:Qt[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&yi.Z.h.call(this)}}Fn.prototype.h=function(){this.defaultPrevented=!0},ot(yi,Fn);var Qt={2:"touch",3:"pen",4:"mouse"};yi.prototype.h=function(){yi.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Te=0;function wt(r,e,n,o,c){this.listener=r,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=c,this.key=++Te,this.ca=this.fa=!1}function Lt(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function qt(r){this.src=r,this.g={},this.h=0}function Cn(r,e){var n=e.type;if(n in r.g){var m,o=r.g[n],c=vt(o,e);(m=0<=c)&&Array.prototype.splice.call(o,c,1),m&&(Lt(e),0==r.g[n].length&&(delete r.g[n],r.h--))}}function je(r,e,n,o){for(var c=0;c<r.length;++c){var m=r[c];if(!m.ca&&m.listener==e&&m.capture==!!n&&m.ia==o)return c}return-1}qt.prototype.add=function(r,e,n,o,c){var m=r.toString();(r=this.g[m])||(r=this.g[m]=[],this.h++);var v=je(r,e,o,c);return-1<v?(e=r[v],n||(e.fa=!1)):((e=new wt(e,this.src,m,!!o,c)).fa=n,r.push(e)),e};var It="closure_lm_"+(1e6*Math.random()|0),$={};function ee(r,e,n,o,c){if(o&&o.once)return de(r,e,n,o,c);if(Array.isArray(e)){for(var m=0;m<e.length;m++)ee(r,e[m],n,o,c);return null}return n=nn(n),r&&r[gt]?r.N(e,n,tt(o)?!!o.capture:!!o,c):se(r,e,n,!1,o,c)}function se(r,e,n,o,c,m){if(!e)throw Error("Invalid event type");var v=tt(c)?!!c.capture:!!c,M=Je(r);if(M||(r[It]=M=new qt(r)),(n=M.add(e,n,o,v,m)).proxy)return n;if(o=function Q(){var e=Ie;return function r(n){return e.call(r.src,r.listener,n)}}(),n.proxy=o,o.src=r,o.listener=n,r.addEventListener)zi||(c=v),void 0===c&&(c=!1),r.addEventListener(e.toString(),o,c);else if(r.attachEvent)r.attachEvent(Ce(e.toString()),o);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(o)}return n}function de(r,e,n,o,c){if(Array.isArray(e)){for(var m=0;m<e.length;m++)de(r,e[m],n,o,c);return null}return n=nn(n),r&&r[gt]?r.O(e,n,tt(o)?!!o.capture:!!o,c):se(r,e,n,!0,o,c)}function ve(r,e,n,o,c){if(Array.isArray(e))for(var m=0;m<e.length;m++)ve(r,e[m],n,o,c);else o=tt(o)?!!o.capture:!!o,n=nn(n),r&&r[gt]?(r=r.i,(e=String(e).toString())in r.g&&-1<(n=je(m=r.g[e],n,o,c))&&(Lt(m[n]),Array.prototype.splice.call(m,n,1),0==m.length&&(delete r.g[e],r.h--))):r&&(r=Je(r))&&(e=r.g[e.toString()],r=-1,e&&(r=je(e,n,o,c)),(n=-1<r?e[r]:null)&&J(n))}function J(r){if("number"!=typeof r&&r&&!r.ca){var e=r.src;if(e&&e[gt])Cn(e.i,r);else{var n=r.type,o=r.proxy;e.removeEventListener?e.removeEventListener(n,o,r.capture):e.detachEvent?e.detachEvent(Ce(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Je(e))?(Cn(n,r),0==n.h&&(n.src=null,e[It]=null)):Lt(r)}}}function Ce(r){return r in $?$[r]:$[r]="on"+r}function Ie(r,e){if(r.ca)r=!0;else{e=new yi(e,this);var n=r.listener,o=r.ia||r.src;r.fa&&J(r),r=n.call(o,e)}return r}function Je(r){return(r=r[It])instanceof qt?r:null}var it="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(r){return"function"==typeof r?r:(r[it]||(r[it]=function(e){return r.handleEvent(e)}),r[it])}function fn(){Ue.call(this),this.i=new qt(this),this.P=this,this.I=null}function dn(r,e){var n,o=r.I;if(o)for(n=[];o;o=o.I)n.push(o);if(r=r.P,o=e.type||e,"string"==typeof e)e=new Fn(e,r);else if(e instanceof Fn)e.target=e.target||r;else{var c=e;jt(e=new Fn(o,r),c)}if(c=!0,n)for(var m=n.length-1;0<=m;m--){var v=e.g=n[m];c=at(v,o,!0,e)&&c}if(c=at(v=e.g=r,o,!0,e)&&c,c=at(v,o,!1,e)&&c,n)for(m=0;m<n.length;m++)c=at(v=e.g=n[m],o,!1,e)&&c}function at(r,e,n,o){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,m=0;m<e.length;++m){var v=e[m];if(v&&!v.ca&&v.capture==n){var M=v.listener,z=v.ia||v.src;v.fa&&Cn(r.i,v),c=!1!==M.call(z,o)&&c}}return c&&!o.defaultPrevented}ot(fn,Ue),fn.prototype[gt]=!0,fn.prototype.removeEventListener=function(r,e,n,o){ve(this,r,e,n,o)},fn.prototype.M=function(){if(fn.Z.M.call(this),this.i){var e,r=this.i;for(e in r.g){for(var n=r.g[e],o=0;o<n.length;o++)Lt(n[o]);delete r.g[e],r.h--}}this.I=null},fn.prototype.N=function(r,e,n,o){return this.i.add(String(r),e,!1,n,o)},fn.prototype.O=function(r,e,n,o){return this.i.add(String(r),e,!0,n,o)};var ke=q.JSON.stringify;function He(){var r=lt;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var oe,Ge=new class{constructor(r,e){this.i=r,this.j=e,this.h=0,this.g=null}get(){let r;return 0<this.h?(this.h--,r=this.g,this.g=r.next,r.next=null):r=this.i(),r}}(()=>new Le,r=>r.reset());class Le{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function be(r){q.setTimeout(()=>{throw r},0)}function te(r,e){oe||function ae(){var r=q.Promise.resolve(void 0);oe=function(){r.then(hn)}}(),Be||(oe(),Be=!0),lt.add(r,e)}var Be=!1,lt=new class Tt{constructor(){this.h=this.g=null}add(e,n){const o=Ge.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function hn(){for(var r;r=He();){try{r.h.call(r.g)}catch(n){be(n)}var e=Ge;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Be=!1}function Sn(r,e){fn.call(this),this.h=r||1,this.g=e||q,this.j=_t(this.kb,this),this.l=Date.now()}function oi(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function rt(r,e,n){if("function"==typeof r)n&&(r=_t(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=_t(r.handleEvent,r)}return 2147483647<Number(e)?-1:q.setTimeout(r,e||0)}function ie(r){r.g=rt(()=>{r.g=null,r.i&&(r.i=!1,ie(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}ot(Sn,fn),(he=Sn.prototype).da=!1,he.S=null,he.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dn(this,"tick"),this.da&&(oi(this),this.start()))}},he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.M=function(){Sn.Z.M.call(this),oi(this),delete this.g};class Z extends Ue{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ie(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(r){Ue.call(this),this.h=r,this.g={}}ot(Ee,Ue);var K=[];function De(r,e,n,o){Array.isArray(n)||(n&&(K[0]=n.toString()),n=K);for(var c=0;c<n.length;c++){var m=ee(e,n[c],o||r.handleEvent,!1,r.h||r);if(!m)break;r.g[m.key]=m}}function Se(r){qe(r.g,function(e,n){this.g.hasOwnProperty(n)&&J(e)},r),r.g={}}function st(){this.g=!0}function xn(r,e,n,o){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function mr(r,e){if(!r.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var o=n[r];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var m=c[0];if("noop"!=m&&"stop"!=m&&"close"!=m)for(var v=1;v<c.length;v++)c[v]=""}}}return ke(n)}catch{return e}}(r,n)+(o?" "+o:"")})}Ee.prototype.M=function(){Ee.Z.M.call(this),Se(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},st.prototype.Aa=function(){this.g=!1},st.prototype.info=function(){};var Xn={},Dr=null;function Ki(){return Dr=Dr||new fn}function Mr(r){Fn.call(this,Xn.Ma,r)}function Fr(r){const e=Ki();dn(e,new Mr(e,r))}function qr(r,e){Fn.call(this,Xn.STAT_EVENT,r),this.stat=e}function Ai(r){const e=Ki();dn(e,new qr(e,r))}function ns(r,e){Fn.call(this,Xn.Na,r),this.size=e}function Ti(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){r()},e)}Xn.Ma="serverreachability",ot(Mr,Fn),Xn.STAT_EVENT="statevent",ot(qr,Fn),Xn.Na="timingevent",ot(ns,Fn);var Cs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},or={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function is(){}function jo(){}is.prototype.h=null;var na,Xs={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Vi(){Fn.call(this,"d")}function Ho(){Fn.call(this,"c")}function Gs(){}function uo(r,e,n,o){this.l=r,this.j=e,this.m=n,this.X=o||1,this.V=new Ee(this),this.P=cs,this.W=new Sn(r=Gn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Na}function Na(){this.i=null,this.g="",this.h=!1}ot(Vi,Fn),ot(Ho,Fn),ot(Gs,is),Gs.prototype.g=function(){return new XMLHttpRequest},Gs.prototype.i=function(){return{}},na=new Gs;var cs=45e3,ft={},ht={};function St(r,e,n){r.K=1,r.v=yr(xs(e)),r.s=n,r.U=!0,Zt(r,null)}function Zt(r,e){r.F=Date.now(),_r(r),r.A=xs(r.v);var n=r.A,o=r.X;Array.isArray(o)||(o=[String(o)]),Ni(n.h,"t",o),r.C=0,n=r.l.H,r.h=new Na,r.g=Bi(r.l,n?e:null,!r.s),0<r.O&&(r.L=new Z(_t(r.Ia,r,r.g),r.O)),De(r.V,r.g,"readystatechange",r.gb),e=r.H?Yt(r.H):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,e)):(r.u="GET",r.g.ea(r.A,r.u,null,e)),Fr(1),function Kt(r,e,n,o,c,m){r.info(function(){if(r.g)if(m)for(var v="",M=m.split("&"),z=0;z<M.length;z++){var ne=M[z].split("=");if(1<ne.length){var xe=ne[0];ne=ne[1];var Ke=xe.split("_");v=2<=Ke.length&&"type"==Ke[1]?v+(xe+"=")+ne+"&":v+(xe+"=redacted&")}}else v=null;else v=m;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+n+"\n"+v})}(r.j,r.u,r.A,r.m,r.X,r.s)}function yn(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function Tn(r,e,n){let c,o=!0;for(;!r.I&&r.C<n.length;){if(c=di(r,n),c==ht){4==e&&(r.o=4,Ai(14),o=!1),xn(r.j,r.m,null,"[Incomplete Response]");break}if(c==ft){r.o=4,Ai(15),xn(r.j,r.m,n,"[Invalid Chunk]"),o=!1;break}xn(r.j,r.m,c,null),Os(r,c)}yn(r)&&c!=ht&&c!=ft&&(r.h.g="",r.C=0),4!=e||0!=n.length||r.h.h||(r.o=1,Ai(16),o=!1),r.i=r.i&&o,o?0<n.length&&!r.aa&&(r.aa=!0,(e=r.l).g==r&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fe(e),e.L=!0,Ai(11))):(xn(r.j,r.m,n,"[Invalid Chunked Response]"),Zr(r),ar(r))}function di(r,e){var n=r.C,o=e.indexOf("\n",n);return-1==o?ht:(n=Number(e.substring(n,o)),isNaN(n)?ft:(o+=1)+n>e.length?ht:(e=e.substr(o,n),r.C=o+n,e))}function _r(r){r.Y=Date.now()+r.P,Fi(r,r.P)}function Fi(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ti(_t(r.eb,r),e)}function Xi(r){r.B&&(q.clearTimeout(r.B),r.B=null)}function ar(r){0==r.l.G||r.I||Gt(r.l,r)}function Zr(r){Xi(r);var e=r.L;e&&"function"==typeof e.na&&e.na(),r.L=null,oi(r.W),Se(r.V),r.g&&(e=r.g,r.g=null,e.abort(),e.na())}function Os(r,e){try{var n=r.l;if(0!=n.G&&(n.g==r||Fs(n.i,r)))if(n.I=r.N,!r.J&&Fs(n.i,r)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<r.F))break e;Rt(n),mo(n)}N(n),Ai(18)}}else n.ta=c[1],0<n.ta-n.U&&37500>c[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ti(_t(n.ab,n),6e3));if(1>=mi(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Mi(n,11)}else if((r.J||n.g==r)&&Rt(n),!Ct(e))for(c=n.Ca.g.parse(e),e=0;e<c.length;e++){let ne=c[e];if(n.U=ne[0],ne=ne[1],2==n.G)if("c"==ne[0]){n.J=ne[1],n.la=ne[2];const xe=ne[3];null!=xe&&(n.ma=xe,n.h.info("VER="+n.ma));const Ke=ne[4];null!=Ke&&(n.za=Ke,n.h.info("SVER="+n.za));const kt=ne[5];null!=kt&&"number"==typeof kt&&0<kt&&(n.K=o=1.5*kt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Xt=r.g;if(Xt){const an=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(an){var m=o.i;!m.g&&(Pt(an,"spdy")||Pt(an,"quic")||Pt(an,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(ra(m,m.h),m.h=null))}if(o.D){const On=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;On&&(o.sa=On,Li(o.F,o.D,On))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var v=r;if((o=n).oa=Hi(o,o.H?o.la:null,o.W),v.J){po(o.i,v);var M=v,z=o.K;z&&M.setTimeout(z),M.B&&(Xi(M),_r(M)),o.g=v}else X(o);0<n.l.length&&Ro(n)}else"stop"!=ne[0]&&"close"!=ne[0]||Mi(n,7);else 3==n.G&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?Mi(n,7):Mo(n):"noop"!=ne[0]&&n.j&&n.j.wa(ne),n.A=0)}Fr(4)}catch{}}function Qn(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(ye(r)||"string"==typeof r)nt(r,e,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(ye(r)||"string"==typeof r){n=[];for(var o=r.length,c=0;c<o;c++)n.push(c)}else for(c in n=[],o=0,r)n[o++]=c;o=function jr(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(ye(r)){for(var e=[],n=r.length,o=0;o<n;o++)e.push(r[o]);return e}for(o in e=[],n=0,r)e[n++]=r[o];return e}(r),c=o.length;for(var m=0;m<c;m++)e.call(void 0,o[m],n&&n[m],r)}}function ks(r,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(r)if(r instanceof ks)for(n=r.T(),o=0;o<n.length;o++)this.set(n[o],r.get(n[o]));else for(o in r)this.set(o,r[o])}function Js(r){if(r.i!=r.g.length){for(var e=0,n=0;e<r.g.length;){var o=r.g[e];Hr(r.h,o)&&(r.g[n++]=o),e++}r.g.length=n}if(r.i!=r.g.length){var c={};for(n=e=0;e<r.g.length;)Hr(c,o=r.g[e])||(r.g[n++]=o,c[o]=1),e++;r.g.length=n}}function Hr(r,e){return Object.prototype.hasOwnProperty.call(r,e)}(he=uo.prototype).setTimeout=function(r){this.P=r},he.gb=function(r){r=r.target;const e=this.L;e&&3==To(r)?e.l():this.Ia(r)},he.Ia=function(r){try{if(r==this.g)e:{const xe=To(this.g);var e=this.g.Da();const Ke=this.g.ba();if(!(3>xe)&&(3!=xe||Gn||this.g&&(this.h.h||this.g.ga()||ba(this.g)))){this.I||4!=xe||7==e||Fr(8==e||0>=Ke?3:2),Xi(this);var n=this.g.ba();this.N=n;t:if(yn(this)){var o=ba(this.g);r="";var c=o.length,m=4==To(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),ar(this);var v="";break t}this.h.i=new q.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,r+=this.h.i.decode(o[e],{stream:m&&e==c-1});o.splice(0,c),this.h.g+=r,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==n,function pn(r,e,n,o,c,m,v){r.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+n+"\n"+m+" "+v})}(this.j,this.u,this.A,this.m,this.X,xe,n),this.i){if(this.$&&!this.J){t:{if(this.g){var M,z=this.g;if((M=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ct(M)){var ne=M;break t}}ne=null}if(!(n=ne)){this.i=!1,this.o=3,Ai(12),Zr(this),ar(this);break e}xn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Os(this,n)}this.U?(Tn(this,xe,v),Gn&&this.i&&3==xe&&(De(this.V,this.W,"tick",this.fb),this.W.start())):(xn(this.j,this.m,v,null),Os(this,v)),4==xe&&Zr(this),this.i&&!this.I&&(4==xe?Gt(this.l,this):(this.i=!1,_r(this)))}else 400==n&&0<v.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),Zr(this),ar(this)}}}catch{}},he.fb=function(){if(this.g){var r=To(this.g),e=this.g.ga();this.C<e.length&&(Xi(this),Tn(this,r,e),this.i&&4!=r&&_r(this))}},he.cancel=function(){this.I=!0,Zr(this)},he.eb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Jn(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fr(3),Ai(17)),Zr(this),this.o=2,ar(this)):Fi(this,this.Y-r)},(he=ks.prototype).R=function(){Js(this);for(var r=[],e=0;e<this.g.length;e++)r.push(this.h[this.g[e]]);return r},he.T=function(){return Js(this),this.g.concat()},he.get=function(r,e){return Hr(this.h,r)?this.h[r]:e},he.set=function(r,e){Hr(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=e},he.forEach=function(r,e){for(var n=this.T(),o=0;o<n.length;o++){var c=n[o],m=this.get(c);r.call(e,m,c,this)}};var Io=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Qr(r,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof Qr){this.g=void 0!==e?e:r.g,$s(this,r.j),this.s=r.s,Ps(this,r.i),us(this,r.m),this.l=r.l,e=r.h;var n=new Ar;n.i=e.i,e.g&&(n.g=new ks(e.g),n.h=e.h),ia(this,n),this.o=r.o}else r&&(n=String(r).match(Io))?(this.g=!!e,$s(this,n[1]||"",!0),this.s=zs(n[2]||""),Ps(this,n[3]||"",!0),us(this,n[4]),this.l=zs(n[5]||"",!0),ia(this,n[6]||"",!0),this.o=zs(n[7]||"")):(this.g=!!e,this.h=new Ar(null,this.g))}function xs(r){return new Qr(r)}function $s(r,e,n){r.j=n?zs(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Ps(r,e,n){r.i=n?zs(e,!0):e}function us(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function ia(r,e,n){e instanceof Ar?(r.h=e,function Gr(r,e){e&&!r.j&&(Is(r),r.i=null,r.g.forEach(function(n,o){var c=o.toLowerCase();o!=c&&(hs(this,o),Ni(this,c,n))},r)),r.j=e}(r.h,r.g)):(n||(e=ds(e,ll)),r.h=new Ar(e,r.g))}function Li(r,e,n){r.h.set(e,n)}function yr(r){return Li(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function zs(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ds(r,e,n){return"string"==typeof r?(r=encodeURI(r).replace(e,Ao),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ao(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Qr.prototype.toString=function(){var r=[],e=this.j;e&&r.push(ds(e,ya,!0),":");var n=this.i;return(n||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(ds(e,ya,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(ds(n,"/"==n.charAt(0)?Ba:ur,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",ds(n,Lr)),r.join("")};var ya=/[#\/\?@]/g,ur=/[#\?:]/g,Ba=/[#\?]/g,ll=/[#\?@]/g,Lr=/#/g;function Ar(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function Is(r){r.g||(r.g=new ks,r.h=0,r.i&&function _a(r,e){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var o=r[n].indexOf("="),c=null;if(0<=o){var m=r[n].substring(0,o);c=r[n].substring(o+1)}else m=r[n];e(m,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(r.i,function(e,n){r.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function hs(r,e){Is(r),e=Nr(r,e),Hr(r.g.h,e)&&(r.i=null,r.h-=r.g.get(e).length,Hr((r=r.g).h,e)&&(delete r.h[e],r.i--,r.g.length>2*r.i&&Js(r)))}function ho(r,e){return Is(r),e=Nr(r,e),Hr(r.g.h,e)}function Ni(r,e,n){hs(r,e),0<n.length&&(r.i=null,r.g.set(Nr(r,e),Qe(n)),r.h+=n.length)}function Nr(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ss(r){this.l=r||fo,r=q.PerformanceNavigationTiming?0<(r=q.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(q.g&&q.g.Ea&&q.g.Ea()&&q.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(he=Ar.prototype).add=function(r,e){Is(this),this.i=null,r=Nr(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(e),this.h+=1,this},he.forEach=function(r,e){Is(this),this.g.forEach(function(n,o){nt(n,function(c){r.call(e,c,o,this)},this)},this)},he.T=function(){Is(this);for(var r=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var c=r[o],m=0;m<c.length;m++)n.push(e[o]);return n},he.R=function(r){Is(this);var e=[];if("string"==typeof r)ho(this,r)&&(e=Ze(e,this.g.get(Nr(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)e=Ze(e,r[n])}return e},he.set=function(r,e){return Is(this),this.i=null,ho(this,r=Nr(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},he.get=function(r,e){return r&&0<(r=this.R(r)).length?String(r[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],c=encodeURIComponent(String(o));o=this.R(o);for(var m=0;m<o.length;m++){var v=c;""!==o[m]&&(v+="="+encodeURIComponent(String(o[m]))),r.push(v)}}return this.i=r.join("&")};var fo=10;function dr(r){return!!r.h||!!r.g&&r.g.size>=r.j}function mi(r){return r.h?1:r.g?r.g.size:0}function Fs(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ra(r,e){r.g?r.g.add(e):r.h=e}function po(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function sa(r){if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const n of r.g.values())e=e.concat(n.D);return e}return Qe(r.i)}function Ls(){}function $r(){this.g=new Ls}function fs(r,e,n){const o=n||"";try{Qn(r,function(c,m){let v=c;tt(c)&&(v=ke(c)),e.push(o+m+"="+encodeURIComponent(v))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function tn(r,e,n,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch{}}function vi(r){this.l=r.$b||null,this.j=r.ib||!1}function Go(r,e){fn.call(this),this.D=r,this.u=e,this.m=void 0,this.readyState=So,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ss.prototype.cancel=function(){if(this.i=sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}},Ls.prototype.stringify=function(r){return q.JSON.stringify(r,void 0)},Ls.prototype.parse=function(r){return q.JSON.parse(r,void 0)},ot(vi,is),vi.prototype.g=function(){return new Go(this.l,this.j)},vi.prototype.i=function(r){return function(){return r}}({}),ot(Go,fn);var So=0;function vr(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function G(r){r.readyState=4,r.l=null,r.j=null,r.A=null,V(r)}function V(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(he=Go.prototype).open=function(r,e){if(this.readyState!=So)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,V(this)},he.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.D||q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,G(this)),this.readyState=So},he.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,V(this)),this.g&&(this.readyState=3,V(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vr(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},he.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?G(this):V(this),3==this.readyState&&vr(this)}},he.Ua=function(r){this.g&&(this.response=this.responseText=r,G(this))},he.Ta=function(r){this.g&&(this.response=r,G(this))},he.ha=function(){this.g&&G(this)},he.setRequestHeader=function(r,e){this.v.append(r,e)},he.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var n=e.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=e.next();return r.join("\r\n")},Object.defineProperty(Go.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var L=q.JSON.parse;function pe(r){fn.call(this),this.headers=new ks,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Bt,this.K=this.L=!1}ot(pe,fn);var Bt="",Zn=/^https?$/i,lr=["POST","PUT"];function Ns(r){return"content-type"==r.toLowerCase()}function nr(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,ps(r),go(r)}function ps(r){r.D||(r.D=!0,dn(r,"complete"),dn(r,"error"))}function oa(r){if(r.h&&typeof Re<"u"&&(!r.C[1]||4!=To(r)||2!=r.ba()))if(r.v&&4==To(r))rt(r.Fa,0,r);else if(dn(r,"readystatechange"),4==To(r)){r.h=!1;try{const M=r.ba();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===M){var c=String(r.H).match(Io)[1]||null;if(!c&&q.self&&q.self.location){var m=q.self.location.protocol;c=m.substr(0,m.length-1)}o=!Zn.test(c?c.toLowerCase():"")}n=o}if(n)dn(r,"complete"),dn(r,"success");else{r.m=6;try{var v=2<To(r)?r.g.statusText:""}catch{v=""}r.j=v+" ["+r.ba()+"]",ps(r)}}finally{go(r)}}}function go(r,e){if(r.g){As(r);const n=r.g,o=r.C[0]?ue:null;r.g=null,r.C=null,e||dn(r,"ready");try{n.onreadystatechange=o}catch{}}}function As(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(q.clearTimeout(r.A),r.A=null)}function To(r){return r.g?r.g.readyState:0}function ba(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case Bt:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function wa(r,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function Lc(r){let e="";return qe(r,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Li(r,e,n))}function $o(r,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||e}function zo(r){this.za=0,this.l=[],this.h=new st,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$o("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$o("baseRetryDelayMs",5e3,r),this.$a=$o("retryDelaySeedMs",1e4,r),this.Ya=$o("forwardChannelMaxRetries",2,r),this.ra=$o("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new ss(r&&r.concurrentRequestLimit),this.Ca=new $r,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function Mo(r){if(_o(r),3==r.G){var e=r.V++,n=xs(r.F);Li(n,"SID",r.J),Li(n,"RID",e),Li(n,"TYPE","terminate"),Wo(r,n),(e=new uo(r,r.h,e,void 0)).K=2,e.v=yr(xs(n)),n=!1,q.navigator&&q.navigator.sendBeacon&&(n=q.navigator.sendBeacon(e.v.toString(),"")),!n&&q.Image&&((new Image).src=e.v,n=!0),n||(e.g=Bi(e.l,null),e.g.ea(e.v)),e.F=Date.now(),_r(e)}ji(r)}function mo(r){r.g&&(fe(r),r.g.cancel(),r.g=null)}function _o(r){mo(r),r.u&&(q.clearTimeout(r.u),r.u=null),Rt(r),r.i.cancel(),r.m&&("number"==typeof r.m&&q.clearTimeout(r.m),r.m=null)}function cl(r,e){r.l.push(new class{constructor(r,e){this.h=r,this.g=e}}(r.Za++,e)),3==r.G&&Ro(r)}function Ro(r){dr(r.i)||r.m||(r.m=!0,te(r.Ha,r),r.C=0)}function Ea(r,e){var n;n=e?e.m:r.V++;const o=xs(r.F);Li(o,"SID",r.J),Li(o,"RID",n),Li(o,"AID",r.U),Wo(r,o),r.o&&r.s&&wa(o,r.o,r.s),n=new uo(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),e&&(r.l=e.D.concat(r.l)),e=O(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),ra(r.i,n),St(n,o,e)}function Wo(r,e){r.j&&Qn({},function(n,o){Li(e,o,n)})}function O(r,e,n){n=Math.min(r.l.length,n);var o=r.j?_t(r.j.Oa,r.j,r):null;e:{var c=r.l;let m=-1;for(;;){const v=["count="+n];-1==m?0<n?(m=c[0].h,v.push("ofs="+m)):m=0:v.push("ofs="+m);let M=!0;for(let z=0;z<n;z++){let ne=c[z].h;const xe=c[z].g;if(ne-=m,0>ne)m=Math.max(0,c[z].h-100),M=!1;else try{fs(xe,v,"req"+ne+"_")}catch{o&&o(xe)}}if(M){o=v.join("&");break e}}}return r=r.l.splice(0,n),e.D=r,o}function X(r){r.g||r.u||(r.Y=1,te(r.Ga,r),r.A=0)}function N(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Ti(_t(r.Ga,r),Pn(r,r.A)),r.A++,0))}function fe(r){null!=r.B&&(q.clearTimeout(r.B),r.B=null)}function $e(r){r.g=new uo(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var e=xs(r.oa);Li(e,"RID","rpc"),Li(e,"SID",r.J),Li(e,"CI",r.N?"0":"1"),Li(e,"AID",r.U),Wo(r,e),Li(e,"TYPE","xmlhttp"),r.o&&r.s&&wa(e,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=yr(xs(e)),n.s=null,n.U=!0,Zt(n,r)}function Rt(r){null!=r.v&&(q.clearTimeout(r.v),r.v=null)}function Gt(r,e){var n=null;if(r.g==e){Rt(r),fe(r),r.g=null;var o=2}else{if(!Fs(r.i,e))return;n=e.D,po(r.i,e),o=1}if(r.I=e.N,0!=r.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var c=r.C;dn(o=Ki(),new ns(o,n,e,c)),Ro(r)}else X(r);else if(3==(c=e.o)||0==c&&0<r.I||!(1==o&&function fc(r,e){return!(mi(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=e.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Ti(_t(r.Ha,r,e),Pn(r,r.C)),r.C++,0)))}(r,e)||2==o&&N(r)))switch(n&&0<n.length&&(e=r.i,e.i=e.i.concat(n)),c){case 1:Mi(r,5);break;case 4:Mi(r,10);break;case 3:Mi(r,6);break;default:Mi(r,2)}}function Pn(r,e){let n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*e}function Mi(r,e){if(r.h.info("Error code "+e),2==e){var n=null;r.j&&(n=null);var o=_t(r.jb,r);n||(n=new Qr("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||$s(n,"https"),yr(n)),function va(r,e){const n=new st;if(q.Image){const o=new Image;o.onload=yt(tn,n,o,"TestLoadImage: loaded",!0,e),o.onerror=yt(tn,n,o,"TestLoadImage: error",!1,e),o.onabort=yt(tn,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=yt(tn,n,o,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=r}else e(!1)}(n.toString(),o)}else Ai(2);r.G=0,r.j&&r.j.va(e),ji(r),_o(r)}function ji(r){r.G=0,r.I=-1,r.j&&((0!=sa(r.i).length||0!=r.l.length)&&(r.i.i.length=0,Qe(r.l),r.l.length=0),r.j.ua())}function Hi(r,e,n){let o=function rs(r){return r instanceof Qr?xs(r):new Qr(r,void 0)}(n);if(""!=o.i)e&&Ps(o,e+"."+o.i),us(o,o.m);else{const c=q.location;o=function Ds(r,e,n,o){var c=new Qr(null,void 0);return r&&$s(c,r),e&&Ps(c,e),n&&us(c,n),o&&(c.l=o),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,n)}return r.aa&&qe(r.aa,function(c,m){Li(o,m,c)}),n=r.sa,(e=r.D)&&n&&Li(o,e,n),Li(o,"VER",r.ma),Wo(r,o),o}function Bi(r,e,n){if(e&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pe(n&&r.Ba&&!r.qa?new vi({ib:!0}):r.qa)).L=r.H,e}function hr(){}function Gi(){if(Hn&&!(10<=Number(Pi)))throw Error("Environmental error: no available transport.")}function Ri(r,e){fn.call(this),this.g=new zo(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(r?r["X-WebChannel-Client-Profile"]=e.ya:r={"X-WebChannel-Client-Profile":e.ya}),this.g.P=r,(r=e&&e.httpHeadersOverwriteParam)&&!Ct(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ct(e)&&(this.g.D=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new Xr(this)}function Ws(r){Vi.call(this);var e=r.__sm__;if(e){e:{for(const n in e){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function gs(){Ho.call(this),this.status=1}function Xr(r){this.g=r}(he=pe.prototype).ea=function(r,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);e=e?e.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():na.g(),this.C=function Do(r){return r.h||(r.h=r.i())}(this.u?this.u:na),this.g.onreadystatechange=_t(this.Fa,this);try{this.F=!0,this.g.open(e,String(r),!0),this.F=!1}catch(m){return void nr(this,m)}r=n||"";const c=new ks(this.headers);o&&Qn(o,function(m,v){c.set(v,m)}),o=function Ae(r){e:{var e=Ns;const n=r.length,o="string"==typeof r?r.split(""):r;for(let c=0;c<n;c++)if(c in o&&e.call(void 0,o[c],c,r)){e=c;break e}e=-1}return 0>e?null:"string"==typeof r?r.charAt(e):r[e]}(c.T()),n=q.FormData&&r instanceof q.FormData,!(0<=vt(lr,e))||o||n||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(m,v){this.g.setRequestHeader(v,m)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{As(this),0<this.B&&((this.K=function os(r){return Hn&&function $n(){return function An(r){var e=en;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=r(9)}(function(){let r=0;const e=Et(String(ii)).split("."),n=Et("9").split("."),o=Math.max(e.length,n.length);for(let v=0;0==r&&v<o;v++){var c=e[v]||"",m=n[v]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==c[0].length&&0==m[0].length)break;r=En(0==c[1].length?0:parseInt(c[1],10),0==m[1].length?0:parseInt(m[1],10))||En(0==c[2].length,0==m[2].length)||En(c[2],m[2]),c=c[3],m=m[3]}while(0==r)}return 0<=r})}()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.pa,this)):this.A=rt(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(m){nr(this,m)}},he.pa=function(){typeof Re<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},he.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,dn(this,"complete"),dn(this,"abort"),go(this))},he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),go(this,!0)),pe.Z.M.call(this)},he.Fa=function(){this.s||(this.F||this.v||this.l?oa(this):this.cb())},he.cb=function(){oa(this)},he.ba=function(){try{return 2<To(this)?this.g.status:-1}catch{return-1}},he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Qa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),L(e)}},he.Da=function(){return this.m},he.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=zo.prototype).ma=8,he.G=1,he.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch{}},he.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;const c=new uo(this,this.h,r,void 0);let m=this.s;if(this.P&&(m?(m=Yt(m),jt(m,this.P)):m=this.P),null===this.o&&(c.H=m),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=O(this,c,e),Li(n=xs(this.F),"RID",r),Li(n,"CVER",22),this.D&&Li(n,"X-HTTP-Session-Id",this.D),Wo(this,n),this.o&&m&&wa(n,this.o,m),ra(this.i,c),this.Ra&&Li(n,"TYPE","init"),this.ja?(Li(n,"$req",e),Li(n,"SID","null"),c.$=!0,St(c,n,null)):St(c,n,e),this.G=2}}else 3==this.G&&(r?Ea(this,r):0==this.l.length||dr(this.i)||Ea(this))},he.Ga=function(){if(this.u=null,$e(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Ti(_t(this.bb,this),r)}},he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ai(10),mo(this),$e(this))},he.ab=function(){null!=this.v&&(this.v=null,mo(this),N(this),Ai(19))},he.jb=function(r){r?(this.h.info("Successfully pinged google.com"),Ai(2)):(this.h.info("Failed to ping google.com"),Ai(1))},(he=hr.prototype).xa=function(){},he.wa=function(){},he.va=function(){},he.ua=function(){},he.Oa=function(){},Gi.prototype.g=function(r,e){return new Ri(r,e)},ot(Ri,fn),Ri.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,e=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),te(_t(r.hb,r,e))),Ai(0),r.W=e,r.aa=n||{},r.N=r.X,r.F=Hi(r,null,r.W),Ro(r)},Ri.prototype.close=function(){Mo(this.g)},Ri.prototype.u=function(r){if("string"==typeof r){var e={};e.__data__=r,cl(this.g,e)}else this.v?((e={}).__data__=ke(r),cl(this.g,e)):cl(this.g,r)},Ri.prototype.M=function(){this.g.j=null,delete this.j,Mo(this.g),delete this.g,Ri.Z.M.call(this)},ot(Ws,Vi),ot(gs,Ho),ot(Xr,hr),Xr.prototype.xa=function(){dn(this.g,"a")},Xr.prototype.wa=function(r){dn(this.g,new Ws(r))},Xr.prototype.va=function(r){dn(this.g,new gs(r))},Xr.prototype.ua=function(){dn(this.g,"b")},Gi.prototype.createWebChannel=Gi.prototype.g,Ri.prototype.send=Ri.prototype.u,Ri.prototype.open=Ri.prototype.m,Ri.prototype.close=Ri.prototype.close,Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,or.COMPLETE="complete",jo.EventType=Xs,Xs.OPEN="a",Xs.CLOSE="b",Xs.ERROR="c",Xs.MESSAGE="d",fn.prototype.listen=fn.prototype.N,pe.prototype.listenOnce=pe.prototype.O,pe.prototype.getLastError=pe.prototype.La,pe.prototype.getLastErrorCode=pe.prototype.Da,pe.prototype.getStatus=pe.prototype.ba,pe.prototype.getResponseJson=pe.prototype.Qa,pe.prototype.getResponseText=pe.prototype.ga,pe.prototype.send=pe.prototype.ea;var Ks=Fe.createWebChannelTransport=function(){return new Gi},eo=Fe.getStatEventTarget=function(){return Ki()},Bs=Fe.ErrorCode=Cs,Va=Fe.EventType=or,ul=Fe.Event=Xn,fr=Fe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ca=Fe.FetchXmlHttpFactory=vi,dl=Fe.WebChannel=jo,pc=Fe.XhrIo=pe;const gc="@firebase/firestore";class Ir{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ir.UNAUTHENTICATED=new Ir(null),Ir.GOOGLE_CREDENTIALS=new Ir("google-credentials-uid"),Ir.FIRST_PARTY=new Ir("first-party-uid"),Ir.MOCK_USER=new Ir("mock-user");let Oo="9.9.4";const Br=new B.Yd("@firebase/firestore");function hl(){return Br.logLevel}function xa(r){Br.setLogLevel(r)}function on(r,...e){if(Br.logLevel<=B.in.DEBUG){const n=e.map(Ua);Br.debug(`Firestore (${Oo}): ${r}`,...n)}}function br(r,...e){if(Br.logLevel<=B.in.ERROR){const n=e.map(Ua);Br.error(`Firestore (${Oo}): ${r}`,...n)}}function pr(r,...e){if(Br.logLevel<=B.in.WARN){const n=e.map(Ua);Br.warn(`Firestore (${Oo}): ${r}`,...n)}}function Ua(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function kn(r="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+r;throw br(e),new Error(e)}function _i(r,e){r||kn()}function Dl(r,e){r||kn()}function xt(r,e){return r}const Vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class un extends _e.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Vs{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ir.UNAUTHENTICATED))}shutdown(){}}class Us{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ja{constructor(e){this.t=e,this.currentUser=Ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let c=this.i;const m=ne=>this.i!==c?(c=this.i,n(ne)):Promise.resolve();let v=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new Jr,e.enqueueRetryable(()=>m(this.currentUser))};const M=()=>{const ne=v;e.enqueueRetryable((0,d.Z)(function*(){yield ne.promise,yield m(o.currentUser)}))},z=ne=>{on("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),M()};this.t.onInit(ne=>z(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?z(ne):(on("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new Jr)}},0),M()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(on("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(_i("string"==typeof o.accessToken),new Vs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _i(null===e||"string"==typeof e),new Ir(e)}}class ko{constructor(e,n,o,c){this.h=e,this.l=n,this.m=o,this.g=c,this.type="FirstParty",this.user=Ir.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(_i(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Ha{constructor(e,n,o,c){this.h=e,this.l=n,this.m=o,this.g=c}getToken(){return Promise.resolve(new ko(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Da{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nc{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=m=>{null!=m.error&&on("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${m.error.message}`);const v=m.token!==this.A;return this.A=m.token,on("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?n(m.token):Promise.resolve()};this.o=m=>{e.enqueueRetryable(()=>o(m))};const c=m=>{on("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=m,this.appCheck.addTokenListener(this.o)};this.T.onInit(m=>c(m)),setTimeout(()=>{if(!this.appCheck){const m=this.T.getImmediate({optional:!0});m?c(m):on("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_i("string"==typeof n.token),this.A=n.token,new Da(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ia(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<r;o++)n[o]=Math.floor(256*Math.random());return n}class $a{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=Ia(40);for(let m=0;m<c.length;++m)o.length<20&&c[m]<n&&(o+=e.charAt(c[m]%e.length))}return o}}function Bn(r,e){return r<e?-1:r>e?1:0}function Po(r,e,n){return r.length===e.length&&r.every((o,c)=>n(o,e[c]))}function to(r){return r+"\0"}class Ci{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new un(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new un(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new un(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new un(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ci.fromMillis(Date.now())}static fromDate(e){return Ci.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new Ci(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bn(this.nanoseconds,e.nanoseconds):Bn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vn(e)}static min(){return new Vn(new Ci(0,0))}static max(){return new Vn(new Ci(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class la{constructor(e,n,o){void 0===n?n=0:n>e.length&&kn(),void 0===o?o=e.length-n:o>e.length-n&&kn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===la.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof la?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let c=0;c<o;c++){const m=e.get(c),v=n.get(c);if(m<v)return-1;if(m>v)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Oi extends la{construct(e,n,o){return new Oi(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new un(Vt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(c=>c.length>0))}return new Oi(n)}static emptyPath(){return new Oi([])}}const yo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends la{construct(e,n,o){return new Ji(e,n,o)}static isValidIdentifier(e){return yo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ji(["__name__"])}static fromServerFormat(e){const n=[];let o="",c=0;const m=()=>{if(0===o.length)throw new un(Vt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let v=!1;for(;c<e.length;){const M=e[c];if("\\"===M){if(c+1===e.length)throw new un(Vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const z=e[c+1];if("\\"!==z&&"."!==z&&"`"!==z)throw new un(Vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=z,c+=2}else"`"===M?(v=!v,c++):"."!==M||v?(o+=M,c++):(m(),c++)}if(m(),v)throw new un(Vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ji(n)}static emptyPath(){return new Ji([])}}class _n{constructor(e){this.path=e}static fromPath(e){return new _n(Oi.fromString(e))}static fromName(e){return new _n(Oi.fromString(e).popFirst(5))}static empty(){return new _n(Oi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Oi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Oi.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _n(new Oi(e.slice()))}}class ca{constructor(e,n,o,c){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=c}}function vo(r){return r.fields.find(e=>2===e.kind)}function ms(r){return r.fields.filter(e=>2!==e.kind)}ca.UNKNOWN_ID=-1;class es{constructor(e,n){this.fieldPath=e,this.kind=n}}class ys{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new ys(0,er.min())}}function Fo(r,e){const n=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,c=Vn.fromTimestamp(1e9===o?new Ci(n+1,0):new Ci(n,o));return new er(c,_n.empty(),e)}function Il(r){return new er(r.readTime,r.key,-1)}class er{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new er(Vn.min(),_n.empty(),-1)}static max(){return new er(Vn.max(),_n.empty(),-1)}}function no(r,e){let n=r.readTime.compareTo(e.readTime);return 0!==n?n:(n=_n.comparator(r.documentKey,e.documentKey),0!==n?n:Bn(r.largestBatchId,e.largestBatchId))}const za="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zi{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ko(r){return Wa.apply(this,arguments)}function Wa(){return Wa=(0,d.Z)(function*(r){if(r.code!==Vt.FAILED_PRECONDITION||r.message!==za)throw r;on("LocalStore","Unexpectedly lost primary lease")}),Wa.apply(this,arguments)}class Ot{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&kn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ot((o,c)=>{this.nextCallback=m=>{this.wrapSuccess(e,m).next(o,c)},this.catchCallback=m=>{this.wrapFailure(n,m).next(o,c)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ot?n:Ot.resolve(n)}catch(n){return Ot.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ot.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ot.reject(n)}static resolve(e){return new Ot((n,o)=>{n(e)})}static reject(e){return new Ot((n,o)=>{o(e)})}static waitFor(e){return new Ot((n,o)=>{let c=0,m=0,v=!1;e.forEach(M=>{++c,M.next(()=>{++m,v&&m===c&&n()},z=>o(z))}),v=!0,m===c&&n()})}static or(e){let n=Ot.resolve(!1);for(const o of e)n=n.next(c=>c?Ot.resolve(c):o());return n}static forEach(e,n){const o=[];return e.forEach((c,m)=>{o.push(n.call(this,c,m))}),this.waitFor(o)}static mapArray(e,n){return new Ot((o,c)=>{const m=e.length,v=new Array(m);let M=0;for(let z=0;z<m;z++){const ne=z;n(e[ne]).next(xe=>{v[ne]=xe,++M,M===m&&o(v)},xe=>c(xe))}})}static doWhile(e,n){return new Ot((o,c)=>{const m=()=>{!0===e()?n().next(()=>{m()},c):o()};m()})}}class Ka{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new Jr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new qa(e,n.error)):this.P.resolve()},this.transaction.onerror=o=>{const c=fl(o.target.error);this.P.reject(new qa(e,c))}}static open(e,n,o,c){try{return new Ka(n,e.transaction(c,o))}catch(m){throw new qa(n,m)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(on("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new mc(n)}}class io{constructor(e,n,o){this.name=e,this.version=n,this.S=o,12.2===io.D((0,_e.z$)())&&br("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return on("SimpleDb","Removing database:",e),Aa(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,_e.hl)())return!1;if(io.N())return!0;const e=(0,_e.z$)(),n=io.D(e),o=0<n&&n<10,c=io.k(e),m=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||m)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var n=this;return(0,d.Z)(function*(){return n.db||(on("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,c)=>{const m=indexedDB.open(n.name,n.version);m.onsuccess=v=>{o(v.target.result)},m.onblocked=()=>{c(new qa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},m.onerror=v=>{const M=v.target.error;c("VersionError"===M.name?new un(Vt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===M.name?new un(Vt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+M):new qa(e,M))},m.onupgradeneeded=v=>{on("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',v.oldVersion),n.S.$(v.target.result,m.transaction,v.oldVersion,n.version).next(()=>{on("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,c){var m=this;return(0,d.Z)(function*(){const v="readonly"===n;let M=0;for(;;){++M;try{m.db=yield m.F(e);const z=Ka.open(m.db,e,v?"readonly":"readwrite",o),ne=c(z).next(xe=>(z.V(),xe)).catch(xe=>(z.abort(xe),Ot.reject(xe))).toPromise();return ne.catch(()=>{}),yield z.v,ne}catch(z){const ne=z,xe="FirebaseError"!==ne.name&&M<3;if(on("SimpleDb","Transaction failed with error:",ne.message,"Retrying:",xe),m.close(),!xe)return Promise.reject(ne)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ya{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Aa(this.U.delete())}}class qa extends un{constructor(e,n){super(Vt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ro(r){return"IndexedDbTransactionError"===r.name}class mc{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(on("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(on("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Aa(o)}add(e){return on("SimpleDb","ADD",this.store.name,e,e),Aa(this.store.add(e))}get(e){return Aa(this.store.get(e)).next(n=>(void 0===n&&(n=null),on("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return on("SimpleDb","DELETE",this.store.name,e),Aa(this.store.delete(e))}count(){return on("SimpleDb","COUNT",this.store.name),Aa(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),m=[];return this.H(c,(v,M)=>{m.push(M)}).next(()=>m)}{const c=this.store.getAll(o.range);return new Ot((m,v)=>{c.onerror=M=>{v(M.target.error)},c.onsuccess=M=>{m(M.target.result)}})}}J(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new Ot((c,m)=>{o.onerror=v=>{m(v.target.error)},o.onsuccess=v=>{c(v.target.result)}})}Y(e,n){on("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.X=!1;const c=this.cursor(o);return this.H(c,(m,v,M)=>M.delete())}Z(e,n){let o;n?o=e:(o={},n=e);const c=this.cursor(o);return this.H(c,n)}tt(e){const n=this.cursor({});return new Ot((o,c)=>{n.onerror=m=>{const v=fl(m.target.error);c(v)},n.onsuccess=m=>{const v=m.target.result;v?e(v.primaryKey,v.value).next(M=>{M?v.continue():o()}):o()}})}H(e,n){const o=[];return new Ot((c,m)=>{e.onerror=v=>{m(v.target.error)},e.onsuccess=v=>{const M=v.target.result;if(!M)return void c();const z=new Ya(M),ne=n(M.primaryKey,M.value,z);if(ne instanceof Ot){const xe=ne.catch(Ke=>(z.done(),Ot.reject(Ke)));o.push(xe)}z.isDone?c():null===z.G?M.continue():M.continue(z.G)}}).next(()=>Ot.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Aa(r){return new Ot((e,n)=>{r.onsuccess=o=>{e(o.target.result)},r.onerror=o=>{const c=fl(o.target.error);n(c)}})}let Vr=!1;function fl(r){const e=io.D((0,_e.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const o=new un("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vr||(Vr=!0,setTimeout(()=>{throw o},0)),o}}return r}class Al{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;on("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,d.Z)(function*(){n.task=null;try{on("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(o){ro(o)?on("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ko(o)}yield n.nt(1)}))}}class zl{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,d.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.it(o,e))})()}it(e,n){const o=new Set;let c=n,m=!0;return Ot.doWhile(()=>!0===m&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return on("IndexBackiller",`Processing collection: ${v}`),this.rt(e,v,c).next(M=>{c-=M,o.add(v)});m=!1})).next(()=>n-c)}rt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(c=>this.localStore.localDocuments.getNextDocuments(e,n,c,o).next(m=>{const v=m.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.ot(c,m)).next(M=>(on("IndexBackiller",`Updating offset: ${M}`),this.localStore.indexManager.updateCollectionGroup(e,n,M))).next(()=>v.size)}))}ot(e,n){let o=e;return n.changes.forEach((c,m)=>{const v=Il(m);no(v,o)>0&&(o=v)}),new er(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class Ss{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function js(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function as(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function pl(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}Ss.at=-1;class wr{constructor(e,n){this.comparator=e,this.root=n||I.EMPTY}insert(e,n){return new wr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,I.BLACK,null,null))}remove(e){return new wr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,I.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return n+o.left.size;c<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new D(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new D(this.root,e,this.comparator,!1)}getReverseIterator(){return new D(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new D(this.root,e,this.comparator,!0)}}class D{constructor(e,n,o,c){this.isReverse=c,this.nodeStack=[];let m=1;for(;!e.isEmpty();)if(m=n?o(e.key,n):1,n&&c&&(m*=-1),m<0)e=this.isReverse?e.left:e.right;else{if(0===m){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class I{constructor(e,n,o,c,m){this.key=e,this.value=n,this.color=o??I.RED,this.left=c??I.EMPTY,this.right=m??I.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,c,m){return new I(e??this.key,n??this.value,o??this.color,c??this.left,m??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let c=this;const m=o(e,c.key);return c=m<0?c.copy(null,null,null,c.left.insert(e,n,o),null):0===m?c.copy(null,n,null,null,null):c.copy(null,null,null,null,c.right.insert(e,n,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return I.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,c=this;if(n(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,n),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===n(e,c.key)){if(c.right.isEmpty())return I.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,n))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,I.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,I.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kn();const e=this.left.check();if(e!==this.right.check())throw kn();return e+(this.isRed()?0:1)}}I.EMPTY=null,I.RED=!0,I.BLACK=!1,I.EMPTY=new class{constructor(){this.size=0}get key(){throw kn()}get value(){throw kn()}get color(){throw kn()}get left(){throw kn()}get right(){throw kn()}copy(r,e,n,o,c){return this}insert(r,e,n){return new I(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class E{constructor(e){this.comparator=e,this.data=new wr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;n(c.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k(this.data.getIterator())}getIteratorFrom(e){return new k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof E)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const c=n.getNext().key,m=o.getNext().key;if(0!==this.comparator(c,m))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new E(this.comparator);return n.data=e,n}}class k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function j(r){return r.hasNext()?r.getNext():void 0}class ce{constructor(e){this.fields=e,e.sort(Ji.comparator)}static empty(){return new ce([])}unionWith(e){let n=new E(Ji.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new ce(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Ne(){return typeof atob<"u"}class Pe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Pe(n)}static fromUint8Array(e){const n=function(o){let c="";for(let m=0;m<o.length;++m)c+=String.fromCharCode(o[m]);return c}(e);return new Pe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pe.EMPTY_BYTE_STRING=new Pe("");const Ut=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mn(r){if(_i(!!r),"string"==typeof r){let e=0;const n=Ut.exec(r);if(_i(!!n),n[1]){let c=n[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Kn(r.seconds),nanos:Kn(r.nanos)}}function Kn(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Mn(r){return"string"==typeof r?Pe.fromBase64String(r):Pe.fromUint8Array(r)}function $i(r){var e,n;return"server_timestamp"===(null===(n=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ls(r){const e=r.mapValue.fields.__previous_value__;return $i(e)?ls(e):e}function vs(r){const e=mn(r.mapValue.fields.__local_write_time__.timestampValue);return new Ci(e.seconds,e.nanos)}class Za{constructor(e,n,o,c,m,v,M,z){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=c,this.ssl=m,this.forceLongPolling=v,this.autoDetectLongPolling=M,this.useFetchStreams=z}}class bs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bs&&e.projectId===this.projectId&&e.database===this.database}}function gl(r){return null==r}function Ys(r){return 0===r&&1/r==-1/0}function qs(r){return"number"==typeof r&&Number.isInteger(r)&&!Ys(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const so={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sa={nullValue:"NULL_VALUE"};function Yo(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?$i(r)?4:Ve(r)?9007199254740991:10:kn()}function bo(r,e){if(r===e)return!0;const n=Yo(r);if(n!==Yo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vs(r).isEqual(vs(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const m=mn(o.timestampValue),v=mn(c.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return c=e,Mn(r.bytesValue).isEqual(Mn(c.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Kn(o.geoPointValue.latitude)===Kn(c.geoPointValue.latitude)&&Kn(o.geoPointValue.longitude)===Kn(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Kn(o.integerValue)===Kn(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const m=Kn(o.doubleValue),v=Kn(c.doubleValue);return m===v?Ys(m)===Ys(v):isNaN(m)&&isNaN(v)}return!1}(r,e);case 9:return Po(r.arrayValue.values||[],e.arrayValue.values||[],bo);case 10:return function(o,c){const m=o.mapValue.fields||{},v=c.mapValue.fields||{};if(js(m)!==js(v))return!1;for(const M in m)if(m.hasOwnProperty(M)&&(void 0===v[M]||!bo(m[M],v[M])))return!1;return!0}(r,e);default:return kn()}var c}function wo(r,e){return void 0!==(r.values||[]).find(n=>bo(n,e))}function qo(r,e){if(r===e)return 0;const n=Yo(r),o=Yo(e);if(n!==o)return Bn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bn(r.booleanValue,e.booleanValue);case 2:return function(c,m){const v=Kn(c.integerValue||c.doubleValue),M=Kn(m.integerValue||m.doubleValue);return v<M?-1:v>M?1:v===M?0:isNaN(v)?isNaN(M)?0:-1:1}(r,e);case 3:return ua(r.timestampValue,e.timestampValue);case 4:return ua(vs(r),vs(e));case 5:return Bn(r.stringValue,e.stringValue);case 6:return function(c,m){const v=Mn(c),M=Mn(m);return v.compareTo(M)}(r.bytesValue,e.bytesValue);case 7:return function(c,m){const v=c.split("/"),M=m.split("/");for(let z=0;z<v.length&&z<M.length;z++){const ne=Bn(v[z],M[z]);if(0!==ne)return ne}return Bn(v.length,M.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,m){const v=Bn(Kn(c.latitude),Kn(m.latitude));return 0!==v?v:Bn(Kn(c.longitude),Kn(m.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(c,m){const v=c.values||[],M=m.values||[];for(let z=0;z<v.length&&z<M.length;++z){const ne=qo(v[z],M[z]);if(ne)return ne}return Bn(v.length,M.length)}(r.arrayValue,e.arrayValue);case 10:return function(c,m){if(c===so.mapValue&&m===so.mapValue)return 0;if(c===so.mapValue)return 1;if(m===so.mapValue)return-1;const v=c.fields||{},M=Object.keys(v),z=m.fields||{},ne=Object.keys(z);M.sort(),ne.sort();for(let xe=0;xe<M.length&&xe<ne.length;++xe){const Ke=Bn(M[xe],ne[xe]);if(0!==Ke)return Ke;const kt=qo(v[M[xe]],z[ne[xe]]);if(0!==kt)return kt}return Bn(M.length,ne.length)}(r.mapValue,e.mapValue);default:throw kn()}}function ua(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return Bn(r,e);const n=mn(r),o=mn(e),c=Bn(n.seconds,o.seconds);return 0!==c?c:Bn(n.nanos,o.nanos)}function Sl(r){return Qa(r)}function Qa(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(o){const c=mn(o);return`time(${c.seconds},${c.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Mn(r.bytesValue).toBase64():"referenceValue"in r?_n.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(o){let c="[",m=!0;for(const v of o.values||[])m?m=!1:c+=",",c+=Qa(v);return c+"]"}(r.arrayValue):"mapValue"in r?function(o){const c=Object.keys(o.fields||{}).sort();let m="{",v=!0;for(const M of c)v?v=!1:m+=",",m+=`${M}:${Qa(o.fields[M])}`;return m+"}"}(r.mapValue):kn();var e}function Lo(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function da(r){return!!r&&"integerValue"in r}function Er(r){return!!r&&"arrayValue"in r}function cu(r){return!!r&&"nullValue"in r}function F(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function H(r){return!!r&&"mapValue"in r}function le(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return as(r.mapValue.fields,(n,o)=>e.mapValue.fields[n]=le(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=le(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Ve(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}function bt(r){return"nullValue"in r?Sa:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Lo(bs.empty(),_n.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?{mapValue:{}}:kn()}function Nt(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Lo(bs.empty(),_n.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?{mapValue:{}}:"mapValue"in r?so:kn()}function cn(r,e){const n=qo(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function In(r,e){const n=qo(r.value,e.value);return 0!==n?n:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class Un{constructor(e){this.value=e}static empty(){return new Un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!H(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=le(n)}setAll(e){let n=Ji.emptyPath(),o={},c=[];e.forEach((v,M)=>{if(!n.isImmediateParentOf(M)){const z=this.getFieldsMap(n);this.applyChanges(z,o,c),o={},c=[],n=M.popLast()}v?o[M.lastSegment()]=le(v):c.push(M.lastSegment())});const m=this.getFieldsMap(n);this.applyChanges(m,o,c)}delete(e){const n=this.field(e.popLast());H(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=n.mapValue.fields[e.get(o)];H(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=c),n=c}return n.mapValue.fields}applyChanges(e,n,o){as(n,(c,m)=>e[c]=m);for(const c of o)delete e[c]}clone(){return new Un(le(this.value))}}function wi(r){const e=[];return as(r.fields,(n,o)=>{const c=new Ji([n]);if(H(o)){const m=wi(o.mapValue).fields;if(0===m.length)e.push(c);else for(const v of m)e.push(c.child(v))}else e.push(c)}),new ce(e)}class zn{constructor(e,n,o,c,m,v){this.key=e,this.documentType=n,this.version=o,this.readTime=c,this.data=m,this.documentState=v}static newInvalidDocument(e){return new zn(e,0,Vn.min(),Vn.min(),Un.empty(),0)}static newFoundDocument(e,n,o){return new zn(e,1,n,Vn.min(),o,0)}static newNoDocument(e,n){return new zn(e,2,n,Vn.min(),Un.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,Vn.min(),Un.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ui{constructor(e,n=null,o=[],c=[],m=null,v=null,M=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=c,this.limit=m,this.startAt=v,this.endAt=M,this.ht=null}}function zr(r,e=null,n=[],o=[],c=null,m=null,v=null){return new ui(r,e,n,o,c,m,v)}function Cr(r){const e=xt(r);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+Sl(c.value);var c}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),gl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Sl(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Sl(o)).join(",")),e.ht=n}return e.ht}function Ta(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<r.orderBy.length;c++)if(!Qd(r.orderBy[c],e.orderBy[c]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let c=0;c<r.filters.length;c++)if((n=r.filters[c]).op!==(o=e.filters[c]).op||!n.field.isEqual(o.field)||!bo(n.value,o.value))return!1;var n,o;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Vu(r.startAt,e.startAt)&&Vu(r.endAt,e.endAt)}function Zo(r){return _n.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}function Qo(r,e){return r.filters.filter(n=>n instanceof Or&&n.field.isEqual(e))}function ha(r,e,n){let o=Sa,c=!0;for(const m of Qo(r,e)){let v=Sa,M=!0;switch(m.op){case"<":case"<=":v=bt(m.value);break;case"==":case"in":case">=":v=m.value;break;case">":v=m.value,M=!1;break;case"!=":case"not-in":v=Sa}cn({value:o,inclusive:c},{value:v,inclusive:M})<0&&(o=v,c=M)}if(null!==n)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const v=n.position[m];cn({value:o,inclusive:c},{value:v,inclusive:n.inclusive})<0&&(o=v,c=n.inclusive);break}return{value:o,inclusive:c}}function Tl(r,e,n){let o=so,c=!0;for(const m of Qo(r,e)){let v=so,M=!0;switch(m.op){case">=":case">":v=Nt(m.value),M=!1;break;case"==":case"in":case"<=":v=m.value;break;case"<":v=m.value,M=!1;break;case"!=":case"not-in":v=so}In({value:o,inclusive:c},{value:v,inclusive:M})>0&&(o=v,c=M)}if(null!==n)for(let m=0;m<r.orderBy.length;++m)if(r.orderBy[m].field.isEqual(e)){const v=n.position[m];In({value:o,inclusive:c},{value:v,inclusive:n.inclusive})>0&&(o=v,c=n.inclusive);break}return{value:o,inclusive:c}}class Or extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new Xa(e,n,o):"array-contains"===n?new Nu(e,o):"in"===n?new Zd(e,o):"not-in"===n?new uu(e,o):"array-contains-any"===n?new du(e,o):new Or(e,n,o)}static lt(e,n,o){return"in"===n?new Bc(e,o):new Hh(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(qo(n,this.value)):null!==n&&Yo(this.value)===Yo(n)&&this.ft(qo(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return kn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Xa extends Or{constructor(e,n,o){super(e,n,o),this.key=_n.fromName(o.referenceValue)}matches(e){const n=_n.comparator(e.key,this.key);return this.ft(n)}}class Bc extends Or{constructor(e,n){super(e,"in",n),this.keys=pd(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hh extends Or{constructor(e,n){super(e,"not-in",n),this.keys=pd(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pd(r,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>_n.fromName(o.referenceValue))}class Nu extends Or{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Er(n)&&wo(n.arrayValue,this.value)}}class Zd extends Or{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&wo(this.value.arrayValue,n)}}class uu extends Or{constructor(e,n){super(e,"not-in",n)}matches(e){if(wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!wo(this.value.arrayValue,n)}}class du extends Or{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Er(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>wo(this.value.arrayValue,o))}}class Ml{constructor(e,n){this.position=e,this.inclusive=n}}class Kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qd(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}function Bu(r,e,n){let o=0;for(let c=0;c<r.position.length;c++){const m=e[c],v=r.position[c];if(o=m.field.isKeyField()?_n.comparator(_n.fromName(v.referenceValue),n.key):qo(v,n.data.field(m.field)),"desc"===m.dir&&(o*=-1),0!==o)break}return o}function Vu(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!bo(r.position[n],e.position[n]))return!1;return!0}class Xo{constructor(e,n=null,o=[],c=[],m=null,v="F",M=null,z=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=c,this.limit=m,this.limitType=v,this.startAt=M,this.endAt=z,this._t=null,this.wt=null}}function _c(r,e,n,o,c,m,v,M){return new Xo(r,e,n,o,c,m,v,M)}function Eo(r){return new Xo(r)}function Rl(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function Yl(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Ma(r){for(const e of r.filters)if(e.dt())return e.field;return null}function yc(r){return null!==r.collectionGroup}function Ts(r){const e=xt(r);if(null===e._t){e._t=[];const n=Ma(e),o=Yl(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new Kl(n)),e._t.push(new Kl(Ji.keyField(),"asc"));else{let c=!1;for(const m of e.explicitOrderBy)e._t.push(m),m.field.isKeyField()&&(c=!0);if(!c){const m=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Kl(Ji.keyField(),m))}}}return e._t}function No(r){const e=xt(r);if(!e.wt)if("F"===e.limitType)e.wt=zr(e.path,e.collectionGroup,Ts(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const m of Ts(e))n.push(new Kl(m.field,"desc"===m.dir?"asc":"desc"));const o=e.endAt?new Ml(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new Ml(e.startAt.position,e.startAt.inclusive):null;e.wt=zr(e.path,e.collectionGroup,n,e.filters,e.limit,o,c)}return e.wt}function Ja(r,e,n){return new Xo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function el(r,e){return Ta(No(r),No(e))&&r.limitType===e.limitType}function hu(r){return`${Cr(No(r))}|lt:${r.limitType}`}function vc(r){return`Query(target=${function Wl(r){let e=r.path.canonicalString();return null!==r.collectionGroup&&(e+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(e+=`, filters: [${r.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${Sl(o.value)}`;var o}).join(", ")}]`),gl(r.limit)||(e+=", limit: "+r.limit),r.orderBy.length>0&&(e+=`, orderBy: [${r.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),r.startAt&&(e+=", startAt: ",e+=r.startAt.inclusive?"b:":"a:",e+=r.startAt.position.map(n=>Sl(n)).join(",")),r.endAt&&(e+=", endAt: ",e+=r.endAt.inclusive?"a:":"b:",e+=r.endAt.position.map(n=>Sl(n)).join(",")),`Target(${e})`}(No(r))}; limitType=${r.limitType})`}function Uu(r,e){return e.isFoundDocument()&&function(n,o){const c=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(c):_n.isDocumentKey(n.path)?n.path.isEqual(c):n.path.isImmediateParentOf(c)}(r,e)&&function(n,o){for(const c of n.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(r,e)&&function(n,o){for(const c of n.filters)if(!c.matches(o))return!1;return!0}(r,e)&&(o=e,!((n=r).startAt&&!function(c,m,v){const M=Bu(c,m,v);return c.inclusive?M<=0:M<0}(n.startAt,Ts(n),o)||n.endAt&&!function(c,m,v){const M=Bu(c,m,v);return c.inclusive?M>=0:M>0}(n.endAt,Ts(n),o)));var n,o}function tl(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Ol(r){return(e,n)=>{let o=!1;for(const c of Ts(r)){const m=gd(c,e,n);if(0!==m)return m;o=o||c.field.isKeyField()}return 0}}function gd(r,e,n){const o=r.field.isKeyField()?_n.comparator(e.key,n.key):function(c,m,v){const M=m.data.field(c),z=v.data.field(c);return null!==M&&null!==z?qo(M,z):kn()}(r.field,e,n);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return kn()}}function ju(r,e){if(r.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ys(e)?"-0":e}}function Xd(r){return{integerValue:""+r}}function Vc(r,e){return qs(e)?Xd(e):ju(r,e)}class Jo{constructor(){this._=void 0}}function ql(r,e,n){return r instanceof kl?function(o,c){const m={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(m.fields.__previous_value__=c),{mapValue:m}}(n,e):r instanceof Zl?Gu(r,e):r instanceof Ql?Xl(r,e):function(o,c){const m=Hu(o,c),v=Uc(m)+Uc(o.yt);return da(m)&&da(o.yt)?Xd(v):ju(o.It,v)}(r,e)}function Gh(r,e,n){return r instanceof Zl?Gu(r,e):r instanceof Ql?Xl(r,e):n}function Hu(r,e){return r instanceof ml?da(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class kl extends Jo{}class Zl extends Jo{constructor(e){super(),this.elements=e}}function Gu(r,e){const n=jc(e);for(const o of r.elements)n.some(c=>bo(c,o))||n.push(o);return{arrayValue:{values:n}}}class Ql extends Jo{constructor(e){super(),this.elements=e}}function Xl(r,e){let n=jc(e);for(const o of r.elements)n=n.filter(c=>!bo(c,o));return{arrayValue:{values:n}}}class ml extends Jo{constructor(e,n){super(),this.It=e,this.yt=n}}function Uc(r){return Kn(r.integerValue||r.doubleValue)}function jc(r){return Er(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class bc{constructor(e,n){this.field=e,this.transform=n}}class nl{constructor(e,n){this.version=e,this.transformResults=n}}class Yi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class Hc{}function ec(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Fl(r.key,Yi.none()):new il(r.key,r.data,Yi.none());{const n=r.data,o=Un.empty();let c=new E(Ji.comparator);for(let m of e.fields)if(!c.has(m)){let v=n.field(m);null===v&&m.length>1&&(m=m.popLast(),v=n.field(m)),null===v?o.delete(m):o.set(m,v),c=c.add(m)}return new fa(r.key,o,new ce(c.toArray()),Yi.none())}}function Gc(r,e,n){r instanceof il?function(o,c,m){const v=o.value.clone(),M=tc(o.fieldTransforms,c,m.transformResults);v.setAll(M),c.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(r,e,n):r instanceof fa?function(o,c,m){if(!Ra(o.precondition,c))return void c.convertToUnknownDocument(m.version);const v=tc(o.fieldTransforms,c,m.transformResults),M=c.data;M.setAll(Co(o)),M.setAll(v),c.convertToFoundDocument(m.version,M).setHasCommittedMutations()}(r,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function fu(r,e,n,o){return r instanceof il?function(c,m,v,M){if(!Ra(c.precondition,m))return v;const z=c.value.clone(),ne=wc(c.fieldTransforms,M,m);return z.setAll(ne),m.convertToFoundDocument(m.version,z).setHasLocalMutations(),null}(r,e,n,o):r instanceof fa?function(c,m,v,M){if(!Ra(c.precondition,m))return v;const z=wc(c.fieldTransforms,M,m),ne=m.data;return ne.setAll(Co(c)),ne.setAll(z),m.convertToFoundDocument(m.version,ne).setHasLocalMutations(),null===v?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(xe=>xe.field))}(r,e,n,o):(v=n,Ra(r.precondition,m=e)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v);var m,v}function $u(r,e){let n=null;for(const o of r.fieldTransforms){const c=e.data.field(o.field),m=Hu(o.transform,c||null);null!=m&&(null===n&&(n=Un.empty()),n.set(o.field,m))}return n||null}function Pl(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===o||n&&o&&Po(n,o,(c,m)=>function Jl(r,e){return r.field.isEqual(e.field)&&(o=e.transform,(n=r.transform)instanceof Zl&&o instanceof Zl||n instanceof Ql&&o instanceof Ql?Po(n.elements,o.elements,bo):n instanceof ml&&o instanceof ml?bo(n.yt,o.yt):n instanceof kl&&o instanceof kl);var n,o}(c,m))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var n,o}class il extends Hc{constructor(e,n,o,c=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class fa extends Hc{constructor(e,n,o,c,m=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=c,this.fieldTransforms=m,this.type=1}getFieldMask(){return this.fieldMask}}function Co(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=r.data.field(n);e.set(n,o)}}),e}function tc(r,e,n){const o=new Map;_i(r.length===n.length);for(let c=0;c<n.length;c++){const m=r[c],v=m.transform,M=e.data.field(m.field);o.set(m.field,Gh(v,M,n[c]))}return o}function wc(r,e,n){const o=new Map;for(const c of r){const m=c.transform,v=n.data.field(c.field);o.set(c.field,ql(m,v,e))}return o}class Fl extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $c extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class md{constructor(e){this.count=e}}var Wr,Wi;function C(r){switch(r){default:return kn();case Vt.CANCELLED:case Vt.UNKNOWN:case Vt.DEADLINE_EXCEEDED:case Vt.RESOURCE_EXHAUSTED:case Vt.INTERNAL:case Vt.UNAVAILABLE:case Vt.UNAUTHENTICATED:return!1;case Vt.INVALID_ARGUMENT:case Vt.NOT_FOUND:case Vt.ALREADY_EXISTS:case Vt.PERMISSION_DENIED:case Vt.FAILED_PRECONDITION:case Vt.ABORTED:case Vt.OUT_OF_RANGE:case Vt.UNIMPLEMENTED:case Vt.DATA_LOSS:return!0}}function g(r){if(void 0===r)return br("GRPC error has no .code"),Vt.UNKNOWN;switch(r){case Wr.OK:return Vt.OK;case Wr.CANCELLED:return Vt.CANCELLED;case Wr.UNKNOWN:return Vt.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return Vt.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return Vt.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return Vt.INTERNAL;case Wr.UNAVAILABLE:return Vt.UNAVAILABLE;case Wr.UNAUTHENTICATED:return Vt.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return Vt.INVALID_ARGUMENT;case Wr.NOT_FOUND:return Vt.NOT_FOUND;case Wr.ALREADY_EXISTS:return Vt.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return Vt.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return Vt.FAILED_PRECONDITION;case Wr.ABORTED:return Vt.ABORTED;case Wr.OUT_OF_RANGE:return Vt.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return Vt.UNIMPLEMENTED;case Wr.DATA_LOSS:return Vt.DATA_LOSS;default:return kn()}}(Wi=Wr||(Wr={}))[Wi.OK=0]="OK",Wi[Wi.CANCELLED=1]="CANCELLED",Wi[Wi.UNKNOWN=2]="UNKNOWN",Wi[Wi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wi[Wi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wi[Wi.NOT_FOUND=5]="NOT_FOUND",Wi[Wi.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wi[Wi.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wi[Wi.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wi[Wi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wi[Wi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wi[Wi.ABORTED=10]="ABORTED",Wi[Wi.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wi[Wi.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wi[Wi.INTERNAL=13]="INTERNAL",Wi[Wi.UNAVAILABLE=14]="UNAVAILABLE",Wi[Wi.DATA_LOSS=15]="DATA_LOSS";class y{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[c,m]of o)if(this.equalsFn(c,e))return m}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,n]],void this.innerSize++;for(let m=0;m<c.length;m++)if(this.equalsFn(c[m][0],e))return void(c[m]=[e,n]);c.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[n]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,o)=>{for(const[c,m]of o)e(c,m)})}isEmpty(){return pl(this.inner)}size(){return this.innerSize}}const A=new wr(_n.comparator);function Y(){return A}const re=new wr(_n.comparator);function ct(...r){let e=re;for(const n of r)e=e.insert(n.key,n);return e}function Ht(r){let e=re;return r.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function vn(){return ri()}function bn(){return ri()}function ri(){return new y(r=>r.toString(),(r,e)=>r.isEqual(e))}const ir=new wr(_n.comparator),Sr=new E(_n.comparator);function hi(...r){let e=Sr;for(const n of r)e=e.add(n);return e}const Oa=new E(Bn);function Ec(){return Oa}class Cc{constructor(e,n,o,c,m){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=m}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,n)),new Cc(Vn.min(),o,Ec(),Y(),hi())}}class rl{constructor(e,n,o,c,m){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=m}static createSynthesizedTargetChangeForCurrentChange(e,n){return new rl(Pe.EMPTY_BYTE_STRING,n,hi(),hi(),hi())}}class sl{constructor(e,n,o,c){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=c}}class Ll{constructor(e,n){this.targetId=e,this.At=n}}class zc{constructor(e,n,o=Pe.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=c}}class Wc{constructor(){this.Rt=0,this.bt=pu(),this.Pt=Pe.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=hi(),n=hi(),o=hi();return this.bt.forEach((c,m)=>{switch(m){case 0:e=e.add(c);break;case 2:n=n.add(c);break;case 1:o=o.add(c);break;default:kn()}}),new rl(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=pu()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class zu{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Y(),this.qt=xc(),this.Kt=new E(Bn)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:kn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,c)=>{this.Ht(c)&&n(c)})}Yt(e){const n=e.targetId,o=e.At.count,c=this.Xt(n);if(c){const m=c.target;if(Zo(m))if(0===o){const v=new _n(m.path);this.jt(n,v,zn.newNoDocument(v,Vn.min()))}else _i(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((m,v)=>{const M=this.Xt(v);if(M){if(m.current&&Zo(M.target)){const z=new _n(M.target.path);null!==this.Ut.get(z)||this.ee(v,z)||this.jt(v,z,zn.newNoDocument(z,e))}m.Dt&&(n.set(v,m.xt()),m.Nt())}});let o=hi();this.qt.forEach((m,v)=>{let M=!0;v.forEachWhile(z=>{const ne=this.Xt(z);return!ne||2===ne.purpose||(M=!1,!1)}),M&&(o=o.add(m))}),this.Ut.forEach((m,v)=>v.setReadTime(e));const c=new Cc(e,n,this.Kt,this.Ut,o);return this.Ut=Y(),this.qt=xc(),this.Kt=new E(Bn),c}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const c=this.zt(e);this.ee(e,n)?c.kt(n,1):c.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new Wc,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new E(Bn),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||on("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Wc),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function xc(){return new wr(_n.comparator)}function pu(){return new wr(_n.comparator)}const Kc={asc:"ASCENDING",desc:"DESCENDING"},$h={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ip{constructor(e,n){this.databaseId=e,this.gt=n}}function Yc(r,e){return r.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jd(r,e){return r.gt?e.toBase64():e.toUint8Array()}function zh(r,e){return Yc(r,e.toTimestamp())}function xr(r){return _i(!!r),Vn.fromTimestamp(function(e){const n=mn(e);return new Ci(n.seconds,n.nanos)}(r))}function Wu(r,e){return(n=r,new Oi(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function gu(r){const e=Oi.fromString(r);return _i(vu(e)),e}function _l(r,e){return Wu(r.databaseId,e.path)}function Nl(r,e){const n=gu(e);if(n.get(1)!==r.databaseId.projectId)throw new un(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new un(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _n(eh(n))}function Ku(r,e){return Wu(r.databaseId,e)}function Yu(r){const e=gu(r);return 4===e.length?Oi.emptyPath():eh(e)}function yl(r){return new Oi(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eh(r){return _i(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function mu(r,e,n){return{name:_l(r,e),fields:n.value.mapValue.fields}}function Wh(r,e,n){const o=Nl(r,e.name),c=xr(e.updateTime),m=new Un({mapValue:{fields:e.fields}}),v=zn.newFoundDocument(o,c,m);return n&&v.setHasCommittedMutations(),n?v.setHasCommittedMutations():v}function ka(r,e){let n;if(e instanceof il)n={update:mu(r,e.key,e.value)};else if(e instanceof Fl)n={delete:_l(r,e.key)};else if(e instanceof fa)n={update:mu(r,e.key,e.data),updateMask:yu(e.fieldMask)};else{if(!(e instanceof $c))return kn();n={verify:_l(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(c,m){const v=m.transform;if(v instanceof kl)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Zl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ql)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof ml)return{fieldPath:m.field.canonicalString(),increment:v.yt};throw kn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:zh(r,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:kn()),n;var c}function th(r,e){const n=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?Yi.updateTime(xr(c.updateTime)):void 0!==c.exists?Yi.exists(c.exists):Yi.none():Yi.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(m,v){let M=null;"setToServerValue"in v?(_i("REQUEST_TIME"===v.setToServerValue),M=new kl):"appendMissingElements"in v?M=new Zl(v.appendMissingElements.values||[]):"removeAllFromArray"in v?M=new Ql(v.removeAllFromArray.values||[]):"increment"in v?M=new ml(m,v.increment):kn();const z=Ji.fromServerFormat(v.fieldPath);return new bc(z,M)}(r,c)):[];var c;if(e.update){const c=Nl(r,e.update.name),m=new Un({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new ce((e.updateMask.fieldPaths||[]).map(ne=>Ji.fromServerFormat(ne)));return new fa(c,m,v,n,o)}return new il(c,m,n,o)}if(e.delete){const c=Nl(r,e.delete);return new Fl(c,n)}if(e.verify){const c=Nl(r,e.verify);return new $c(c,n)}return kn()}function Yh(r,e){return{documents:[Ku(r,e.path)]}}function rp(r,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=Ku(r,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ku(r,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(z){if(0===z.length)return;const ne=z.map(xe=>function(Ke){if("=="===Ke.op){if(F(Ke.value))return{unaryFilter:{field:qc(Ke.field),op:"IS_NAN"}};if(cu(Ke.value))return{unaryFilter:{field:qc(Ke.field),op:"IS_NULL"}}}else if("!="===Ke.op){if(F(Ke.value))return{unaryFilter:{field:qc(Ke.field),op:"IS_NOT_NAN"}};if(cu(Ke.value))return{unaryFilter:{field:qc(Ke.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qc(Ke.field),op:ih(Ke.op),value:Ke.value}}}(xe));return 1===ne.length?ne[0]:{compositeFilter:{op:"AND",filters:ne}}}(e.filters);c&&(n.structuredQuery.where=c);const m=function(z){if(0!==z.length)return z.map(ne=>{return{field:qc((xe=ne).field),direction:sp(xe.dir)};var xe})}(e.orderBy);m&&(n.structuredQuery.orderBy=m);const v=(ne=e.limit,r.gt||gl(ne)?ne:{value:ne});var ne,M,z;return null!==v&&(n.structuredQuery.limit=v),e.startAt&&(n.structuredQuery.startAt={before:(M=e.startAt).inclusive,values:M.position}),e.endAt&&(n.structuredQuery.endAt={before:!(z=e.endAt).inclusive,values:z.position}),n}function _u(r){let e=Yu(r.parent);const n=r.structuredQuery,o=n.from?n.from.length:0;let c=null;if(o>0){_i(1===o);const xe=n.from[0];xe.allDescendants?c=xe.collectionId:e=e.child(xe.collectionId)}let m=[];n.where&&(m=nh(n.where));let v=[];n.orderBy&&(v=n.orderBy.map(xe=>{return new Kl(Zc((Ke=xe).field),function(kt){switch(kt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ke.direction));var Ke}));let M=null;n.limit&&(M=function(xe){let Ke;return Ke="object"==typeof xe?xe.value:xe,gl(Ke)?null:Ke}(n.limit));let z=null;var xe;n.startAt&&(z=new Ml((xe=n.startAt).values||[],!!xe.before));let ne=null;return n.endAt&&(ne=function(xe){return new Ml(xe.values||[],!xe.before)}(n.endAt)),_c(e,c,v,m,M,"F",z,ne)}function nh(r){return r?void 0!==r.unaryFilter?[op(r)]:void 0!==r.fieldFilter?[vd(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(e=>nh(e)).reduce((e,n)=>e.concat(n)):kn():[]}function sp(r){return Kc[r]}function ih(r){return $h[r]}function qc(r){return{fieldPath:r.canonicalString()}}function Zc(r){return Ji.fromServerFormat(r.fieldPath)}function vd(r){return Or.create(Zc(r.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kn()}}(r.fieldFilter.op),r.fieldFilter.value)}function op(r){switch(r.unaryFilter.op){case"IS_NAN":const e=Zc(r.unaryFilter.field);return Or.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Zc(r.unaryFilter.field);return Or.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Zc(r.unaryFilter.field);return Or.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Zc(r.unaryFilter.field);return Or.create(c,"!=",{nullValue:"NULL_VALUE"});default:return kn()}}function yu(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vu(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function ea(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=rh(e)),e=Rg(r.get(n),e);return rh(e)}function Rg(r,e){let n=e;const o=r.length;for(let c=0;c<o;c++){const m=r.charAt(c);switch(m){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=m}}return n}function rh(r){return r+"\x01\x01"}function vl(r){const e=r.length;if(_i(e>=2),2===e)return _i("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),Oi.emptyPath();const n=e-2,o=[];let c="";for(let m=0;m<e;){const v=r.indexOf("\x01",m);switch((v<0||v>n)&&kn(),r.charAt(v+1)){case"\x01":const M=r.substring(m,v);let z;0===c.length?z=M:(c+=M,z=c,c=""),o.push(z);break;case"\x10":c+=r.substring(m,v),c+="\0";break;case"\x11":c+=r.substring(m,v+1);break;default:kn()}m=v+2}return new Oi(o)}const qh=["userId","batchId"];function bd(r,e){return[r,ea(e)]}function wd(r,e,n){return[r,ea(e),n]}const Zh={},qu=["prefixPath","collectionGroup","readTime","documentId"],ap=["prefixPath","collectionGroup","documentId"],lp=["collectionGroup","readTime","prefixPath","documentId"],sh=["canonicalId","targetId"],Og=["targetId","path"],cp=["path","targetId"],oh=["collectionId","parent"],bl=["indexId","uid"],Qh=["uid","sequenceNumber"],Ed=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Xh=["indexId","uid","orderedDocumentKey"],kg=["userId","collectionPath","documentId"],up=["userId","collectionPath","largestBatchId"],Cd=["userId","collectionGroup","largestBatchId"],xd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jh=[...xd,"documentOverlays"],bu=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ah=bu,Dd=[...ah,"indexConfiguration","indexState","indexEntries"];class Id extends Zi{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function Ms(r,e){const n=xt(r);return io.O(n.ie,e)}class oo{constructor(e,n,o,c){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let c=0;c<this.mutations.length;c++){const m=this.mutations[c];m.key.isEqual(e.key)&&Gc(m,e,o[c])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=fu(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=fu(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=bn();return this.mutations.forEach(c=>{const m=e.get(c.key),v=m.overlayedDocument;let M=this.applyToLocalView(v,m.mutatedFields);M=n.has(c.key)?null:M;const z=ec(v,M);null!==z&&o.set(c.key,z),v.isValidDocument()||v.convertToNoDocument(Vn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),hi())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,(n,o)=>Pl(n,o))&&Po(this.baseMutations,e.baseMutations,(n,o)=>Pl(n,o))}}class Dc{constructor(e,n,o,c){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=c}static from(e,n,o){_i(e.mutations.length===o.length);let c=ir;const m=e.mutations;for(let v=0;v<m.length;v++)c=c.insert(m[v].key,o[v].version);return new Dc(e,n,o,c)}}class lh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ic{constructor(e,n,o,c,m=Vn.min(),v=Vn.min(),M=Pe.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=m,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=M}withSequenceNumber(e){return new Ic(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ic(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Ad{constructor(e){this.re=e}}function ch(r,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:_l(c=r.re,(m=e).key),fields:m.data.value.mapValue.fields,updateTime:Yc(c,m.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:Xc(e.version)};else{if(!e.isUnknownDocument())return kn();o.unknownDocument={path:n.path.toArray(),version:Xc(e.version)}}var c,m;return o}function Qc(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Xc(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function nc(r){const e=new Ci(r.seconds,r.nanoseconds);return Vn.fromTimestamp(e)}function ic(r,e){const n=(e.baseMutations||[]).map(m=>th(r.re,m));for(let m=0;m<e.mutations.length-1;++m){const v=e.mutations[m];m+1<e.mutations.length&&void 0!==e.mutations[m+1].transform&&(v.updateTransforms=e.mutations[m+1].transform.fieldTransforms,e.mutations.splice(m+1,1),++m)}const o=e.mutations.map(m=>th(r.re,m)),c=Ci.fromMillis(e.localWriteTimeMs);return new oo(e.batchId,c,n,o)}function Zu(r){const e=nc(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?nc(r.lastLimboFreeSnapshotVersion):Vn.min();let o;var c;return void 0!==r.query.documents?(_i(1===(c=r.query).documents.length),o=No(Eo(Yu(c.documents[0])))):o=No(_u(r.query)),new Ic(o,r.targetId,0,r.lastListenSequenceNumber,e,n,Pe.fromBase64String(r.resumeToken))}function uh(r,e){const n=Xc(e.snapshotVersion),o=Xc(e.lastLimboFreeSnapshotVersion);let c;c=Zo(e.target)?Yh(r.re,e.target):rp(r.re,e.target);const m=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cr(e.target),readTime:n,resumeToken:m,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function Sd(r){const e=_u({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Ja(e,e.limit,"L"):e}function dh(r,e){return new lh(e.largestBatchId,th(r.re,e.overlayMutation))}function ef(r,e){const n=e.path.lastSegment();return[r,ea(e.path.popLast()),n]}function Bo(r,e,n,o){return{indexId:r,uid:e.uid||"",sequenceNumber:n,readTime:Xc(o.readTime),documentKey:ea(o.documentKey.path),largestBatchId:o.largestBatchId}}class Td{getBundleMetadata(e,n){return wu(e).get(n).next(o=>{if(o)return{id:(c=o).bundleId,createTime:nc(c.createTime),version:c.version};var c})}saveBundleMetadata(e,n){return wu(e).put({bundleId:(o=n).id,createTime:Xc(xr(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Qu(e).get(n).next(o=>{if(o)return{name:(c=o).name,query:Sd(c.bundledQuery),readTime:nc(c.readTime)};var c})}saveNamedQuery(e,n){return Qu(e).put({name:(o=n).name,readTime:Xc(xr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function wu(r){return Ms(r,"bundles")}function Qu(r){return Ms(r,"namedQueries")}class Zs{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){return new Zs(e,n.uid||"")}getOverlay(e,n){return Bl(e).get(ef(this.userId,n)).next(o=>o?dh(this.It,o):null)}getOverlays(e,n){const o=vn();return Ot.forEach(n,c=>this.getOverlay(e,c).next(m=>{null!==m&&o.set(c,m)})).next(()=>o)}saveOverlays(e,n,o){const c=[];return o.forEach((m,v)=>{const M=new lh(n,v);c.push(this.ue(e,M))}),Ot.waitFor(c)}removeOverlaysForBatchId(e,n,o){const c=new Set;n.forEach(v=>c.add(ea(v.getCollectionPath())));const m=[];return c.forEach(v=>{const M=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);m.push(Bl(e).Y("collectionPathOverlayIndex",M))}),Ot.waitFor(m)}getOverlaysForCollection(e,n,o){const c=vn(),m=ea(n),v=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,Number.POSITIVE_INFINITY],!0);return Bl(e).W("collectionPathOverlayIndex",v).next(M=>{for(const z of M){const ne=dh(this.It,z);c.set(ne.getKey(),ne)}return c})}getOverlaysForCollectionGroup(e,n,o,c){const m=vn();let v;const M=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Bl(e).Z({index:"collectionGroupOverlayIndex",range:M},(z,ne,xe)=>{const Ke=dh(this.It,ne);m.size()<c||Ke.largestBatchId===v?(m.set(Ke.getKey(),Ke),v=Ke.largestBatchId):xe.done()}).next(()=>m)}ue(e,n){return Bl(e).put(function(o,c,m){const[v,M,z]=ef(c,m.mutation.key);return{userId:c,collectionPath:M,documentId:z,collectionGroup:m.mutation.key.getCollectionGroup(),largestBatchId:m.largestBatchId,overlayMutation:ka(o.re,m.mutation)}}(this.It,this.userId,n))}}function Bl(r){return Ms(r,"documentOverlays")}class rc{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Kn(e.integerValue));else if("doubleValue"in e){const o=Kn(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),Ys(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Mn(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?Ve(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):kn()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const c of Object.keys(o))this._e(c,n),this.ae(o[c],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const c of o)this.ae(c,n)}ge(e,n){this.le(n,37),_n.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}function hp(r){if(0===r)return 8;let e=0;return r>>4==0&&(e+=4,r<<=4),r>>6==0&&(e+=2,r<<=2),r>>7==0&&(e+=1),e}function tf(r){const e=64-function(n){let o=0;for(let c=0;c<8;++c){const m=hp(255&n[c]);if(o+=m,8!==m)break}return o}(r);return Math.ceil(e/8)}rc.Te=new rc;class nf{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Pe(o.value),o=n.next();this.ve()}Ve(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=n.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}Se(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const c=n.codePointAt(0);this.Pe(240|c>>>18),this.Pe(128|63&c>>>12),this.Pe(128|63&c>>>6),this.Pe(128|63&c)}}this.ve()}De(e){const n=this.Ce(e),o=tf(n);this.xe(1+o),this.buffer[this.position++]=255&o;for(let c=n.length-o;c<n.length;++c)this.buffer[this.position++]=255&n[c]}Ne(e){const n=this.Ce(e),o=tf(n);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let c=n.length-o;c<n.length;++c)this.buffer[this.position++]=~(255&n[c])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(c){const m=new DataView(new ArrayBuffer(8));return m.setFloat64(0,c,!1),new Uint8Array(m.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let c=1;c<n.length;++c)n[c]^=o?255:0;return n}Ae(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;0===n?(this.Fe(0),this.Fe(255)):255===n?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class fp{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class rf{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Eu{constructor(){this.Be=new nf,this.Le=new fp(this.Be),this.Ue=new rf(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Vl{constructor(e,n,o,c){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=c}Ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Vl(this.indexId,this.documentKey,this.arrayValue,o)}}function Ac(r,e){let n=r.indexId-e.indexId;return 0!==n?n:(n=sf(r.arrayValue,e.arrayValue),0!==n?n:(n=sf(r.directionalValue,e.directionalValue),0!==n?n:_n.comparator(r.documentKey,e.documentKey)))}function sf(r,e){for(let n=0;n<r.length&&n<e.length;++n){const o=r[n]-e[n];if(0!==o)return o}return r.length-e.length}class Pg{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const o=n;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const n=vo(e);if(void 0!==n&&!this.ze(n))return!1;const o=ms(e);let c=0,m=0;for(;c<o.length&&this.ze(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.je){const v=o[c];if(!this.He(this.je,v)||!this.Je(this.Ge[m++],v))return!1;++c}for(;c<o.length;++c){const v=o[c];if(m>=this.Ge.length||!this.Je(this.Ge[m++],v))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Fg{constructor(){this.Ye=new af}addToCollectionParentIndex(e,n){return this.Ye.add(n),Ot.resolve()}getCollectionParents(e,n){return Ot.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return Ot.resolve()}deleteFieldIndex(e,n){return Ot.resolve()}getDocumentsMatchingTarget(e,n){return Ot.resolve(null)}getIndexType(e,n){return Ot.resolve(0)}getFieldIndexes(e,n){return Ot.resolve([])}getNextCollectionGroupToUpdate(e){return Ot.resolve(null)}getMinOffset(e,n){return Ot.resolve(er.min())}getMinOffsetFromCollectionGroup(e,n){return Ot.resolve(er.min())}updateCollectionGroup(e,n,o){return Ot.resolve()}updateIndexEntries(e,n){return Ot.resolve()}}class af{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),c=this.index[n]||new E(Oi.comparator),m=!c.has(o);return this.index[n]=c.add(o),m}has(e){const n=e.lastSegment(),o=e.popLast(),c=this.index[n];return c&&c.has(o)}getEntries(e){return(this.index[e]||new E(Oi.comparator)).toArray()}}const sc=new Uint8Array(0);class b{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new af,this.Ze=new y(o=>Cr(o),(o,c)=>Ta(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const o=n.lastSegment(),c=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const m={collectionId:o,parent:ea(c)};return u(e).put(m)}return Ot.resolve()}getCollectionParents(e,n){const o=[],c=IDBKeyRange.bound([n,""],[to(n),""],!1,!0);return u(e).W(c).next(m=>{for(const v of m){if(v.collectionId!==n)break;o.push(vl(v.parent))}return o})}addFieldIndex(e,n){const o=p(e),c={indexId:(v=n).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var v;delete c.indexId;const m=o.add(c);if(n.indexState){const v=x(e);return m.next(M=>{v.put(Bo(M,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return m.next()}deleteFieldIndex(e,n){const o=p(e),c=x(e),m=a(e);return o.delete(n.indexId).next(()=>c.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>m.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=a(e);let c=!0;const m=new Map;return Ot.forEach(this.tn(n),v=>this.en(e,v).next(M=>{c&&(c=!!M),m.set(v,M)})).next(()=>{if(c){let v=hi();const M=[];return Ot.forEach(m,(z,ne)=>{var xe;on("IndexedDbIndexManager",`Using index ${xe=z,`id=${xe.indexId}|cg=${xe.collectionGroup}|f=${xe.fields.map(Kr=>`${Kr.fieldPath}:${Kr.kind}`).join(",")}`} to execute ${Cr(n)}`);const Ke=function(Kr,lo){const Yr=vo(lo);if(void 0===Yr)return null;for(const Pr of Qo(Kr,Yr.fieldPath))switch(Pr.op){case"array-contains-any":return Pr.value.arrayValue.values||[];case"array-contains":return[Pr.value]}return null}(ne,z),kt=function(Kr,lo){const Yr=new Map;for(const Pr of ms(lo))for(const Uo of Qo(Kr,Pr.fieldPath))switch(Uo.op){case"==":case"in":Yr.set(Pr.fieldPath.canonicalString(),Uo.value);break;case"not-in":case"!=":return Yr.set(Pr.fieldPath.canonicalString(),Uo.value),Array.from(Yr.values())}return null}(ne,z),Xt=function(Kr,lo){const Yr=[];let Pr=!0;for(const Uo of ms(lo)){const Bh=0===Uo.kind?ha(Kr,Uo.fieldPath,Kr.startAt):Tl(Kr,Uo.fieldPath,Kr.startAt);Yr.push(Bh.value),Pr&&(Pr=Bh.inclusive)}return new Ml(Yr,Pr)}(ne,z),an=function(Kr,lo){const Yr=[];let Pr=!0;for(const Uo of ms(lo)){const Bh=0===Uo.kind?Tl(Kr,Uo.fieldPath,Kr.endAt):ha(Kr,Uo.fieldPath,Kr.endAt);Yr.push(Bh.value),Pr&&(Pr=Bh.inclusive)}return new Ml(Yr,Pr)}(ne,z),On=this.nn(z,ne,Xt),si=this.nn(z,ne,an),gr=this.sn(z,ne,kt),Ur=this.rn(z.indexId,Ke,On,Xt.inclusive,si,an.inclusive,gr);return Ot.forEach(Ur,Kr=>o.J(Kr,n.limit).next(lo=>{lo.forEach(Yr=>{const Pr=_n.fromSegments(Yr.documentKey);v.has(Pr)||(v=v.add(Pr),M.push(Pr))})}))}).next(()=>M)}return Ot.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,o,c,m,v,M){const z=(null!=n?n.length:1)*Math.max(o.length,m.length),ne=z/(null!=n?n.length:1),xe=[];for(let Ke=0;Ke<z;++Ke){const kt=n?this.on(n[Ke/ne]):sc,Xt=this.un(e,kt,o[Ke%ne],c),an=this.cn(e,kt,m[Ke%ne],v),On=M.map(si=>this.un(e,kt,si,!0));xe.push(...this.createRange(Xt,an,On))}return xe}un(e,n,o,c){const m=new Vl(e,_n.empty(),n,o);return c?m:m.Ke()}cn(e,n,o,c){const m=new Vl(e,_n.empty(),n,o);return c?m.Ke():m}en(e,n){const o=new Pg(n),c=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,c).next(m=>{let v=null;for(const M of m)o.We(M)&&(!v||M.fields.length>v.fields.length)&&(v=M);return v})}getIndexType(e,n){let o=2;return Ot.forEach(this.tn(n),c=>this.en(e,c).next(m=>{m?0!==o&&m.fields.length<function(v){let M=new E(Ji.comparator),z=!1;for(const ne of v.filters){const xe=ne;xe.field.isKeyField()||("array-contains"===xe.op||"array-contains-any"===xe.op?z=!0:M=M.add(xe.field))}for(const ne of v.orderBy)ne.field.isKeyField()||(M=M.add(ne.field));return M.size+(z?1:0)}(c)&&(o=1):o=0})).next(()=>o)}an(e,n){const o=new Eu;for(const c of ms(e)){const m=n.data.field(c.fieldPath);if(null==m)return null;const v=o.qe(c.kind);rc.Te.ce(m,v)}return o.$e()}on(e){const n=new Eu;return rc.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const o=new Eu;return rc.Te.ce(Lo(this.databaseId,n),o.qe(function(c){const m=ms(c);return 0===m.length?0:m[m.length-1].kind}(e))),o.$e()}sn(e,n,o){if(null===o)return[];let c=[];c.push(new Eu);let m=0;for(const v of ms(e)){const M=o[m++];for(const z of c)if(this.ln(n,v.fieldPath)&&Er(M))c=this.fn(c,v,M);else{const ne=z.qe(v.kind);rc.Te.ce(M,ne)}}return this.dn(c)}nn(e,n,o){return this.sn(e,n,o.position)}dn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].$e();return n}fn(e,n,o){const c=[...e],m=[];for(const v of o.arrayValue.values||[])for(const M of c){const z=new Eu;z.seed(M.$e()),rc.Te.ce(v,z.qe(n.kind)),m.push(z)}return m}ln(e,n){return!!e.filters.find(o=>o instanceof Or&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=p(e),c=x(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(m=>{const v=[];return Ot.forEach(m,M=>c.get([M.indexId,this.uid]).next(z=>{v.push(function(ne,xe){const Ke=xe?new ys(xe.sequenceNumber,new er(nc(xe.readTime),new _n(vl(xe.documentKey)),xe.largestBatchId)):ys.empty(),kt=ne.fields.map(([Xt,an])=>new es(Ji.fromServerFormat(Xt),an));return new ca(ne.indexId,ne.collectionGroup,kt,Ke)}(M,z))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,c)=>{const m=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==m?m:Bn(o.collectionGroup,c.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const c=p(e),m=x(e);return this._n(e).next(v=>c.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(M=>Ot.forEach(M,z=>m.put(Bo(z.indexId,this.user,v,o)))))}updateIndexEntries(e,n){const o=new Map;return Ot.forEach(n,(c,m)=>{const v=o.get(c.collectionGroup);return(v?Ot.resolve(v):this.getFieldIndexes(e,c.collectionGroup)).next(M=>(o.set(c.collectionGroup,M),Ot.forEach(M,z=>this.wn(e,c,z).next(ne=>{const xe=this.mn(m,z);return ne.isEqual(xe)?Ot.resolve():this.gn(e,m,z,ne,xe)}))))})}yn(e,n,o,c){return a(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.hn(o,n.key),documentKey:n.key.path.toArray()})}pn(e,n,o,c){return a(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.hn(o,n.key),n.key.path.toArray()])}wn(e,n,o){const c=a(e);let m=new E(Ac);return c.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,n)])},(v,M)=>{m=m.add(new Vl(o.indexId,n,M.arrayValue,M.directionalValue))}).next(()=>m)}mn(e,n){let o=new E(Ac);const c=this.an(n,e);if(null==c)return o;const m=vo(n);if(null!=m){const v=e.data.field(m.fieldPath);if(Er(v))for(const M of v.arrayValue.values||[])o=o.add(new Vl(n.indexId,e.key,this.on(M),c))}else o=o.add(new Vl(n.indexId,e.key,sc,c));return o}gn(e,n,o,c,m){on("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const v=[];return function(M,z,ne,xe,Ke){const kt=M.getIterator(),Xt=z.getIterator();let an=j(kt),On=j(Xt);for(;an||On;){let si=!1,gr=!1;if(an&&On){const Ur=ne(an,On);Ur<0?gr=!0:Ur>0&&(si=!0)}else null!=an?gr=!0:si=!0;si?(xe(On),On=j(Xt)):gr?(Ke(an),an=j(kt)):(an=j(kt),On=j(Xt))}}(c,m,Ac,M=>{v.push(this.yn(e,n,o,M))},M=>{v.push(this.pn(e,n,o,M))}),Ot.waitFor(v)}_n(e){let n=1;return x(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,m)=>{m.done(),n=c.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((v,M)=>Ac(v,M)).filter((v,M,z)=>!M||0!==Ac(v,z[M-1]));const c=[];c.push(e);for(const v of o){const M=Ac(v,e),z=Ac(v,n);if(0===M)c[0]=e.Ke();else if(M>0&&z<0)c.push(v),c.push(v.Ke());else if(z>0)break}c.push(n);const m=[];for(let v=0;v<c.length;v+=2)m.push(IDBKeyRange.bound([c[v].indexId,this.uid,c[v].arrayValue,c[v].directionalValue,sc,[]],[c[v+1].indexId,this.uid,c[v+1].arrayValue,c[v+1].directionalValue,sc,[]]));return m}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(U)}getMinOffset(e,n){return Ot.mapArray(this.tn(n),o=>this.en(e,o).next(c=>c||kn())).next(U)}}function u(r){return Ms(r,"collectionParents")}function a(r){return Ms(r,"indexEntries")}function p(r){return Ms(r,"indexConfiguration")}function x(r){return Ms(r,"indexState")}function U(r){_i(0!==r.length);let e=r[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<r.length;o++){const c=r[o].indexState.offset;no(c,e)<0&&(e=c),n<c.largestBatchId&&(n=c.largestBatchId)}return new er(e.readTime,e.documentKey,n)}const me={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class we{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new we(e,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function We(r,e,n){const o=r.store("mutations"),c=r.store("documentMutations"),m=[],v=IDBKeyRange.only(n.batchId);let M=0;const z=o.Z({range:v},(xe,Ke,kt)=>(M++,kt.delete()));m.push(z.next(()=>{_i(1===M)}));const ne=[];for(const xe of n.mutations){const Ke=wd(e,xe.key.path,n.batchId);m.push(c.delete(Ke)),ne.push(xe.key)}return Ot.waitFor(m).next(()=>ne)}function Mt(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw kn();e=r.noDocument}return JSON.stringify(e).length}we.DEFAULT_COLLECTION_PERCENTILE=10,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,we.DEFAULT=new we(41943040,we.DEFAULT_COLLECTION_PERCENTILE,we.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),we.DISABLED=new we(-1,0,0);class Wt{constructor(e,n,o,c){this.userId=e,this.It=n,this.indexManager=o,this.referenceDelegate=c,this.In={}}static oe(e,n,o,c){_i(""!==e.uid);const m=e.isAuthenticated()?e.uid:"";return new Wt(m,n,o,c)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).Z({index:"userMutationsIndex",range:o},(c,m,v)=>{n=!1,v.done()}).next(()=>n)}addMutationBatch(e,n,o,c){const m=li(e),v=ai(e);return v.add({}).next(M=>{_i("number"==typeof M);const z=new oo(M,n,o,c),ne=function(kt,Xt,an){const On=an.baseMutations.map(gr=>ka(kt.re,gr)),si=an.mutations.map(gr=>ka(kt.re,gr));return{userId:Xt,batchId:an.batchId,localWriteTimeMs:an.localWriteTime.toMillis(),baseMutations:On,mutations:si}}(this.It,this.userId,z),xe=[];let Ke=new E((kt,Xt)=>Bn(kt.canonicalString(),Xt.canonicalString()));for(const kt of c){const Xt=wd(this.userId,kt.key.path,M);Ke=Ke.add(kt.key.path.popLast()),xe.push(v.put(ne)),xe.push(m.put(Xt,Zh))}return Ke.forEach(kt=>{xe.push(this.indexManager.addToCollectionParentIndex(e,kt))}),e.addOnCommittedListener(()=>{this.In[M]=z.keys()}),Ot.waitFor(xe).next(()=>z)})}lookupMutationBatch(e,n){return ai(e).get(n).next(o=>o?(_i(o.userId===this.userId),ic(this.It,o)):null)}Tn(e,n){return this.In[n]?Ot.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const c=o.keys();return this.In[n]=c,c}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,c=IDBKeyRange.lowerBound([this.userId,o]);let m=null;return ai(e).Z({index:"userMutationsIndex",range:c},(v,M,z)=>{M.userId===this.userId&&(_i(M.batchId>=o),m=ic(this.It,M)),z.done()}).next(()=>m)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ai(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(c,m,v)=>{o=m.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ai(e).W("userMutationsIndex",n).next(o=>o.map(c=>ic(this.It,c)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=bd(this.userId,n.path),c=IDBKeyRange.lowerBound(o),m=[];return li(e).Z({range:c},(v,M,z)=>{const[ne,xe,Ke]=v,kt=vl(xe);if(ne===this.userId&&n.path.isEqual(kt))return ai(e).get(Ke).next(Xt=>{if(!Xt)throw kn();_i(Xt.userId===this.userId),m.push(ic(this.It,Xt))});z.done()}).next(()=>m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new E(Bn);const c=[];return n.forEach(m=>{const v=bd(this.userId,m.path),M=IDBKeyRange.lowerBound(v),z=li(e).Z({range:M},(ne,xe,Ke)=>{const[kt,Xt,an]=ne,On=vl(Xt);kt===this.userId&&m.path.isEqual(On)?o=o.add(an):Ke.done()});c.push(z)}),Ot.waitFor(c).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,c=o.length+1,m=bd(this.userId,o),v=IDBKeyRange.lowerBound(m);let M=new E(Bn);return li(e).Z({range:v},(z,ne,xe)=>{const[Ke,kt,Xt]=z,an=vl(kt);Ke===this.userId&&o.isPrefixOf(an)?an.length===c&&(M=M.add(Xt)):xe.done()}).next(()=>this.En(e,M))}En(e,n){const o=[],c=[];return n.forEach(m=>{c.push(ai(e).get(m).next(v=>{if(null===v)throw kn();_i(v.userId===this.userId),o.push(ic(this.It,v))}))}),Ot.waitFor(c).next(()=>o)}removeMutationBatch(e,n){return We(e.ie,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),Ot.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ot.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return li(e).Z({range:o},(m,v,M)=>{if(m[0]===this.userId){const z=vl(m[1]);c.push(z)}else M.done()}).next(()=>{_i(0===c.length)})})}containsKey(e,n){return Dn(e,this.userId,n)}Rn(e){return ci(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Dn(r,e,n){const o=bd(e,n.path),c=o[1],m=IDBKeyRange.lowerBound(o);let v=!1;return li(r).Z({range:m,X:!0},(M,z,ne)=>{const[xe,Ke,kt]=M;xe===e&&Ke===c&&(v=!0),ne.done()}).next(()=>v)}function ai(r){return Ms(r,"mutations")}function li(r){return Ms(r,"documentMutations")}function ci(r){return Ms(r,"mutationQueues")}class pi{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new pi(0)}static vn(){return new pi(-1)}}class tr{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const o=new pi(n.highestTargetId);return n.highestTargetId=o.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>Vn.fromTimestamp(new Ci(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Vn(e).next(c=>(c.highestListenSequenceNumber=n,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),n>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=n),this.Sn(e,c)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(n,o),this.Sn(e,o))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Qi(e).delete(n.targetId)).next(()=>this.Vn(e)).next(o=>(_i(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,n,o){let c=0;const m=[];return Qi(e).Z((v,M)=>{const z=Zu(M);z.sequenceNumber<=n&&null===o.get(z.targetId)&&(c++,m.push(this.removeTargetData(e,z)))}).next(()=>Ot.waitFor(m)).next(()=>c)}forEachTarget(e,n){return Qi(e).Z((o,c)=>{const m=Zu(c);n(m)})}Vn(e){return ws(e).get("targetGlobalKey").next(n=>(_i(null!==n),n))}Sn(e,n){return ws(e).put("targetGlobalKey",n)}Dn(e,n){return Qi(e).put(uh(this.It,n))}Cn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Cr(n),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let m=null;return Qi(e).Z({range:c,index:"queryTargetsIndex"},(v,M,z)=>{const ne=Zu(M);Ta(n,ne.target)&&(m=ne,z.done())}).next(()=>m)}addMatchingKeys(e,n,o){const c=[],m=kr(e);return n.forEach(v=>{const M=ea(v.path);c.push(m.put({targetId:o,path:M})),c.push(this.referenceDelegate.addReference(e,o,v))}),Ot.waitFor(c)}removeMatchingKeys(e,n,o){const c=kr(e);return Ot.forEach(n,m=>{const v=ea(m.path);return Ot.waitFor([c.delete([o,v]),this.referenceDelegate.removeReference(e,o,m)])})}removeMatchingKeysForTargetId(e,n){const o=kr(e),c=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),c=kr(e);let m=hi();return c.Z({range:o,X:!0},(v,M,z)=>{const ne=vl(v[1]),xe=new _n(ne);m=m.add(xe)}).next(()=>m)}containsKey(e,n){const o=ea(n.path),c=IDBKeyRange.bound([o],[to(o)],!1,!0);let m=0;return kr(e).Z({index:"documentTargetsIndex",X:!0,range:c},([v,M],z,ne)=>{0!==v&&(m++,ne.done())}).next(()=>m>0)}se(e,n){return Qi(e).get(n).next(o=>o?Zu(o):null)}}function Qi(r){return Ms(r,"targets")}function ws(r){return Ms(r,"targetGlobal")}function kr(r){return Ms(r,"targetDocuments")}function Tr([r,e],[n,o]){const c=Bn(r,n);return 0===c?Bn(e,o):c}class pa{constructor(e){this.xn=e,this.buffer=new E(Tr),this.Nn=0}kn(){return++this.Nn}Mn(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Tr(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Pa{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var n=this;on("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,d.Z)(function*(){n.On=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){ro(o)?on("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ko(o)}yield n.Fn(3e5)}))}}class xo{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return Ot.resolve(Ss.at);const o=new pa(n);return this.$n.forEachTarget(e,c=>o.Mn(c.sequenceNumber)).next(()=>this.$n.Ln(e,c=>o.Mn(c))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.$n.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(on("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve(me)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(on("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),me):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let o,c,m,v,M,z,ne;const xe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Ke=>(Ke>this.params.maximumSequenceNumbersToCollect?(on("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ke}`),c=this.params.maximumSequenceNumbersToCollect):c=Ke,v=Date.now(),this.nthSequenceNumber(e,c))).next(Ke=>(o=Ke,M=Date.now(),this.removeTargets(e,o,n))).next(Ke=>(m=Ke,z=Date.now(),this.removeOrphanedDocuments(e,o))).next(Ke=>(ne=Date.now(),hl()<=B.in.DEBUG&&on("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-xe}ms\n\tDetermined least recently used ${c} in `+(M-v)+`ms\n\tRemoved ${m} targets in `+(z-M)+`ms\n\tRemoved ${Ke} documents in `+(ne-z)+`ms\nTotal Duration: ${ne-xe}ms`),Ot.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:m,documentsRemoved:Ke})))}}class wl{constructor(e,n){this.db=e,this.garbageCollector=new xo(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(c=>o+c))}qn(e){let n=0;return this.Ln(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(o,c)=>n(c))}addReference(e,n,o){return ol(e,o)}removeReference(e,n,o){return ol(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return ol(e,n)}Gn(e,n){return function(o,c){let m=!1;return ci(o).tt(v=>Dn(o,v,c).next(M=>(M&&(m=!0),Ot.resolve(!M)))).next(()=>m)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let m=0;return this.Kn(e,(v,M)=>{if(M<=n){const z=this.Gn(e,v).next(ne=>{if(!ne)return m++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Vn.min()),kr(e).delete([0,ea(v.path)])))});c.push(z)}}).next(()=>Ot.waitFor(c)).next(()=>o.apply(e)).next(()=>m)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return ol(e,n)}Kn(e,n){const o=kr(e);let c,m=Ss.at;return o.Z({index:"documentTargetsIndex"},([v,M],{path:z,sequenceNumber:ne})=>{0===v?(m!==Ss.at&&n(new _n(vl(c)),m),m=ne,c=z):m=Ss.at}).next(()=>{m!==Ss.at&&n(new _n(vl(c)),m)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function ol(r,e){return kr(r).put((o=r.currentSequenceNumber,{targetId:0,path:ea(e.path),sequenceNumber:o}));var o}class Ul{constructor(){this.changes=new y(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Ot.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lf{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return oc(e).put(o)}removeEntry(e,n,o){return oc(e).delete(function(c,m){const v=c.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Qc(m),v[v.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Qn(e,o)))}getEntry(e,n){let o=zn.newInvalidDocument(n);return oc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yn(n))},(c,m)=>{o=this.jn(n,m)}).next(()=>o)}Wn(e,n){let o={size:0,document:zn.newInvalidDocument(n)};return oc(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Yn(n))},(c,m)=>{o={document:this.jn(n,m),size:Mt(m)}}).next(()=>o)}getEntries(e,n){let o=Y();return this.zn(e,n,(c,m)=>{const v=this.jn(c,m);o=o.insert(c,v)}).next(()=>o)}Hn(e,n){let o=Y(),c=new wr(_n.comparator);return this.zn(e,n,(m,v)=>{const M=this.jn(m,v);o=o.insert(m,M),c=c.insert(m,Mt(v))}).next(()=>({documents:o,Jn:c}))}zn(e,n,o){if(n.isEmpty())return Ot.resolve();let c=new E(bi);n.forEach(z=>c=c.add(z));const m=IDBKeyRange.bound(Yn(c.first()),Yn(c.last())),v=c.getIterator();let M=v.getNext();return oc(e).Z({index:"documentKeyIndex",range:m},(z,ne,xe)=>{const Ke=_n.fromSegments([...ne.prefixPath,ne.collectionGroup,ne.documentId]);for(;M&&bi(M,Ke)<0;)o(M,null),M=v.getNext();M&&M.isEqual(Ke)&&(o(M,ne),M=v.hasNext()?v.getNext():null),M?xe.j(Yn(M)):xe.done()}).next(()=>{for(;M;)o(M,null),M=v.hasNext()?v.getNext():null})}getAllFromCollection(e,n,o){const c=[n.popLast().toArray(),n.lastSegment(),Qc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],m=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return oc(e).W(IDBKeyRange.bound(c,m,!0)).next(v=>{let M=Y();for(const z of v){const ne=this.jn(_n.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);M=M.insert(ne.key,ne)}return M})}getAllFromCollectionGroup(e,n,o,c){let m=Y();const v=gi(n,o),M=gi(n,er.max());return oc(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,M,!0)},(z,ne,xe)=>{const Ke=this.jn(_n.fromSegments(ne.prefixPath.concat(ne.collectionGroup,ne.documentId)),ne);m=m.insert(Ke.key,Ke),m.size===c&&xe.done()}).next(()=>m)}newChangeBuffer(e){return new Jc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return hh(e).get("remoteDocumentGlobalKey").next(n=>(_i(!!n),n))}Qn(e,n){return hh(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const o=function dp(r,e){let n;if(e.document)n=Wh(r.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=_n.fromSegments(e.noDocument.path),c=nc(e.noDocument.readTime);n=zn.newNoDocument(o,c),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return kn();{const o=_n.fromSegments(e.unknownDocument.path),c=nc(e.unknownDocument.version);n=zn.newUnknownDocument(o,c)}}return e.readTime&&n.setReadTime(function(o){const c=new Ci(o[0],o[1]);return Vn.fromTimestamp(c)}(e.readTime)),n}(this.It,n);if(!o.isNoDocument()||!o.version.isEqual(Vn.min()))return o}return zn.newInvalidDocument(e)}}function Cu(r){return new lf(r)}class Jc extends Ul{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new y(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const n=[];let o=0,c=new E((m,v)=>Bn(m.canonicalString(),v.canonicalString()));return this.changes.forEach((m,v)=>{const M=this.Xn.get(m);if(n.push(this.Yn.removeEntry(e,m,M.readTime)),v.isValidDocument()){const z=ch(this.Yn.It,v);c=c.add(m.path.popLast()),o+=Mt(z)-M.size,n.push(this.Yn.addEntry(e,m,z))}else if(o-=M.size,this.trackRemovals){const z=ch(this.Yn.It,v.convertToNoDocument(Vn.min()));n.push(this.Yn.addEntry(e,m,z))}}),c.forEach(m=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,m))}),n.push(this.Yn.updateMetadata(e,o)),Ot.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(o=>(this.Xn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:o,Jn:c})=>(c.forEach((m,v)=>{this.Xn.set(m,{size:v,readTime:o.get(m).readTime})}),o))}}function hh(r){return Ms(r,"remoteDocumentGlobal")}function oc(r){return Ms(r,"remoteDocumentsV14")}function Yn(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gi(r,e){const n=e.documentKey.path.toArray();return[r,Qc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bi(r,e){const n=r.path.toArray(),o=e.path.toArray();let c=0;for(let m=0;m<n.length-2&&m<o.length-2;++m)if(c=Bn(n[m],o[m]),c)return c;return c=Bn(n.length,o.length),c||(c=Bn(n[n.length-2],o[o.length-2]),c||Bn(n[n.length-1],o[o.length-1]))}class rr{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Qs{constructor(e,n,o,c){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(c=>(o=c,this.getBaseDocument(e,n,o))).next(c=>(null!==o&&fu(o.mutation,c,ce.empty(),Ci.now()),c))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,hi()).next(()=>o))}getLocalViewOfDocuments(e,n,o=hi()){const c=vn();return this.populateOverlays(e,c,n).next(()=>this.computeViews(e,n,c,o).next(m=>{let v=ct();return m.forEach((M,z)=>{v=v.insert(M,z.overlayedDocument)}),v}))}getOverlayedDocuments(e,n){const o=vn();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,hi()))}populateOverlays(e,n,o){const c=[];return o.forEach(m=>{n.has(m)||c.push(m)}),this.documentOverlayCache.getOverlays(e,c).next(m=>{m.forEach((v,M)=>{n.set(v,M)})})}computeViews(e,n,o,c){let m=Y();const v=ri(),M=ri();return n.forEach((z,ne)=>{const xe=o.get(ne.key);c.has(ne.key)&&(void 0===xe||xe.mutation instanceof fa)?m=m.insert(ne.key,ne):void 0!==xe&&(v.set(ne.key,xe.mutation.getFieldMask()),fu(xe.mutation,ne,xe.mutation.getFieldMask(),Ci.now()))}),this.recalculateAndSaveOverlays(e,m).next(z=>(z.forEach((ne,xe)=>v.set(ne,xe)),n.forEach((ne,xe)=>{var Ke;return M.set(ne,new rr(xe,null!==(Ke=v.get(ne))&&void 0!==Ke?Ke:null))}),M))}recalculateAndSaveOverlays(e,n){const o=ri();let c=new wr((v,M)=>v-M),m=hi();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(v=>{for(const M of v)M.keys().forEach(z=>{const ne=n.get(z);if(null===ne)return;let xe=o.get(z)||ce.empty();xe=M.applyToLocalView(ne,xe),o.set(z,xe);const Ke=(c.get(M.batchId)||hi()).add(z);c=c.insert(M.batchId,Ke)})}).next(()=>{const v=[],M=c.getReverseIterator();for(;M.hasNext();){const z=M.getNext(),ne=z.key,xe=z.value,Ke=bn();xe.forEach(kt=>{if(!m.has(kt)){const Xt=ec(n.get(kt),o.get(kt));null!==Xt&&Ke.set(kt,Xt),m=m.add(kt)}}),v.push(this.documentOverlayCache.saveOverlays(e,ne,Ke))}return Ot.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return _n.isDocumentKey((c=n).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):yc(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var c}getNextDocuments(e,n,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,c).next(m=>{const v=c-m.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,c-m.size):Ot.resolve(vn());let M=-1,z=m;return v.next(ne=>Ot.forEach(ne,(xe,Ke)=>(M<Ke.largestBatchId&&(M=Ke.largestBatchId),m.get(xe)?Ot.resolve():this.getBaseDocument(e,xe,Ke).next(kt=>{z=z.insert(xe,kt)}))).next(()=>this.populateOverlays(e,ne,m)).next(()=>this.computeViews(e,z,ne,hi())).next(xe=>({batchId:M,changes:Ht(xe)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _n(n)).next(o=>{let c=ct();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const c=n.collectionGroup;let m=ct();return this.indexManager.getCollectionParents(e,c).next(v=>Ot.forEach(v,M=>{const z=(ne=n,xe=M.child(c),new Xo(xe,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,xe;return this.getDocumentsMatchingCollectionQuery(e,z,o).next(ne=>{ne.forEach((xe,Ke)=>{m=m.insert(xe,Ke)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,n,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(m=>(c=m,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(m=>{m.forEach((M,z)=>{const ne=z.getKey();null===c.get(ne)&&(c=c.insert(ne,zn.newInvalidDocument(ne)))});let v=ct();return c.forEach((M,z)=>{const ne=m.get(M);void 0!==ne&&fu(ne.mutation,z,ce.empty(),Ci.now()),Uu(n,z)&&(v=v.insert(M,z))}),v})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):Ot.resolve(zn.newInvalidDocument(n))}}class El{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Ot.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:xr(o.createTime)}),Ot.resolve()}getNamedQuery(e,n){return Ot.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:Sd(o.bundledQuery),readTime:xr(o.readTime)}),Ot.resolve();var o}}class ga{constructor(){this.overlays=new wr(_n.comparator),this.es=new Map}getOverlay(e,n){return Ot.resolve(this.overlays.get(n))}getOverlays(e,n){const o=vn();return Ot.forEach(n,c=>this.getOverlay(e,c).next(m=>{null!==m&&o.set(c,m)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((c,m)=>{this.ue(e,n,m)}),Ot.resolve()}removeOverlaysForBatchId(e,n,o){const c=this.es.get(o);return void 0!==c&&(c.forEach(m=>this.overlays=this.overlays.remove(m)),this.es.delete(o)),Ot.resolve()}getOverlaysForCollection(e,n,o){const c=vn(),m=n.length+1,v=new _n(n.child("")),M=this.overlays.getIteratorFrom(v);for(;M.hasNext();){const z=M.getNext().value,ne=z.getKey();if(!n.isPrefixOf(ne.path))break;ne.path.length===m&&z.largestBatchId>o&&c.set(z.getKey(),z)}return Ot.resolve(c)}getOverlaysForCollectionGroup(e,n,o,c){let m=new wr((ne,xe)=>ne-xe);const v=this.overlays.getIterator();for(;v.hasNext();){const ne=v.getNext().value;if(ne.getKey().getCollectionGroup()===n&&ne.largestBatchId>o){let xe=m.get(ne.largestBatchId);null===xe&&(xe=vn(),m=m.insert(ne.largestBatchId,xe)),xe.set(ne.getKey(),ne)}}const M=vn(),z=m.getIterator();for(;z.hasNext()&&(z.getNext().value.forEach((ne,xe)=>M.set(ne,xe)),!(M.size()>=c)););return Ot.resolve(M)}ue(e,n,o){const c=this.overlays.get(o.key);if(null!==c){const v=this.es.get(c.largestBatchId).delete(o.key);this.es.set(c.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new lh(n,o));let m=this.es.get(n);void 0===m&&(m=hi(),this.es.set(n,m)),this.es.set(n,m.add(o.key))}}class Vo{constructor(){this.ns=new E(Ui.ss),this.rs=new E(Ui.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new Ui(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new Ui(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new _n(new Oi([])),o=new Ui(n,e),c=new Ui(n,e+1),m=[];return this.rs.forEachInRange([o,c],v=>{this.cs(v),m.push(v.key)}),m}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new _n(new Oi([])),o=new Ui(n,e),c=new Ui(n,e+1);let m=hi();return this.rs.forEachInRange([o,c],v=>{m=m.add(v.key)}),m}containsKey(e){const n=new Ui(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class Ui{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return _n.comparator(e.key,n.key)||Bn(e._s,n._s)}static os(e,n){return Bn(e._s,n._s)||_n.comparator(e.key,n.key)}}class fh{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new E(Ui.ss)}checkEmpty(e){return Ot.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,c){const m=this.ws;this.ws++;const v=new oo(m,n,o,c);this.mutationQueue.push(v);for(const M of c)this.gs=this.gs.add(new Ui(M.key,m)),this.indexManager.addToCollectionParentIndex(e,M.key.path.popLast());return Ot.resolve(v)}lookupMutationBatch(e,n){return Ot.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const c=this.ps(n+1),m=c<0?0:c;return Ot.resolve(this.mutationQueue.length>m?this.mutationQueue[m]:null)}getHighestUnacknowledgedBatchId(){return Ot.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ui(n,0),c=new Ui(n,Number.POSITIVE_INFINITY),m=[];return this.gs.forEachInRange([o,c],v=>{const M=this.ys(v._s);m.push(M)}),Ot.resolve(m)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new E(Bn);return n.forEach(c=>{const m=new Ui(c,0),v=new Ui(c,Number.POSITIVE_INFINITY);this.gs.forEachInRange([m,v],M=>{o=o.add(M._s)})}),Ot.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,c=o.length+1;let m=o;_n.isDocumentKey(m)||(m=m.child(""));const v=new Ui(new _n(m),0);let M=new E(Bn);return this.gs.forEachWhile(z=>{const ne=z.key.path;return!!o.isPrefixOf(ne)&&(ne.length===c&&(M=M.add(z._s)),!0)},v),Ot.resolve(this.Is(M))}Is(e){const n=[];return e.forEach(o=>{const c=this.ys(o);null!==c&&n.push(c)}),n}removeMutationBatch(e,n){_i(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Ot.forEach(n.mutations,c=>{const m=new Ui(c.key,n.batchId);return o=o.delete(m),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new Ui(n,0),c=this.gs.firstAfterOrEqual(o);return Ot.resolve(n.isEqual(c&&c.key))}performConsistencyCheck(e){return Ot.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pp{constructor(e){this.Es=e,this.docs=new wr(_n.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,c=this.docs.get(o),m=c?c.size:0,v=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:v}),this.size+=v-m,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Ot.resolve(o?o.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let o=Y();return n.forEach(c=>{const m=this.docs.get(c);o=o.insert(c,m?m.document.mutableCopy():zn.newInvalidDocument(c))}),Ot.resolve(o)}getAllFromCollection(e,n,o){let c=Y();const m=new _n(n.child("")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:M,value:{document:z}}=v.getNext();if(!n.isPrefixOf(M.path))break;M.path.length>n.length+1||no(Il(z),o)<=0||(c=c.insert(z.key,z.mutableCopy()))}return Ot.resolve(c)}getAllFromCollectionGroup(e,n,o,c){kn()}As(e,n){return Ot.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new ta(this)}getSize(e){return Ot.resolve(this.size)}}class ta extends Ul{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?n.push(this.Yn.addEntry(e,c)):this.Yn.removeEntry(o)}),Ot.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class jl{constructor(e){this.persistence=e,this.Rs=new y(n=>Cr(n),Ta),this.lastRemoteSnapshotVersion=Vn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Vo,this.targetCount=0,this.vs=pi.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,c)=>n(c)),Ot.resolve()}getLastRemoteSnapshotVersion(e){return Ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ot.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Ot.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),Ot.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new pi(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Ot.resolve()}updateTargetData(e,n){return this.Dn(n),Ot.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Ot.resolve()}removeTargets(e,n,o){let c=0;const m=[];return this.Rs.forEach((v,M)=>{M.sequenceNumber<=n&&null===o.get(M.targetId)&&(this.Rs.delete(v),m.push(this.removeMatchingKeysForTargetId(e,M.targetId)),c++)}),Ot.waitFor(m).next(()=>c)}getTargetCount(e){return Ot.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return Ot.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),Ot.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const c=this.persistence.referenceDelegate,m=[];return c&&n.forEach(v=>{m.push(c.markPotentiallyOrphaned(e,v))}),Ot.waitFor(m)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Ot.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return Ot.resolve(o)}containsKey(e,n){return Ot.resolve(this.Ps.containsKey(n))}}class Fa{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Ss(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new jl(this),this.indexManager=new Fg,this.remoteDocumentCache=new pp(o=>this.referenceDelegate.xs(o)),this.It=new Ad(n),this.Ns=new El(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ga,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new fh(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){on("MemoryPersistence","Starting transaction:",e);const c=new Xu(this.Ss.next());return this.referenceDelegate.ks(),o(c).next(m=>this.referenceDelegate.Ms(c).next(()=>m)).toPromise().then(m=>(c.raiseOnCommittedEvent(),m))}Os(e,n){return Ot.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Xu extends Zi{constructor(e){super(),this.currentSequenceNumber=e}}class eu{constructor(e){this.persistence=e,this.Fs=new Vo,this.$s=null}static Bs(e){return new eu(e)}get Ls(){if(this.$s)return this.$s;throw kn()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),Ot.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),Ot.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Ot.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(c=>this.Ls.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(c=>{c.forEach(m=>this.Ls.add(m.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.Ls,o=>{const c=_n.fromPath(o);return this.Us(e,c).next(m=>{m||n.removeEntry(c,Vn.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return Ot.or([()=>Ot.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class Lg{constructor(e){this.It=e}$(e,n,o,c){const m=new Ka("createOrUpgrade",n);var M;o<1&&c>=1&&(e.createObjectStore("owner"),(M=e).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qh,{unique:!0}),M.createObjectStore("documentMutations"),cf(e),function(M){M.createObjectStore("remoteDocuments")}(e));let v=Ot.resolve();return o<3&&c>=3&&(0!==o&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(e),cf(e)),v=v.next(()=>function(M){const z=M.store("targetGlobal"),ne={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vn.min().toTimestamp(),targetCount:0};return z.put("targetGlobalKey",ne)}(m))),o<4&&c>=4&&(0!==o&&(v=v.next(()=>function(M,z){return z.store("mutations").W().next(ne=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qh,{unique:!0});const xe=z.store("mutations"),Ke=ne.map(kt=>xe.put(kt));return Ot.waitFor(Ke)})}(e,m))),v=v.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(v=v.next(()=>this.qs(m))),o<6&&c>=6&&(v=v.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(m)))),o<7&&c>=7&&(v=v.next(()=>this.Gs(m))),o<8&&c>=8&&(v=v.next(()=>this.Qs(e,m))),o<9&&c>=9&&(v=v.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(v=v.next(()=>this.js(m))),o<11&&c>=11&&(v=v.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(v=v.next(()=>{!function(M){const z=M.createObjectStore("documentOverlays",{keyPath:kg});z.createIndex("collectionPathOverlayIndex",up,{unique:!1}),z.createIndex("collectionGroupOverlayIndex",Cd,{unique:!1})}(e)})),o<13&&c>=13&&(v=v.next(()=>function(M){const z=M.createObjectStore("remoteDocumentsV14",{keyPath:qu});z.createIndex("documentKeyIndex",ap),z.createIndex("collectionGroupIndex",lp)}(e)).next(()=>this.Ws(e,m)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(v=v.next(()=>this.zs(e,m))),o<15&&c>=15&&(v=v.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:bl}).createIndex("sequenceNumberIndex",Qh,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:Ed}).createIndex("documentKeyIndex",Xh,{unique:!1})}(e))),v}Ks(e){let n=0;return e.store("remoteDocuments").Z((o,c)=>{n+=Mt(c)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(c=>Ot.forEach(c,m=>{const v=IDBKeyRange.bound([m.userId,-1],[m.userId,m.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",v).next(M=>Ot.forEach(M,z=>{_i(z.userId===m.userId);const ne=ic(this.It,z);return We(e,m.userId,ne).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const m=[];return o.Z((v,M)=>{const z=new Oi(v),ne=[0,ea(z)];m.push(n.get(ne).next(xe=>xe?Ot.resolve():n.put({targetId:0,path:ea(z),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Ot.waitFor(m))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:oh});const o=n.store("collectionParents"),c=new af,m=v=>{if(c.add(v)){const M=v.lastSegment(),z=v.popLast();return o.put({collectionId:M,parent:ea(z)})}};return n.store("remoteDocuments").Z({X:!0},(v,M)=>{const z=new Oi(v);return m(z.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([v,M,z],ne)=>{const xe=vl(M);return m(xe.popLast())}))}js(e){const n=e.store("targets");return n.Z((o,c)=>{const m=Zu(c),v=uh(this.It,m);return n.put(v)})}Ws(e,n){const o=n.store("remoteDocuments"),c=[];return o.Z((m,v)=>{const M=n.store("remoteDocumentsV14"),z=(ne=v,ne.document?new _n(Oi.fromString(ne.document.name).popFirst(5)):ne.noDocument?_n.fromSegments(ne.noDocument.path):ne.unknownDocument?_n.fromSegments(ne.unknownDocument.path):kn()).path.toArray();var ne;const xe={prefixPath:z.slice(0,z.length-2),collectionGroup:z[z.length-2],documentId:z[z.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};c.push(M.put(xe))}).next(()=>Ot.waitFor(c))}zs(e,n){const o=n.store("mutations"),c=Cu(this.It),m=new Fa(eu.Bs,this.It.re);return o.W().next(v=>{const M=new Map;return v.forEach(z=>{var ne;let xe=null!==(ne=M.get(z.userId))&&void 0!==ne?ne:hi();ic(this.It,z).keys().forEach(Ke=>xe=xe.add(Ke)),M.set(z.userId,xe)}),Ot.forEach(M,(z,ne)=>{const xe=new Ir(ne),Ke=Zs.oe(this.It,xe),kt=m.getIndexManager(xe),Xt=Wt.oe(xe,this.It,kt,m.referenceDelegate);return new Qs(c,Xt,Ke,kt).recalculateAndSaveOverlaysForDocumentKeys(new Id(n,Ss.at),z).next()})})}}function cf(r){r.createObjectStore("targetDocuments",{keyPath:Og}).createIndex("documentTargetsIndex",cp,{unique:!0}),r.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sh,{unique:!0}),r.createObjectStore("targetGlobal")}const uf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Md{constructor(e,n,o,c,m,v,M,z,ne,xe,Ke=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Hs=m,this.window=v,this.document=M,this.Js=ne,this.Ys=xe,this.Xs=Ke,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=kt=>Promise.resolve(),!Md.C())throw new un(Vt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wl(this,c),this.ii=n+"main",this.It=new Ad(z),this.ri=new io(this.ii,this.Xs,new Lg(this.It)),this.Cs=new tr(this.referenceDelegate,this.It),this.remoteDocumentCache=Cu(this.It),this.Ns=new Td,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===xe&&br("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new un(Vt.FAILED_PRECONDITION,uf);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new Ss(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var o=(0,d.Z)(function*(c){if(n.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,d.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,d.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ph(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ro(e))return on("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return on("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return xu(e).get("owner").next(n=>Ot.resolve(this.mi(n)))}gi(e){return ph(e).delete(this.clientId)}yi(){var e=this;return(0,d.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Ms(o,"clientMetadata");return c.W().next(m=>{const v=e.Ii(m,18e5),M=m.filter(z=>-1===v.indexOf(z));return Ot.forEach(M,z=>c.delete(z.clientId)).next(()=>M)})}).catch(()=>[]);if(e.oi)for(const o of n)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?Ot.resolve(!0):xu(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new un(Vt.FAILED_PRECONDITION,uf);return!1}}return!(!this.networkEnabled||!this.inForeground)||ph(e).W().next(o=>void 0===this.Ii(o,5e3).find(c=>{if(this.clientId!==c.clientId){const v=!this.inForeground&&c.inForeground,M=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||v&&M)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&on("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,d.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Id(n,Ss.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(o=>this.pi(o.updateTimeMs,n)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>ph(e).W().next(n=>this.Ii(n,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Wt.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new b(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Zs.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,o){on("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===n?"readonly":"readwrite",m=15===(v=this.Xs)?Dd:14===v?ah:13===v?bu:12===v?Jh:11===v?xd:void kn();var v;let M;return this.ri.runTransaction(e,c,m,z=>(M=new Id(z,this.Ss?this.Ss.next():Ss.at),"readwrite-primary"===n?this.fi(M).next(ne=>!!ne||this.di(M)).next(ne=>{if(!ne)throw br(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new un(Vt.FAILED_PRECONDITION,za);return o(M)}).next(ne=>this.wi(M).next(()=>ne)):this.Vi(M).next(()=>o(M)))).then(z=>(M.raiseOnCommittedEvent(),z))}Vi(e){return xu(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new un(Vt.FAILED_PRECONDITION,uf)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xu(e).put("owner",n)}static C(){return io.C()}_i(e){const n=xu(e);return n.get("owner").next(o=>this.mi(o)?(on("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ot.resolve())}pi(e,n){const o=Date.now();return!(e<o-n||e>o&&(br(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,_e.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const o=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return on("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return br("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){br("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xu(r){return Ms(r,"owner")}function ph(r){return Ms(r,"clientMetadata")}function gh(r,e){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+e+"/"+n+"/"}class df{constructor(e,n,o,c){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=c}static Ci(e,n){let o=hi(),c=hi();for(const m of n.docChanges)switch(m.type){case 0:o=o.add(m.doc.key);break;case 1:c=c.add(m.doc.key)}return new df(e,n.fromCache,o,c)}}class hf{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,c){return this.ki(e,n).next(m=>m||this.Mi(e,n,c,o)).next(m=>m||this.Oi(e,n))}ki(e,n){if(Rl(n))return Ot.resolve(null);let o=No(n);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==n.limit&&1===c&&(n=Ja(n,null,"F"),o=No(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(m=>{const v=hi(...m);return this.Ni.getDocuments(e,v).next(M=>this.indexManager.getMinOffset(e,o).next(z=>{const ne=this.Fi(n,M);return this.$i(n,ne,v,z.readTime)?this.ki(e,Ja(n,null,"F")):this.Bi(e,ne,n,z)}))})))}Mi(e,n,o,c){return Rl(n)||c.isEqual(Vn.min())?this.Oi(e,n):this.Ni.getDocuments(e,o).next(m=>{const v=this.Fi(n,m);return this.$i(n,v,o,c)?this.Oi(e,n):(hl()<=B.in.DEBUG&&on("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),vc(n)),this.Bi(e,v,n,Fo(c,-1)))})}Fi(e,n){let o=new E(Ol(e));return n.forEach((c,m)=>{Uu(e,m)&&(o=o.add(m))}),o}$i(e,n,o,c){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const m="F"===e.limitType?n.last():n.first();return!!m&&(m.hasPendingWrites||m.version.compareTo(c)>0)}Oi(e,n){return hl()<=B.in.DEBUG&&on("QueryEngine","Using full collection scan to execute query:",vc(n)),this.Ni.getDocumentsMatchingQuery(e,n,er.min())}Bi(e,n,o,c){return this.Ni.getDocumentsMatchingQuery(e,o,c).next(m=>(n.forEach(v=>{m=m.insert(v.key,v)}),m))}}class mh{constructor(e,n,o,c){this.persistence=e,this.Li=n,this.It=c,this.Ui=new wr(Bn),this.qi=new y(m=>Cr(m),Ta),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qs(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Ng(r,e,n,o){return new mh(r,e,n,o)}function gp(r,e){return mp.apply(this,arguments)}function mp(){return mp=(0,d.Z)(function*(r,e){const n=xt(r);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let c;return n.mutationQueue.getAllMutationBatches(o).next(m=>(c=m,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(m=>{const v=[],M=[];let z=hi();for(const ne of c){v.push(ne.batchId);for(const xe of ne.mutations)z=z.add(xe.key)}for(const ne of m){M.push(ne.batchId);for(const xe of ne.mutations)z=z.add(xe.key)}return n.localDocuments.getDocuments(o,z).next(ne=>({ji:ne,removedBatchIds:v,addedBatchIds:M}))})})}),mp.apply(this,arguments)}function l_(r,e){const n=xt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),m=n.Gi.newChangeBuffer({trackRemovals:!0});return function(v,M,z,ne){const xe=z.batch,Ke=xe.keys();let kt=Ot.resolve();return Ke.forEach(Xt=>{kt=kt.next(()=>ne.getEntry(M,Xt)).next(an=>{const On=z.docVersions.get(Xt);_i(null!==On),an.version.compareTo(On)<0&&(xe.applyToRemoteDocument(an,z),an.isValidDocument()&&(an.setReadTime(z.commitVersion),ne.addEntry(an)))})}),kt.next(()=>v.mutationQueue.removeMutationBatch(M,xe))}(n,o,e,m).next(()=>m.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let M=hi();for(let z=0;z<v.mutationResults.length;++z)v.mutationResults[z].transformResults.length>0&&(M=M.add(v.batch.mutations[z].key));return M}(e))).next(()=>n.localDocuments.getDocuments(o,c))})}function _p(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function yp(r,e){const n=xt(r),o=e.snapshotVersion;let c=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",m=>{const v=n.Gi.newChangeBuffer({trackRemovals:!0});c=n.Ui;const M=[];e.targetChanges.forEach((xe,Ke)=>{const kt=c.get(Ke);if(!kt)return;M.push(n.Cs.removeMatchingKeys(m,xe.removedDocuments,Ke).next(()=>n.Cs.addMatchingKeys(m,xe.addedDocuments,Ke)));let Xt=kt.withSequenceNumber(m.currentSequenceNumber);var an,On,si;e.targetMismatches.has(Ke)?Xt=Xt.withResumeToken(Pe.EMPTY_BYTE_STRING,Vn.min()).withLastLimboFreeSnapshotVersion(Vn.min()):xe.resumeToken.approximateByteSize()>0&&(Xt=Xt.withResumeToken(xe.resumeToken,o)),c=c.insert(Ke,Xt),On=Xt,si=xe,(0===(an=kt).resumeToken.approximateByteSize()||On.snapshotVersion.toMicroseconds()-an.snapshotVersion.toMicroseconds()>=3e8||si.addedDocuments.size+si.modifiedDocuments.size+si.removedDocuments.size>0)&&M.push(n.Cs.updateTargetData(m,Xt))});let z=Y(),ne=hi();if(e.documentUpdates.forEach(xe=>{e.resolvedLimboDocuments.has(xe)&&M.push(n.persistence.referenceDelegate.updateLimboDocument(m,xe))}),M.push(vp(m,v,e.documentUpdates).next(xe=>{z=xe.Wi,ne=xe.zi})),!o.isEqual(Vn.min())){const xe=n.Cs.getLastRemoteSnapshotVersion(m).next(Ke=>n.Cs.setTargetsMetadata(m,m.currentSequenceNumber,o));M.push(xe)}return Ot.waitFor(M).next(()=>v.apply(m)).next(()=>n.localDocuments.getLocalViewOfDocuments(m,z,ne)).next(()=>z)}).then(m=>(n.Ui=c,m))}function vp(r,e,n){let o=hi(),c=hi();return n.forEach(m=>o=o.add(m)),e.getEntries(r,o).next(m=>{let v=Y();return n.forEach((M,z)=>{const ne=m.get(M);z.isFoundDocument()!==ne.isFoundDocument()&&(c=c.add(M)),z.isNoDocument()&&z.version.isEqual(Vn.min())?(e.removeEntry(M,z.readTime),v=v.insert(M,z)):!ne.isValidDocument()||z.version.compareTo(ne.version)>0||0===z.version.compareTo(ne.version)&&ne.hasPendingWrites?(e.addEntry(z),v=v.insert(M,z)):on("LocalStore","Ignoring outdated watch update for ",M,". Current version:",ne.version," Watch version:",z.version)}),{Wi:v,zi:c}})}function Ky(r,e){const n=xt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Ju(r,e){const n=xt(r);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return n.Cs.getTargetData(o,e).next(m=>m?(c=m,Ot.resolve(c)):n.Cs.allocateTargetId(o).next(v=>(c=new Ic(e,v,0,o.currentSequenceNumber),n.Cs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=n.Ui.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function Rd(r,e,n){return ff.apply(this,arguments)}function ff(){return ff=(0,d.Z)(function*(r,e,n){const o=xt(r),c=o.Ui.get(e),m=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",m,v=>o.persistence.referenceDelegate.removeTarget(v,c)))}catch(v){if(!ro(v))throw v;on("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.Ui=o.Ui.remove(e),o.qi.delete(c.target)}),ff.apply(this,arguments)}function pf(r,e,n){const o=xt(r);let c=Vn.min(),m=hi();return o.persistence.runTransaction("Execute query","readonly",v=>function(M,z,ne){const xe=xt(M),Ke=xe.qi.get(ne);return void 0!==Ke?Ot.resolve(xe.Ui.get(Ke)):xe.Cs.getTargetData(z,ne)}(o,v,No(e)).next(M=>{if(M)return c=M.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(v,M.targetId).next(z=>{m=z})}).next(()=>o.Li.getDocumentsMatchingQuery(v,e,n?c:Vn.min(),n?m:hi())).next(M=>(Vg(o,tl(e),M),{documents:M,Hi:m})))}function Bg(r,e){const n=xt(r),o=xt(n.Cs),c=n.Ui.get(e);return c?Promise.resolve(c.target):n.persistence.runTransaction("Get target data","readonly",m=>o.se(m,e).next(v=>v?v.target:null))}function Hl(r,e){const n=xt(r),o=n.Ki.get(e)||Vn.min();return n.persistence.runTransaction("Get new document changes","readonly",c=>n.Gi.getAllFromCollectionGroup(c,e,Fo(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(Vg(n,e,c),c))}function Vg(r,e,n){let o=Vn.min();n.forEach((c,m)=>{m.readTime.compareTo(o)>0&&(o=m.readTime)}),r.Ki.set(e,o)}function bp(){return bp=(0,d.Z)(function*(r,e,n,o){const c=xt(r);let m=hi(),v=Y();for(const ne of n){const xe=e.Ji(ne.metadata.name);ne.document&&(m=m.add(xe));const Ke=e.Yi(ne);Ke.setReadTime(e.Xi(ne.metadata.readTime)),v=v.insert(xe,Ke)}const M=c.Gi.newChangeBuffer({trackRemovals:!0}),z=yield Ju(c,(ne=o,No(Eo(Oi.fromString(`__bundle__/docs/${ne}`)))));var ne;return c.persistence.runTransaction("Apply bundle documents","readwrite",ne=>vp(ne,M,v).next(xe=>(M.apply(ne),xe)).next(xe=>c.Cs.removeMatchingKeysForTargetId(ne,z.targetId).next(()=>c.Cs.addMatchingKeys(ne,m,z.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(ne,xe.Wi,xe.zi)).next(()=>xe.Wi)))}),bp.apply(this,arguments)}function c_(r,e){return wp.apply(this,arguments)}function wp(){return wp=(0,d.Z)(function*(r,e,n=hi()){const o=yield Ju(r,No(Sd(e.bundledQuery))),c=xt(r);return c.persistence.runTransaction("Save named query","readwrite",m=>{const v=xr(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return c.Ns.saveNamedQuery(m,e);const M=o.withResumeToken(Pe.EMPTY_BYTE_STRING,v);return c.Ui=c.Ui.insert(M.targetId,M),c.Cs.updateTargetData(m,M).next(()=>c.Cs.removeMatchingKeysForTargetId(m,o.targetId)).next(()=>c.Cs.addMatchingKeys(m,n,o.targetId)).next(()=>c.Ns.saveNamedQuery(m,e))})}),wp.apply(this,arguments)}function jg(r,e){return`firestore_clients_${r}_${e}`}function Ep(r,e,n){let o=`firestore_mutations_${r}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Cp(r,e){return`firestore_targets_${r}_${e}`}class gf{constructor(e,n,o,c){this.user=e,this.batchId=n,this.state=o,this.error=c}static Zi(e,n,o){const c=JSON.parse(o);let m,v="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return v&&c.error&&(v="string"==typeof c.error.message&&"string"==typeof c.error.code,v&&(m=new un(c.error.code,c.error.message))),v?new gf(e,n,c.state,m):(br("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class _h{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Zi(e,n){const o=JSON.parse(n);let c,m="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return m&&o.error&&(m="string"==typeof o.error.message&&"string"==typeof o.error.code,m&&(c=new un(o.error.code,o.error.message))),m?new _h(e,o.state,c):(br("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ki{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const o=JSON.parse(n);let c="object"==typeof o&&o.activeTargetIds instanceof Array,m=Ec();for(let v=0;c&&v<o.activeTargetIds.length;++v)c=qs(o.activeTargetIds[v]),m=m.add(o.activeTargetIds[v]);return c?new ki(e,m):(br("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class mf{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new mf(n.clientId,n.onlineState):(br("SharedClientState",`Failed to parse online state: ${e}`),null)}}class _f{constructor(){this.activeTargetIds=Ec()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yf{constructor(e,n,o,c,m){this.window=e,this.Hs=n,this.persistenceKey=o,this.sr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new wr(Bn),this.started=!1,this.cr=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=m,this.ar=jg(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new _f),this.lr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,d.Z)(function*(){const n=yield e.syncEngine.vi();for(const c of n){if(c===e.sr)continue;const m=e.getItem(jg(e.persistenceKey,c));if(m){const v=ki.Zi(c,m);v&&(e.ur=e.ur.insert(v.clientId,v))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const c=e.yr(o);c&&e.pr(c)}for(const c of e.cr)e.rr(c);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((o,c)=>{c.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,o){this.Tr(e,n,o),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Cp(this.persistenceKey,e));if(o){const c=_h.Zi(e,o);c&&(n=c.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cp(this.persistenceKey,e))}updateQueryState(e,n,o){this.Rr(e,n,o)}handleUserChange(e,n,o){n.forEach(c=>{this.Er(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return on("SharedClientState","READ",e,n),n}setItem(e,n){on("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){on("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(on("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void br("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,d.Z)(function*(){if(n.started){if(null!==o.key)if(n.lr.test(o.key)){if(null==o.newValue){const c=n.vr(o.key);return n.Vr(c,null)}{const c=n.Sr(o.key,o.newValue);if(c)return n.Vr(c.clientId,c)}}else if(n.dr.test(o.key)){if(null!==o.newValue){const c=n.Dr(o.key,o.newValue);if(c)return n.Cr(c)}}else if(n._r.test(o.key)){if(null!==o.newValue){const c=n.Nr(o.key,o.newValue);if(c)return n.kr(c)}}else if(o.key===n.wr){if(null!==o.newValue){const c=n.yr(o.newValue);if(c)return n.pr(c)}}else if(o.key===n.hr){const c=function(m){let v=Ss.at;if(null!=m)try{const M=JSON.parse(m);_i("number"==typeof M),v=M}catch(M){br("SharedClientState","Failed to read sequence number from WebStorage",M)}return v}(o.newValue);c!==Ss.at&&n.sequenceNumberHandler(c)}else if(o.key===n.mr){const c=n.Mr(o.newValue);yield Promise.all(c.map(m=>n.syncEngine.Or(m)))}}else n.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,o){const c=new gf(this.currentUser,e,n,o),m=Ep(this.persistenceKey,this.currentUser,e);this.setItem(m,c.tr())}Er(e){const n=Ep(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,o){const c=Cp(this.persistenceKey,e),m=new _h(e,n,o);this.setItem(c,m.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const o=this.vr(e);return ki.Zi(o,n)}Dr(e,n){const o=this.dr.exec(e),c=Number(o[1]);return gf.Zi(new Ir(void 0!==o[2]?o[2]:null),c,n)}Nr(e,n){const o=this._r.exec(e),c=Number(o[1]);return _h.Zi(c,n)}yr(e){return mf.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var n=this;return(0,d.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);on("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const o=n?this.ur.insert(e,n):this.ur.remove(e),c=this.Ir(this.ur),m=this.Ir(o),v=[],M=[];return m.forEach(z=>{c.has(z)||v.push(z)}),c.forEach(z=>{m.has(z)||M.push(z)}),this.syncEngine.Br(v,M).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Ec();return e.forEach((o,c)=>{n=n.unionWith(c.activeTargetIds)}),n}}class Hg{constructor(){this.Lr=new _f,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new _f,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class u_{qr(e){}shutdown(){}}class xp{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){on("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){on("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const d_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Gg{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class h_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,c,m){const v=this.ao(e,n);on("RestConnection","Sending: ",v,o);const M={};return this.ho(M,c,m),this.lo(e,v,M,o).then(z=>(on("RestConnection","Received: ",z),z),z=>{throw pr("RestConnection",`${e} failed with error: `,z,"url: ",v,"request:",o),z})}fo(e,n,o,c,m,v){return this.co(e,n,o,c,m)}ho(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((c,m)=>e[m]=c),o&&o.headers.forEach((c,m)=>e[m]=c)}ao(e,n){return`${this.oo}/v1/${n}:${d_[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,o,c){return new Promise((m,v)=>{const M=new pc;M.listenOnce(Va.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Bs.NO_ERROR:const ne=M.getResponseJson();on("Connection","XHR received:",JSON.stringify(ne)),m(ne);break;case Bs.TIMEOUT:on("Connection",'RPC "'+e+'" timed out'),v(new un(Vt.DEADLINE_EXCEEDED,"Request time out"));break;case Bs.HTTP_ERROR:const xe=M.getStatus();if(on("Connection",'RPC "'+e+'" failed with status:',xe,"response text:",M.getResponseText()),xe>0){const Ke=M.getResponseJson().error;if(Ke&&Ke.status&&Ke.message){const kt=function(Xt){const an=Xt.toLowerCase().replace(/_/g,"-");return Object.values(Vt).indexOf(an)>=0?an:Vt.UNKNOWN}(Ke.status);v(new un(kt,Ke.message))}else v(new un(Vt.UNKNOWN,"Server responded with status "+M.getStatus()))}else v(new un(Vt.UNAVAILABLE,"Connection failed."));break;default:kn()}}finally{on("Connection",'RPC "'+e+'" completed.')}});const z=JSON.stringify(c);M.send(n,"POST",z,o,15)})}_o(e,n,o){const c=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=Ks(),v=eo(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(M.xmlHttpFactory=new Ca({})),this.ho(M.initMessageHeaders,n,o),(0,_e.uI)()||(0,_e.b$)()||(0,_e.d)()||(0,_e.w1)()||(0,_e.Mn)()||(0,_e.ru)()||(M.httpHeadersOverwriteParam="$httpHeaders");const z=c.join("");on("Connection","Creating WebChannel: "+z,M);const ne=m.createWebChannel(z,M);let xe=!1,Ke=!1;const kt=new Gg({Hr:an=>{Ke?on("Connection","Not sending because WebChannel is closed:",an):(xe||(on("Connection","Opening WebChannel transport."),ne.open(),xe=!0),on("Connection","WebChannel sending:",an),ne.send(an))},Jr:()=>ne.close()}),Xt=(an,On,si)=>{an.listen(On,gr=>{try{si(gr)}catch(Ur){setTimeout(()=>{throw Ur},0)}})};return Xt(ne,dl.EventType.OPEN,()=>{Ke||on("Connection","WebChannel transport opened.")}),Xt(ne,dl.EventType.CLOSE,()=>{Ke||(Ke=!0,on("Connection","WebChannel transport closed"),kt.io())}),Xt(ne,dl.EventType.ERROR,an=>{Ke||(Ke=!0,pr("Connection","WebChannel transport errored:",an),kt.io(new un(Vt.UNAVAILABLE,"The operation could not be completed")))}),Xt(ne,dl.EventType.MESSAGE,an=>{var On;if(!Ke){const si=an.data[0];_i(!!si);const gr=si,Ur=gr.error||(null===(On=gr[0])||void 0===On?void 0:On.error);if(Ur){on("Connection","WebChannel received error:",Ur);const Kr=Ur.status;let lo=function(Pr){const Uo=Wr[Pr];if(void 0!==Uo)return g(Uo)}(Kr),Yr=Ur.message;void 0===lo&&(lo=Vt.INTERNAL,Yr="Unknown error status: "+Kr+" with message "+Ur.message),Ke=!0,kt.io(new un(lo,Yr)),ne.close()}else on("Connection","WebChannel received:",si),kt.ro(si)}}),Xt(v,ul.STAT_EVENT,an=>{an.stat===fr.PROXY?on("Connection","Detected buffering proxy"):an.stat===fr.NOPROXY&&on("Connection","Detected no buffering proxy")}),setTimeout(()=>{kt.so()},0),kt}}function $g(){return typeof window<"u"?window:null}function Dp(){return typeof document<"u"?document:null}function Od(r){return new ip(r,!0)}class vf{constructor(e,n,o=1e3,c=1.5,m=6e4){this.Hs=e,this.timerId=n,this.wo=o,this.mo=c,this.yo=m,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),c=Math.max(0,n-o);c>0&&on("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,c,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Du{constructor(e,n,o,c,m,v,M,z){this.Hs=e,this.Po=o,this.vo=c,this.Vo=m,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=M,this.listener=z,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new vf(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,d.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,d.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var o=this;return(0,d.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():n&&n.code===Vt.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):n&&n.code===Vt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.So===n&&this.Go(o,c)},o=>{e(()=>{const c=new un(Vt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(c)})})}Go(e,n){const o=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(c=>{o(()=>this.Qo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,d.Z)(function*(){e.state=0,e.start()}))}Qo(e){return on("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(on("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f_ extends Du{constructor(e,n,o,c,m,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,c,v),this.It=m}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function yd(r,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(z=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===z?1:"REMOVE"===z?2:"CURRENT"===z?3:"RESET"===z?4:kn(),c=e.targetChange.targetIds||[],m=function(z,ne){return z.gt?(_i(void 0===ne||"string"==typeof ne),Pe.fromBase64String(ne||"")):(_i(void 0===ne||ne instanceof Uint8Array),Pe.fromUint8Array(ne||new Uint8Array))}(r,e.targetChange.resumeToken),v=e.targetChange.cause,M=v&&function(z){const ne=void 0===z.code?Vt.UNKNOWN:g(z.code);return new un(ne,z.message||"")}(v);n=new zc(o,c,m,M||null)}else if("documentChange"in e){const o=e.documentChange,c=Nl(r,o.document.name),m=xr(o.document.updateTime),v=new Un({mapValue:{fields:o.document.fields}}),M=zn.newFoundDocument(c,m,v);n=new sl(o.targetIds||[],o.removedTargetIds||[],M.key,M)}else if("documentDelete"in e){const o=e.documentDelete,c=Nl(r,o.document),m=o.readTime?xr(o.readTime):Vn.min(),v=zn.newNoDocument(c,m);n=new sl([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,c=Nl(r,o.document);n=new sl([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return kn();{const o=e.filter,m=new md(o.count||0);n=new Ll(o.targetId,m)}}var z;return n}(this.It,e),o=function(c){if(!("targetChange"in c))return Vn.min();const m=c.targetChange;return m.targetIds&&m.targetIds.length?Vn.min():m.readTime?xr(m.readTime):Vn.min()}(e);return this.listener.Wo(n,o)}zo(e){const n={};n.database=yl(this.It),n.addTarget=function(c,m){let v;const M=m.target;return v=Zo(M)?{documents:Yh(c,M)}:{query:rp(c,M)},v.targetId=m.targetId,m.resumeToken.approximateByteSize()>0?v.resumeToken=Jd(c,m.resumeToken):m.snapshotVersion.compareTo(Vn.min())>0&&(v.readTime=Yc(c,m.snapshotVersion.toTimestamp())),v}(this.It,e);const o=function Mg(r,e){const n=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return kn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Bo(n)}Ho(e){const n={};n.database=yl(this.It),n.removeTarget=e,this.Bo(n)}}class Ip extends Du{constructor(e,n,o,c,m,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,c,v),this.It=m,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(_i(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function Kh(r,e){return r&&r.length>0?(_i(void 0!==e),r.map(n=>function(o,c){let m=xr(o.updateTime?o.updateTime:c);return m.isEqual(Vn.min())&&(m=xr(c)),new nl(m,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=xr(e.commitTime);return this.listener.Zo(o,n)}return _i(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=yl(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>ka(this.It,o))};this.Bo(n)}}class Ap extends class{}{constructor(e,n,o,c){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=o,this.It=c,this.nu=!1}su(){if(this.nu)throw new un(Vt.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,m])=>this.Vo.co(e,n,o,c,m)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new un(Vt.UNKNOWN,c.toString())})}fo(e,n,o,c){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.Vo.fo(e,n,o,m,v,c)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new un(Vt.UNKNOWN,m.toString())})}terminate(){this.nu=!0}}class p_{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(br(n),this.ou=!1):on("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Yy{constructor(e,n,o,c,m){var v=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=m,this.mu.qr(M=>{o.enqueueAndForget((0,d.Z)(function*(){var z;Au(v)&&(on("RemoteStore","Restarting streams for network reachability change."),yield(z=(0,d.Z)(function*(ne){const xe=xt(ne);xe._u.add(4),yield kd(xe),xe.gu.set("Unknown"),xe._u.delete(4),yield bf(xe)}),function(ne){return z.apply(this,arguments)})(v))}))}),this.gu=new p_(o,c)}}function bf(r){return zg.apply(this,arguments)}function zg(){return zg=(0,d.Z)(function*(r){if(Au(r))for(const e of r.wu)yield e(!0)}),zg.apply(this,arguments)}function kd(r){return wf.apply(this,arguments)}function wf(){return wf=(0,d.Z)(function*(r){for(const e of r.wu)yield e(!1)}),wf.apply(this,arguments)}function Sp(r,e){const n=xt(r);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Pd(n)?Ef(n):td(n).ko()&&Iu(n,e))}function yh(r,e){const n=xt(r),o=td(n);n.du.delete(e),o.ko()&&Wg(n,e),0===n.du.size&&(o.ko()?o.Fo():Au(n)&&n.gu.set("Unknown"))}function Iu(r,e){r.yu.Ot(e.targetId),td(r).zo(e)}function Wg(r,e){r.yu.Ot(e),td(r).Ho(e)}function Ef(r){r.yu=new zu({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),se:e=>r.du.get(e)||null}),td(r).start(),r.gu.uu()}function Pd(r){return Au(r)&&!td(r).No()&&r.du.size>0}function Au(r){return 0===xt(r)._u.size}function Tp(r){r.yu=void 0}function g_(r){return Mp.apply(this,arguments)}function Mp(){return Mp=(0,d.Z)(function*(r){r.du.forEach((e,n)=>{Iu(r,e)})}),Mp.apply(this,arguments)}function m_(r,e){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,d.Z)(function*(r,e){Tp(r),Pd(r)?(r.gu.hu(e),Ef(r)):r.gu.set("Unknown")}),Rp.apply(this,arguments)}function __(r,e,n){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,d.Z)(function*(r,e,n){if(r.gu.set("Online"),e instanceof zc&&2===e.state&&e.cause)try{yield(o=(0,d.Z)(function*(c,m){const v=m.cause;for(const M of m.targetIds)c.du.has(M)&&(yield c.remoteSyncer.rejectListen(M,v),c.du.delete(M),c.yu.removeTarget(M))}),function(c,m){return o.apply(this,arguments)})(r,e)}catch(o){on("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield xf(r,o)}else if(e instanceof sl?r.yu.Gt(e):e instanceof Ll?r.yu.Yt(e):r.yu.Wt(e),!n.isEqual(Vn.min()))try{const o=yield _p(r.localStore);n.compareTo(o)>=0&&(yield function(c,m){const v=c.yu.te(m);return v.targetChanges.forEach((M,z)=>{if(M.resumeToken.approximateByteSize()>0){const ne=c.du.get(z);ne&&c.du.set(z,ne.withResumeToken(M.resumeToken,m))}}),v.targetMismatches.forEach(M=>{const z=c.du.get(M);if(!z)return;c.du.set(M,z.withResumeToken(Pe.EMPTY_BYTE_STRING,z.snapshotVersion)),Wg(c,M);const ne=new Ic(z.target,M,1,z.sequenceNumber);Iu(c,ne)}),c.remoteSyncer.applyRemoteEvent(v)}(r,n))}catch(o){on("RemoteStore","Failed to raise snapshot:",o),yield xf(r,o)}var o}),Cf.apply(this,arguments)}function xf(r,e,n){return Df.apply(this,arguments)}function Df(){return Df=(0,d.Z)(function*(r,e,n){if(!ro(e))throw e;r._u.add(1),yield kd(r),r.gu.set("Offline"),n||(n=()=>_p(r.localStore)),r.asyncQueue.enqueueRetryable((0,d.Z)(function*(){on("RemoteStore","Retrying IndexedDB access"),yield n(),r._u.delete(1),yield bf(r)}))}),Df.apply(this,arguments)}function Op(r,e){return e().catch(n=>xf(r,n,e))}function Su(r){return Kg.apply(this,arguments)}function Kg(){return Kg=(0,d.Z)(function*(r){const e=xt(r),n=nd(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;kp(e);)try{const c=yield Ky(e.localStore,o);if(null===c){0===e.fu.length&&n.Fo();break}o=c.batchId,y_(e,c)}catch(c){yield xf(e,c)}v_(e)&&ed(e)}),Kg.apply(this,arguments)}function kp(r){return Au(r)&&r.fu.length<10}function y_(r,e){r.fu.push(e);const n=nd(r);n.ko()&&n.Yo&&n.Xo(e.mutations)}function v_(r){return Au(r)&&!nd(r).No()&&r.fu.length>0}function ed(r){nd(r).start()}function Yg(r){return If.apply(this,arguments)}function If(){return If=(0,d.Z)(function*(r){nd(r).eu()}),If.apply(this,arguments)}function Af(r){return Cl.apply(this,arguments)}function Cl(){return Cl=(0,d.Z)(function*(r){const e=nd(r);for(const n of r.fu)e.Xo(n.mutations)}),Cl.apply(this,arguments)}function qg(r,e,n){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,d.Z)(function*(r,e,n){const o=r.fu.shift(),c=Dc.from(o,e,n);yield Op(r,()=>r.remoteSyncer.applySuccessfulWrite(c)),yield Su(r)}),Pp.apply(this,arguments)}function Fp(r,e){return ac.apply(this,arguments)}function ac(){return ac=(0,d.Z)(function*(r,e){var n;e&&nd(r).Yo&&(yield(n=(0,d.Z)(function*(o,c){if(C(m=c.code)&&m!==Vt.ABORTED){const v=o.fu.shift();nd(o).Oo(),yield Op(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,c)),yield Su(o)}var m}),function(o,c){return n.apply(this,arguments)})(r,e)),v_(r)&&ed(r)}),ac.apply(this,arguments)}function Sf(r,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,d.Z)(function*(r,e){const n=xt(r);n.asyncQueue.verifyOperationInProgress(),on("RemoteStore","RemoteStore received new credentials");const o=Au(n);n._u.add(3),yield kd(n),o&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield bf(n)}),Tf.apply(this,arguments)}function vh(r,e){return Zg.apply(this,arguments)}function Zg(){return Zg=(0,d.Z)(function*(r,e){const n=xt(r);e?(n._u.delete(2),yield bf(n)):e||(n._u.add(2),yield kd(n),n.gu.set("Unknown"))}),Zg.apply(this,arguments)}function td(r){return r.pu||(r.pu=function(e,n,o){const c=xt(e);return c.su(),new f_(n,c.Vo,c.authCredentials,c.appCheckCredentials,c.It,o)}(r.datastore,r.asyncQueue,{Yr:g_.bind(null,r),Zr:m_.bind(null,r),Wo:__.bind(null,r)}),r.wu.push(function(){var e=(0,d.Z)(function*(n){n?(r.pu.Oo(),Pd(r)?Ef(r):r.gu.set("Unknown")):(yield r.pu.stop(),Tp(r))});return function(n){return e.apply(this,arguments)}}())),r.pu}function nd(r){return r.Iu||(r.Iu=function(e,n,o){const c=xt(e);return c.su(),new Ip(n,c.Vo,c.authCredentials,c.appCheckCredentials,c.It,o)}(r.datastore,r.asyncQueue,{Yr:Yg.bind(null,r),Zr:Fp.bind(null,r),tu:Af.bind(null,r),Zo:qg.bind(null,r)}),r.wu.push(function(){var e=(0,d.Z)(function*(n){n?(r.Iu.Oo(),yield Su(r)):(yield r.Iu.stop(),r.fu.length>0&&(on("RemoteStore",`Stopping write stream with ${r.fu.length} pending writes`),r.fu=[]))});return function(n){return e.apply(this,arguments)}}())),r.Iu}class Fd{constructor(e,n,o,c,m){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=c,this.removalCallback=m,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,n,o,c,m){const v=Date.now()+o,M=new Fd(e,n,v,c,m);return M.start(o),M}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new un(Vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tu(r,e){if(br("AsyncQueue",`${e}: ${r}`),ro(r))return new un(Vt.UNAVAILABLE,`${e}: ${r}`);throw r}class Tu{constructor(e){this.comparator=e?(n,o)=>e(n,o)||_n.comparator(n.key,o.key):(n,o)=>_n.comparator(n.key,o.key),this.keyedMap=ct(),this.sortedSet=new wr(this.comparator)}static emptySet(e){return new Tu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const c=n.getNext().key,m=o.getNext().key;if(!c.isEqual(m))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Tu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Mf{constructor(){this.Tu=new wr(_n.comparator)}track(e){const n=e.doc.key,o=this.Tu.get(n);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(n):1===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):kn():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Mu{constructor(e,n,o,c,m,v,M,z){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=m,this.fromCache=v,this.syncStateChanged=M,this.excludesMetadataChanges=z}static fromInitialDocuments(e,n,o,c){const m=[];return n.forEach(v=>{m.push({type:0,doc:v})}),new Mu(e,n,Tu.emptySet(n),m,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&el(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let c=0;c<n.length;c++)if(n[c].type!==o[c].type||!n[c].doc.isEqual(o[c].doc))return!1;return!0}}class qy{constructor(){this.Au=void 0,this.listeners=[]}}class b_{constructor(){this.queries=new y(e=>hu(e),el),this.onlineState="Unknown",this.Ru=new Set}}function Lp(r,e){return Np.apply(this,arguments)}function Np(){return Np=(0,d.Z)(function*(r,e){const n=xt(r),o=e.query;let c=!1,m=n.queries.get(o);if(m||(c=!0,m=new qy),c)try{m.Au=yield n.onListen(o)}catch(v){const M=tu(v,`Initialization of query '${vc(e.query)}' failed`);return void e.onError(M)}n.queries.set(o,m),m.listeners.push(e),e.bu(n.onlineState),m.Au&&e.Pu(m.Au)&&Qg(n)}),Np.apply(this,arguments)}function Bp(r,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,d.Z)(function*(r,e){const n=xt(r),o=e.query;let c=!1;const m=n.queries.get(o);if(m){const v=m.listeners.indexOf(e);v>=0&&(m.listeners.splice(v,1),c=0===m.listeners.length)}if(c)return n.queries.delete(o),n.onUnlisten(o)}),Rf.apply(this,arguments)}function Zy(r,e){const n=xt(r);let o=!1;for(const c of e){const v=n.queries.get(c.query);if(v){for(const M of v.listeners)M.Pu(c)&&(o=!0);v.Au=c}}o&&Qg(n)}function w_(r,e,n){const o=xt(r),c=o.queries.get(e);if(c)for(const m of c.listeners)m.onError(n);o.queries.delete(e)}function Qg(r){r.Ru.forEach(e=>{e.next()})}class Of{constructor(e,n,o){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new Mu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class Xg{constructor(e,n){this.payload=e,this.byteLength=n}ku(){return"metadata"in this.payload}}class Jg{constructor(e){this.It=e}Ji(e){return Nl(this.It,e)}Yi(e){return e.metadata.exists?Wh(this.It,e.document,!1):zn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return xr(e)}}class Vp{constructor(e,n,o){this.Mu=e,this.localStore=n,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=E_(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Oi.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Fu(e){const n=new Map,o=new Jg(this.It);for(const c of e)if(c.metadata.queries){const m=o.Ji(c.metadata.name);for(const v of c.metadata.queries){const M=(n.get(v)||hi()).add(m);n.set(v,M)}}return n}complete(){var e=this;return(0,d.Z)(function*(){const n=yield function Ug(r,e,n,o){return bp.apply(this,arguments)}(e.localStore,new Jg(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const c of e.queries)yield c_(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:n}})()}}function E_(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class C_{constructor(e){this.key=e}}class x_{constructor(e){this.key=e}}class D_{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=hi(),this.mutatedKeys=hi(),this.Ku=Ol(e),this.Gu=new Tu(this.Ku)}get Qu(){return this.Lu}ju(e,n){const o=n?n.Wu:new Mf,c=n?n.Gu:this.Gu;let m=n?n.mutatedKeys:this.mutatedKeys,v=c,M=!1;const z="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,ne="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((xe,Ke)=>{const kt=c.get(xe),Xt=Uu(this.query,Ke)?Ke:null,an=!!kt&&this.mutatedKeys.has(kt.key),On=!!Xt&&(Xt.hasLocalMutations||this.mutatedKeys.has(Xt.key)&&Xt.hasCommittedMutations);let si=!1;kt&&Xt?kt.data.isEqual(Xt.data)?an!==On&&(o.track({type:3,doc:Xt}),si=!0):this.zu(kt,Xt)||(o.track({type:2,doc:Xt}),si=!0,(z&&this.Ku(Xt,z)>0||ne&&this.Ku(Xt,ne)<0)&&(M=!0)):!kt&&Xt?(o.track({type:0,doc:Xt}),si=!0):kt&&!Xt&&(o.track({type:1,doc:kt}),si=!0,(z||ne)&&(M=!0)),si&&(Xt?(v=v.add(Xt),m=On?m.add(xe):m.delete(xe)):(v=v.delete(xe),m=m.delete(xe)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const xe="F"===this.query.limitType?v.last():v.first();v=v.delete(xe.key),m=m.delete(xe.key),o.track({type:1,doc:xe})}return{Gu:v,Wu:o,$i:M,mutatedKeys:m}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const c=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const m=e.Wu.Eu();m.sort((ne,xe)=>function(Ke,kt){const Xt=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kn()}};return Xt(Ke)-Xt(kt)}(ne.type,xe.type)||this.Ku(ne.doc,xe.doc)),this.Hu(o);const v=n?this.Ju():[],M=0===this.qu.size&&this.current?1:0,z=M!==this.Uu;return this.Uu=M,0!==m.length||z?{snapshot:new Mu(this.query,e.Gu,c,m,e.mutatedKeys,0===M,z,!1),Yu:v}:{Yu:v}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new Mf,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=hi(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const n=[];return e.forEach(o=>{this.qu.has(o)||n.push(new x_(o))}),this.qu.forEach(o=>{e.has(o)||n.push(new C_(o))}),n}Zu(e){this.Lu=e.Hi,this.qu=hi();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Mu.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Qy{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Xy{constructor(e){this.key=e,this.ec=!1}}class Jy{constructor(e,n,o,c,m,v){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=c,this.currentUser=m,this.maxConcurrentLimboResolutions=v,this.nc={},this.sc=new y(M=>hu(M),el),this.ic=new Map,this.rc=new Set,this.oc=new wr(_n.comparator),this.uc=new Map,this.cc=new Vo,this.ac={},this.hc=new Map,this.lc=pi.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function ev(r,e){return em.apply(this,arguments)}function em(){return em=(0,d.Z)(function*(r,e){const n=qp(r);let o,c;const m=n.sc.get(e);if(m)o=m.targetId,n.sharedClientState.addLocalQueryTarget(o),c=m.view.tc();else{const v=yield Ju(n.localStore,No(e));n.isPrimaryClient&&Sp(n.remoteStore,v);const M=n.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,c=yield tm(n,e,o,"current"===M)}return c}),em.apply(this,arguments)}function tm(r,e,n,o){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,d.Z)(function*(r,e,n,o){r.dc=(xe,Ke,kt)=>{return(Xt=(0,d.Z)(function*(an,On,si,gr){let Ur=On.view.ju(si);Ur.$i&&(Ur=yield pf(an.localStore,On.query,!1).then(({documents:Yr})=>On.view.ju(Yr,Ur)));const Kr=gr&&gr.targetChanges.get(On.targetId),lo=On.view.applyChanges(Ur,an.isPrimaryClient,Kr);return id(an,On.targetId,lo.Yu),lo.snapshot}),function(an,On,si,gr){return Xt.apply(this,arguments)})(r,xe,Ke,kt);var Xt};const c=yield pf(r.localStore,e,!0),m=new D_(e,c.Hi),v=m.ju(c.documents),M=rl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==r.onlineState),z=m.applyChanges(v,r.isPrimaryClient,M);id(r,n,z.Yu);const ne=new Qy(e,n,m);return r.sc.set(e,ne),r.ic.has(n)?r.ic.get(n).push(e):r.ic.set(n,[e]),z.snapshot}),Sc.apply(this,arguments)}function Up(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,d.Z)(function*(r,e){const n=xt(r),o=n.sc.get(e),c=n.ic.get(o.targetId);if(c.length>1)return n.ic.set(o.targetId,c.filter(m=>!el(m,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Rd(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),yh(n.remoteStore,o.targetId),lc(n,o.targetId)}).catch(Ko))):(lc(n,o.targetId),yield Rd(n.localStore,o.targetId,!0))}),jp.apply(this,arguments)}function bh(){return bh=(0,d.Z)(function*(r,e,n){const o=Zp(r);try{const c=yield function(m,v){const M=xt(m),z=Ci.now(),ne=v.reduce((kt,Xt)=>kt.add(Xt.key),hi());let xe,Ke;return M.persistence.runTransaction("Locally write mutations","readwrite",kt=>{let Xt=Y(),an=hi();return M.Gi.getEntries(kt,ne).next(On=>{Xt=On,Xt.forEach((si,gr)=>{gr.isValidDocument()||(an=an.add(si))})}).next(()=>M.localDocuments.getOverlayedDocuments(kt,Xt)).next(On=>{xe=On;const si=[];for(const gr of v){const Ur=$u(gr,xe.get(gr.key).overlayedDocument);null!=Ur&&si.push(new fa(gr.key,Ur,wi(Ur.value.mapValue),Yi.exists(!0)))}return M.mutationQueue.addMutationBatch(kt,z,si,v)}).next(On=>{Ke=On;const si=On.applyToLocalDocumentSet(xe,an);return M.documentOverlayCache.saveOverlays(kt,On.batchId,si)})}).then(()=>({batchId:Ke.batchId,changes:Ht(xe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(m,v,M){let z=m.ac[m.currentUser.toKey()];z||(z=new wr(Bn)),z=z.insert(v,M),m.ac[m.currentUser.toKey()]=z}(o,c.batchId,n),yield Tc(o,c.changes),yield Su(o.remoteStore)}catch(c){const m=tu(c,"Failed to persist write");n.reject(m)}}),bh.apply(this,arguments)}function Hp(r,e){return wh.apply(this,arguments)}function wh(){return wh=(0,d.Z)(function*(r,e){const n=xt(r);try{const o=yield yp(n.localStore,e);e.targetChanges.forEach((c,m)=>{const v=n.uc.get(m);v&&(_i(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?v.ec=!0:c.modifiedDocuments.size>0?_i(v.ec):c.removedDocuments.size>0&&(_i(v.ec),v.ec=!1))}),yield Tc(n,o,e)}catch(o){yield Ko(o)}}),wh.apply(this,arguments)}function im(r,e,n){const o=xt(r);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const c=[];o.sc.forEach((m,v)=>{const M=v.view.bu(e);M.snapshot&&c.push(M.snapshot)}),function(m,v){const M=xt(m);M.onlineState=v;let z=!1;M.queries.forEach((ne,xe)=>{for(const Ke of xe.listeners)Ke.bu(v)&&(z=!0)}),z&&Qg(M)}(o.eventManager,e),c.length&&o.nc.Wo(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Ru(r,e,n){return kf.apply(this,arguments)}function kf(){return kf=(0,d.Z)(function*(r,e,n){const o=xt(r);o.sharedClientState.updateQueryState(e,"rejected",n);const c=o.uc.get(e),m=c&&c.key;if(m){let v=new wr(_n.comparator);v=v.insert(m,zn.newNoDocument(m,Vn.min()));const M=hi().add(m),z=new Cc(Vn.min(),new Map,new E(Bn),v,M);yield Hp(o,z),o.oc=o.oc.remove(m),o.uc.delete(e),Pf(o)}else yield Rd(o.localStore,e,!1).then(()=>lc(o,e,n)).catch(Ko)}),kf.apply(this,arguments)}function I_(r,e){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,d.Z)(function*(r,e){const n=xt(r),o=e.batch.batchId;try{const c=yield l_(n.localStore,e);Eh(n,o,null),Ou(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Tc(n,c)}catch(c){yield Ko(c)}}),Gp.apply(this,arguments)}function rm(r,e,n){return $p.apply(this,arguments)}function $p(){return $p=(0,d.Z)(function*(r,e,n){const o=xt(r);try{const c=yield function(m,v){const M=xt(m);return M.persistence.runTransaction("Reject batch","readwrite-primary",z=>{let ne;return M.mutationQueue.lookupMutationBatch(z,v).next(xe=>(_i(null!==xe),ne=xe.keys(),M.mutationQueue.removeMutationBatch(z,xe))).next(()=>M.mutationQueue.performConsistencyCheck(z)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(z,ne,v)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(z,ne)).next(()=>M.localDocuments.getDocuments(z,ne))})}(o.localStore,e);Eh(o,e,n),Ou(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Tc(o,c)}catch(c){yield Ko(c)}}),$p.apply(this,arguments)}function Ld(){return Ld=(0,d.Z)(function*(r,e){const n=xt(r);Au(n.remoteStore)||on("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(m){const v=xt(m);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>v.mutationQueue.getHighestUnacknowledgedBatchId(M))}(n.localStore);if(-1===o)return void e.resolve();const c=n.hc.get(o)||[];c.push(e),n.hc.set(o,c)}catch(o){const c=tu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Ld.apply(this,arguments)}function Ou(r,e){(r.hc.get(e)||[]).forEach(n=>{n.resolve()}),r.hc.delete(e)}function Eh(r,e,n){const o=xt(r);let c=o.ac[o.currentUser.toKey()];if(c){const m=c.get(e);m&&(n?m.reject(n):m.resolve(),c=c.remove(e)),o.ac[o.currentUser.toKey()]=c}}function lc(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.ic.get(e))r.sc.delete(o),n&&r.nc._c(o,n);r.ic.delete(e),r.isPrimaryClient&&r.cc.ls(e).forEach(o=>{r.cc.containsKey(o)||Ch(r,o)})}function Ch(r,e){r.rc.delete(e.path.canonicalString());const n=r.oc.get(e);null!==n&&(yh(r.remoteStore,n),r.oc=r.oc.remove(e),r.uc.delete(n),Pf(r))}function id(r,e,n){for(const o of n)o instanceof C_?(r.cc.addReference(o.key,e),S_(r,o)):o instanceof x_?(on("SyncEngine","Document no longer in limbo: "+o.key),r.cc.removeReference(o.key,e),r.cc.containsKey(o.key)||Ch(r,o.key)):kn()}function S_(r,e){const n=e.key,o=n.path.canonicalString();r.oc.get(n)||r.rc.has(o)||(on("SyncEngine","New document in limbo: "+n),r.rc.add(o),Pf(r))}function Pf(r){for(;r.rc.size>0&&r.oc.size<r.maxConcurrentLimboResolutions;){const e=r.rc.values().next().value;r.rc.delete(e);const n=new _n(Oi.fromString(e)),o=r.lc.next();r.uc.set(o,new Xy(n)),r.oc=r.oc.insert(n,o),Sp(r.remoteStore,new Ic(No(Eo(n.path)),o,2,Ss.at))}}function Tc(r,e,n){return xh.apply(this,arguments)}function xh(){return xh=(0,d.Z)(function*(r,e,n){const o=xt(r),c=[],m=[],v=[];var M;o.sc.isEmpty()||(o.sc.forEach((M,z)=>{v.push(o.dc(z,e,n).then(ne=>{if(ne){o.isPrimaryClient&&o.sharedClientState.updateQueryState(z.targetId,ne.fromCache?"not-current":"current"),c.push(ne);const xe=df.Ci(z.targetId,ne);m.push(xe)}}))}),yield Promise.all(v),o.nc.Wo(c),yield(M=(0,d.Z)(function*(z,ne){const xe=xt(z);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>Ot.forEach(ne,kt=>Ot.forEach(kt.Si,Xt=>xe.persistence.referenceDelegate.addReference(Ke,kt.targetId,Xt)).next(()=>Ot.forEach(kt.Di,Xt=>xe.persistence.referenceDelegate.removeReference(Ke,kt.targetId,Xt)))))}catch(Ke){if(!ro(Ke))throw Ke;on("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of ne){const kt=Ke.targetId;if(!Ke.fromCache){const Xt=xe.Ui.get(kt),On=Xt.withLastLimboFreeSnapshotVersion(Xt.snapshotVersion);xe.Ui=xe.Ui.insert(kt,On)}}}),function(z,ne){return M.apply(this,arguments)})(o.localStore,m))}),xh.apply(this,arguments)}function zp(r,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,d.Z)(function*(r,e){const n=xt(r);if(!n.currentUser.isEqual(e)){on("SyncEngine","User change. New user:",e.toKey());const o=yield gp(n.localStore,e);n.currentUser=e,(c=n).hc.forEach(v=>{v.forEach(M=>{M.reject(new un(Vt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.hc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Tc(n,o.ji)}var c}),Ff.apply(this,arguments)}function Wp(r,e){const n=xt(r),o=n.uc.get(e);if(o&&o.ec)return hi().add(o.key);{let c=hi();const m=n.ic.get(e);if(!m)return c;for(const v of m){const M=n.sc.get(v);c=c.unionWith(M.view.Qu)}return c}}function T_(r,e){return sm.apply(this,arguments)}function sm(){return sm=(0,d.Z)(function*(r,e){const n=xt(r),o=yield pf(n.localStore,e.query,!0),c=e.view.Zu(o);return n.isPrimaryClient&&id(n,e.targetId,c.Yu),c}),sm.apply(this,arguments)}function M_(r,e){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,d.Z)(function*(r,e){const n=xt(r);return Hl(n.localStore,e).then(o=>Tc(n,o))}),Lf.apply(this,arguments)}function R_(r,e,n,o){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,d.Z)(function*(r,e,n,o){const c=xt(r),m=yield function(v,M){const z=xt(v),ne=xt(z.mutationQueue);return z.persistence.runTransaction("Lookup mutation documents","readonly",xe=>ne.Tn(xe,M).next(Ke=>Ke?z.localDocuments.getDocuments(xe,Ke):Ot.resolve(null)))}(c.localStore,e);var M;null!==m?("pending"===n?yield Su(c.remoteStore):"acknowledged"===n||"rejected"===n?(Eh(c,e,o||null),Ou(c,e),M=e,xt(xt(c.localStore).mutationQueue).An(M)):kn(),yield Tc(c,m)):on("SyncEngine","Cannot apply mutation batch with id: "+e)}),Nf.apply(this,arguments)}function Kp(){return Kp=(0,d.Z)(function*(r,e){const n=xt(r);if(qp(n),Zp(n),!0===e&&!0!==n.fc){const o=n.sharedClientState.getAllActiveQueryTargets(),c=yield al(n,o.toArray());n.fc=!0,yield vh(n.remoteStore,!0);for(const m of c)Sp(n.remoteStore,m)}else if(!1===e&&!1!==n.fc){const o=[];let c=Promise.resolve();n.ic.forEach((m,v)=>{n.sharedClientState.isLocalQueryTarget(v)?o.push(v):c=c.then(()=>(lc(n,v),Rd(n.localStore,v,!0))),yh(n.remoteStore,v)}),yield c,yield al(n,o),function(m){const v=xt(m);v.uc.forEach((M,z)=>{yh(v.remoteStore,z)}),v.cc.fs(),v.uc=new Map,v.oc=new wr(_n.comparator)}(n),n.fc=!1,yield vh(n.remoteStore,!1)}}),Kp.apply(this,arguments)}function al(r,e,n){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,d.Z)(function*(r,e,n){const o=xt(r),c=[],m=[];for(const v of e){let M;const z=o.ic.get(v);if(z&&0!==z.length){M=yield Ju(o.localStore,No(z[0]));for(const ne of z){const xe=o.sc.get(ne),Ke=yield T_(o,xe);Ke.snapshot&&m.push(Ke.snapshot)}}else{const ne=yield Bg(o.localStore,v);M=yield Ju(o.localStore,ne),yield tm(o,am(ne),v,!1)}c.push(M)}return o.nc.Wo(m),c}),Bf.apply(this,arguments)}function am(r){return _c(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function tv(r){const e=xt(r);return xt(xt(e.localStore).persistence).vi()}function O_(r,e,n,o){return Dh.apply(this,arguments)}function Dh(){return Dh=(0,d.Z)(function*(r,e,n,o){const c=xt(r);if(c.fc)return void on("SyncEngine","Ignoring unexpected query state notification.");const m=c.ic.get(e);if(m&&m.length>0)switch(n){case"current":case"not-current":{const v=yield Hl(c.localStore,tl(m[0])),M=Cc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Tc(c,v,M);break}case"rejected":yield Rd(c.localStore,e,!0),lc(c,e,o);break;default:kn()}}),Dh.apply(this,arguments)}function lm(r,e,n){return Yp.apply(this,arguments)}function Yp(){return Yp=(0,d.Z)(function*(r,e,n){const o=qp(r);if(o.fc){for(const c of e){if(o.ic.has(c)){on("SyncEngine","Adding an already active target "+c);continue}const m=yield Bg(o.localStore,c),v=yield Ju(o.localStore,m);yield tm(o,am(m),v.targetId,!1),Sp(o.remoteStore,v)}for(const c of n)o.ic.has(c)&&(yield Rd(o.localStore,c,!1).then(()=>{yh(o.remoteStore,c),lc(o,c)}).catch(Ko))}}),Yp.apply(this,arguments)}function qp(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ru.bind(null,e),e.nc.Wo=Zy.bind(null,e.eventManager),e.nc._c=w_.bind(null,e.eventManager),e}function Zp(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I_.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rm.bind(null,e),e}class um{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,d.Z)(function*(){n.It=Od(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return Ng(this.persistence,new hf,e.initialUser,this.It)}gc(e){return new Fa(eu.Bs,this.It)}mc(e){return new Hg}terminate(){var e=this;return(0,d.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Qp extends um{constructor(e,n,o){super(),this.Ec=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,d.Z)(function*(){yield n().call(o,e),yield o.Ec.initialize(o,e),yield Zp(o.Ec.syncEngine),yield Su(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return Ng(this.persistence,new hf,e.initialUser,this.It)}Ic(e,n){return new Pa(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Tc(e,n){const o=new zl(n,this.persistence);return new Al(e.asyncQueue,o)}gc(e){const n=gh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?we.withCacheSize(this.cacheSizeBytes):we.DEFAULT;return new Md(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,$g(),Dp(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new Hg}}class k_ extends Qp{constructor(e,n){super(e,n,!1),this.Ec=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,d.Z)(function*(){yield n().call(o,e);const c=o.Ec.syncEngine;o.sharedClientState instanceof yf&&(o.sharedClientState.syncEngine={Fr:R_.bind(null,c),$r:O_.bind(null,c),Br:lm.bind(null,c),vi:tv.bind(null,c),Or:M_.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var m=(0,d.Z)(function*(v){yield function om(r,e){return Kp.apply(this,arguments)}(o.Ec.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return m.apply(this,arguments)}}())})()}mc(e){const n=$g();if(!yf.C(n))throw new un(Vt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=gh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yf(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Xp{initialize(e,n){var o=this;return(0,d.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>im(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=zp.bind(null,o.syncEngine),yield vh(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new b_}createDatastore(e){const n=Od(e.databaseInfo.databaseId),o=new h_(e.databaseInfo);return new Ap(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,c=e.asyncQueue,m=M=>im(this.syncEngine,M,0),v=xp.C()?new xp:new u_,new Yy(n,o,c,m,v);var n,o,c,m,v}createSyncEngine(e,n){return function(o,c,m,v,M,z,ne){const xe=new Jy(o,c,m,v,M,z);return ne&&(xe.fc=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,d.Z)(function*(n){const o=xt(n);on("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield kd(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Jp(r,e=10240){let n=0;return{read:()=>(0,d.Z)(function*(){if(n<r.byteLength){const o={value:r.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,d.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ih{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):br("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class P_{constructor(e,n){this.bc=e,this.It=n,this.metadata=new Jr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,d.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,d.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,d.Z)(function*(){const n=yield e.Vc();if(null===n)return null;const o=e.Pc.decode(n),c=Number(o);isNaN(c)&&e.Sc(`length string (${o}) is not valid number`);const m=yield e.Dc(c);return new Xg(JSON.parse(m),n.length+c)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,d.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const n=e.Cc();n<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Dc(e){var n=this;return(0,d.Z)(function*(){for(;n.buffer.length<e;)(yield n.xc())&&n.Sc("Reached the end of bundle when more is expected.");const o=n.Pc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,d.Z)(function*(){const n=yield e.bc.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Mc{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,d.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new un(Vt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,d.Z)(function*(m,v){const M=xt(m),z=yl(M.It)+"/documents",ne={documents:v.map(Xt=>_l(M.It,Xt))},xe=yield M.fo("BatchGetDocuments",z,ne,v.length),Ke=new Map;xe.forEach(Xt=>{const an=function _d(r,e){return"found"in e?function(n,o){_i(!!o.found);const c=Nl(n,o.found.name),m=xr(o.found.updateTime),v=new Un({mapValue:{fields:o.found.fields}});return zn.newFoundDocument(c,m,v)}(r,e):"missing"in e?function(n,o){_i(!!o.missing),_i(!!o.readTime);const c=Nl(n,o.missing),m=xr(o.readTime);return zn.newNoDocument(c,m)}(r,e):kn()}(M.It,Xt);Ke.set(an.key.toString(),an)});const kt=[];return v.forEach(Xt=>{const an=Ke.get(Xt.toString());_i(!!an),kt.push(an)}),kt}),function(m,v){return c.apply(this,arguments)})(n.datastore,e);var c;return o.forEach(c=>n.recordVersion(c)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Fl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,d.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,c)=>{const m=_n.fromPath(c);e.mutations.push(new $c(m,e.precondition(m)))}),yield(o=(0,d.Z)(function*(c,m){const v=xt(c),M=yl(v.It)+"/documents",z={writes:m.map(ne=>ka(v.It,ne))};yield v.co("Commit",M,z)}),function(c,m){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw kn();n=Vn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new un(Vt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Vn.min())?Yi.exists(!1):Yi.updateTime(n):Yi.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Vn.min()))throw new un(Vt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Yi.updateTime(n)}return Yi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class eg{constructor(e,n,o,c,m){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=c,this.deferred=m,this.Nc=o.maxAttempts,this.xo=new vf(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,d.Z)(function*(){const n=new Mc(e.datastore),o=e.Mc(n);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(c)}).catch(m=>{e.Oc(m)}))}).catch(c=>{e.Oc(c)})}))}Mc(e){try{const n=this.updateFunction(e);return!gl(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!C(n)}return!1}}class F_{constructor(e,n,o,c){var m=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=c,this.user=Ir.UNAUTHENTICATED,this.clientId=$a.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,d.Z)(function*(M){on("FirestoreClient","Received user=",M.uid),yield m.authCredentialListener(M),m.user=M});return function(M){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(on("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,d.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new un(Vt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const c=tu(o,"Failed to shutdown persistence");n.reject(c)}})),n.promise}}function dm(r,e){return hm.apply(this,arguments)}function hm(){return hm=(0,d.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),on("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield e.initialize(n);let o=n.initialUser;r.setCredentialChangeListener(function(){var c=(0,d.Z)(function*(m){o.isEqual(m)||(yield gp(e.localStore,m),o=m)});return function(m){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=e}),hm.apply(this,arguments)}function tg(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,d.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const n=yield ig(r);on("FirestoreClient","Initializing OnlineComponentProvider");const o=yield r.getConfiguration();yield e.initialize(n,o),r.setCredentialChangeListener(c=>Sf(e.remoteStore,c)),r.setAppCheckTokenChangeListener((c,m)=>Sf(e.remoteStore,m)),r.onlineComponents=e}),ng.apply(this,arguments)}function ig(r){return rg.apply(this,arguments)}function rg(){return rg=(0,d.Z)(function*(r){return r.offlineComponents||(on("FirestoreClient","Using default OfflineComponentProvider"),yield dm(r,new um)),r.offlineComponents}),rg.apply(this,arguments)}function Nd(r){return sg.apply(this,arguments)}function sg(){return sg=(0,d.Z)(function*(r){return r.onlineComponents||(on("FirestoreClient","Using default OnlineComponentProvider"),yield tg(r,new Xp)),r.onlineComponents}),sg.apply(this,arguments)}function fm(r){return ig(r).then(e=>e.persistence)}function rd(r){return ig(r).then(e=>e.localStore)}function Vf(r){return Nd(r).then(e=>e.remoteStore)}function og(r){return Nd(r).then(e=>e.syncEngine)}function ku(r){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,d.Z)(function*(r){const e=yield Nd(r),n=e.eventManager;return n.onListen=ev.bind(null,e.syncEngine),n.onUnlisten=Up.bind(null,e.syncEngine),n}),Uf.apply(this,arguments)}function L_(r,e,n={}){const o=new Jr;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(c,m,v,M,z){const ne=new Ih({next:Ke=>{m.enqueueAndForget(()=>Bp(c,xe));const kt=Ke.docs.has(v);!kt&&Ke.fromCache?z.reject(new un(Vt.UNAVAILABLE,"Failed to get document because the client is offline.")):kt&&Ke.fromCache&&M&&"server"===M.source?z.reject(new un(Vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):z.resolve(Ke)},error:Ke=>z.reject(Ke)}),xe=new Of(Eo(v.path),ne,{includeMetadataChanges:!0,Nu:!0});return Lp(c,xe)}(yield ku(r),r.asyncQueue,e,n,o)})),o.promise}function lg(r,e,n={}){const o=new Jr;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function(c,m,v,M,z){const ne=new Ih({next:Ke=>{m.enqueueAndForget(()=>Bp(c,xe)),Ke.fromCache&&"server"===M.source?z.reject(new un(Vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):z.resolve(Ke)},error:Ke=>z.reject(Ke)}),xe=new Of(v,ne,{includeMetadataChanges:!0,Nu:!0});return Lp(c,xe)}(yield ku(r),r.asyncQueue,e,n,o)})),o.promise}const Ah=new Map;function Bd(r,e,n){if(!n)throw new un(Vt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Vd(r,e,n,o){if(!0===e&&!0===o)throw new un(Vt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _m(r){if(!_n.isDocumentKey(r))throw new un(Vt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jf(r){if(_n.isDocumentKey(r))throw new un(Vt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sh(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(n=r).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof r?"a function":kn()}function sr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new un(Vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(r);throw new un(Vt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function ym(r,e){if(e<=0)throw new un(Vt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}class Ud{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new un(Vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new un(Vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Vd("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Th{constructor(e,n,o,c){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ud({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new un(Vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new un(Vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ud(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new aa;switch(n.type){case"gapi":return new Ha(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new un(Vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Ah.get(e);n&&(on("ComponentProvider","Removing Datastore"),Ah.delete(e),n.terminate())}(this),Promise.resolve()}}function rv(r,e,n,o={}){var c;const m=(r=sr(r,Th))._getSettings();if("firestore.googleapis.com"!==m.host&&m.host!==e&&pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},m),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let v,M;if("string"==typeof o.mockUserToken)v=o.mockUserToken,M=Ir.MOCK_USER;else{v=(0,_e.Sg)(o.mockUserToken,null===(c=r._app)||void 0===c?void 0:c.options.projectId);const z=o.mockUserToken.sub||o.mockUserToken.user_id;if(!z)throw new un(Vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Ir(z)}r._authCredentials=new Us(new Vs(v,M))}}class Hs{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hs(this.firestore,e,this._key)}}class La{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new La(this.firestore,e,this._query)}}class Rc extends La{constructor(e,n,o){super(e,n,Eo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hs(this.firestore,null,new _n(e))}withConverter(e){return new Rc(this.firestore,e,this._path)}}function N_(r,e,...n){if(r=(0,_e.m9)(r),Bd("collection","path",e),r instanceof Th){const o=Oi.fromString(e,...n);return jf(o),new Rc(r,null,o)}{if(!(r instanceof Hs||r instanceof Rc))throw new un(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Oi.fromString(e,...n));return jf(o),new Rc(r.firestore,null,o)}}function B_(r,e){if(r=sr(r,Th),Bd("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new un(Vt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new La(r,null,(n=e,new Xo(Oi.emptyPath(),n)));var n}function vm(r,e,...n){if(r=(0,_e.m9)(r),1===arguments.length&&(e=$a.R()),Bd("doc","path",e),r instanceof Th){const o=Oi.fromString(e,...n);return _m(o),new Hs(r,null,new _n(o))}{if(!(r instanceof Hs||r instanceof Rc))throw new un(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Oi.fromString(e,...n));return _m(o),new Hs(r.firestore,r instanceof Rc?r.converter:null,new _n(o))}}function bm(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),(r instanceof Hs||r instanceof Rc)&&(e instanceof Hs||e instanceof Rc)&&r.firestore===e.firestore&&r.path===e.path&&r.converter===e.converter}function Hf(r,e){return r=(0,_e.m9)(r),e=(0,_e.m9)(e),r instanceof La&&e instanceof La&&r.firestore===e.firestore&&el(r._query,e._query)&&r.converter===e.converter}class V_{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new vf(this,"async_queue_retry"),this.jc=()=>{const n=Dp();n&&on("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Dp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Dp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new Jr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,d.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!ro(n))throw n;on("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,br("INTERNAL UNHANDLED ERROR: ",function(m){let v=m.message||"";return m.stack&&(v=m.stack.includes(m.message)?m.stack:m.message+"\n"+m.stack),v}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=n,n}enqueueAfterDelay(e,n,o){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const c=Fd.createAndSchedule(this,e,n,o,m=>this.Jc(m));return this.Uc.push(c),c}Wc(){this.qc&&kn()}verifyOperationInProgress(){}Yc(){var e=this;return(0,d.Z)(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Mh(r){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(r)}class U_{constructor(){this._progressObserver={},this._taskCompletionResolver=new Jr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const j_=-1;class Es extends Th{constructor(e,n,o,c){super(e,n,o,c),this.type="firestore",this._queue=new V_,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Rh(this),this._firestoreClient.terminate()}}function ao(r){return r._firestoreClient||Rh(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function Rh(r){var e;const n=r._freezeSettings(),o=(m=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Za(r._databaseId,m,r._persistenceKey,(M=n).host,M.ssl,M.experimentalForceLongPolling,M.experimentalAutoDetectLongPolling,M.useFetchStreams));var m,M;r._firestoreClient=new F_(r._authCredentials,r._appCheckCredentials,r._queue,o)}function sd(r,e){Pu(r=sr(r,Es));const n=ao(r),o=r._freezeSettings(),c=new Xp;return jd(n,c,new Qp(c,o.cacheSizeBytes,e?.forceOwnership))}function av(r){Pu(r=sr(r,Es));const e=ao(r),n=r._freezeSettings(),o=new Xp;return jd(e,o,new k_(o,n.cacheSizeBytes))}function jd(r,e,n){const o=new Jr;return r.asyncQueue.enqueue((0,d.Z)(function*(){try{yield dm(r,n),yield tg(r,e),o.resolve()}catch(c){const m=c;if(!("FirebaseError"===(v=m).name?v.code===Vt.FAILED_PRECONDITION||v.code===Vt.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw m;pr("Error enabling offline persistence. Falling back to persistence disabled: "+m),o.reject(m)}var v})).then(()=>o.promise)}function H_(r){if(r._initialized&&!r._terminated)throw new un(Vt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Jr;return r._queue.enqueueAndForgetEvenWhileRestricted((0,d.Z)(function*(){try{yield(n=(0,d.Z)(function*(o){if(!io.C())return Promise.resolve();const c=o+"main";yield io.delete(c)}),function(o){return n.apply(this,arguments)})(gh(r._databaseId,r._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function G_(r){return function(e){const n=new Jr;return e.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function A_(r,e){return Ld.apply(this,arguments)}(yield og(e),n)})),n.promise}(ao(r=sr(r,Es)))}function ug(r){return function nv(r){return r.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield fm(r),n=yield Vf(r);return e.setNetworkEnabled(!0),function(o){const c=xt(o);return c._u.delete(0),bf(c)}(n)}))}(ao(r=sr(r,Es)))}function $_(r){return function iv(r){return r.asyncQueue.enqueue((0,d.Z)(function*(){const e=yield fm(r),n=yield Vf(r);return e.setNetworkEnabled(!1),(o=(0,d.Z)(function*(c){const m=xt(c);m._u.add(0),yield kd(m),m.gu.set("Offline")}),function(c){return o.apply(this,arguments)})(n);var o}))}(ao(r=sr(r,Es)))}function Oh(r,e){const n=ao(r=sr(r,Es)),o=new U_;return function cg(r,e,n,o){const c=function(m,v){let M;return M="string"==typeof m?(new TextEncoder).encode(m):m,z=function(z,ne){if(z instanceof Uint8Array)return Jp(z,void 0);if(z instanceof ArrayBuffer)return Jp(new Uint8Array(z),void 0);if(z instanceof ReadableStream)return z.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new P_(z,v);var z}(n,Od(e));r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){!function cm(r,e,n){const o=xt(r);var c;(c=(0,d.Z)(function*(m,v,M){try{const z=yield v.getMetadata();if(yield function(kt,Xt){const an=xt(kt),On=xr(Xt.createTime);return an.persistence.runTransaction("hasNewerBundle","readonly",si=>an.Ns.getBundleMetadata(si,Xt.id)).then(si=>!!si&&si.createTime.compareTo(On)>=0)}(m.localStore,z))return yield v.close(),M._completeWith({taskState:"Success",documentsLoaded:(kt=z).totalDocuments,bytesLoaded:kt.totalBytes,totalDocuments:kt.totalDocuments,totalBytes:kt.totalBytes}),Promise.resolve(new Set);M._updateProgress(E_(z));const ne=new Vp(z,m.localStore,v.It);let xe=yield v.wc();for(;xe;){const kt=yield ne.Ou(xe);kt&&M._updateProgress(kt),xe=yield v.wc()}const Ke=yield ne.complete();return yield Tc(m,Ke.Bu,void 0),yield function(kt,Xt){const an=xt(kt);return an.persistence.runTransaction("Save bundle","readwrite",On=>an.Ns.saveBundleMetadata(On,Xt))}(m.localStore,z),M._completeWith(Ke.progress),Promise.resolve(Ke.$u)}catch(z){return pr("SyncEngine",`Loading bundle failed with ${z}`),M._failWith(z),Promise.resolve(new Set)}var kt}),function(m,v,M){return c.apply(this,arguments)})(o,e,n).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield og(r),c,o)}))}(n,r._databaseId,e,o),o}function ma(r,e){return function nu(r,e){return r.asyncQueue.enqueue((0,d.Z)(function*(){return function(n,o){const c=xt(n);return c.persistence.runTransaction("Get named query","readonly",m=>c.Ns.getNamedQuery(m,o))}(yield rd(r),e)}))}(ao(r=sr(r,Es)),e).then(n=>n?new La(r,null,n.query):null)}function Pu(r){if(r._initialized||r._terminated)throw new un(Vt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class cc{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new un(Vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oc(Pe.fromBase64String(e))}catch(n){throw new un(Vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oc(Pe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gl{constructor(e){this._methodName=e}}class ru{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new un(Vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new un(Vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bn(this._lat,e._lat)||Bn(this._long,e._long)}}const Hd=/^__.*__$/;class Gd{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new il(e,this.data,n,this.fieldTransforms)}}class od{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ad(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kn()}}class su{constructor(e,n,o,c,m,v){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=c,void 0===m&&this.ea(),this.fieldTransforms=m||[],this.fieldMask=v||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new su(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),c=this.sa({path:o,ra:!1});return c.oa(e),c}ua(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),c=this.sa({path:o,ra:!1});return c.ea(),c}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return cd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(ad(this.na)&&Hd.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class $d{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||Od(e)}fa(e,n,o,c=!1){return new su({na:e,methodName:n,la:o,path:Ji.emptyPath(),ra:!1,ha:c},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function $l(r){const e=r._freezeSettings(),n=Od(r._databaseId);return new $d(r._databaseId,!!e.ignoreUndefinedProperties,n)}function kh(r,e,n,o,c,m={}){const v=r.fa(m.merge||m.mergeFields?2:0,e,n,c);Wf("Data must be an object, but it was:",v,o);const M=hg(o,v);let z,ne;if(m.merge)z=new ce(v.fieldMask),ne=v.fieldTransforms;else if(m.mergeFields){const xe=[];for(const Ke of m.mergeFields){const kt=Ph(e,Ke,n);if(!v.contains(kt))throw new un(Vt.INVALID_ARGUMENT,`Field '${kt}' is specified in your field mask but missing from your input data.`);Fh(xe,kt)||xe.push(kt)}z=new ce(xe),ne=v.fieldTransforms.filter(Ke=>z.covers(Ke.field))}else z=null,ne=v.fieldTransforms;return new Gd(new Un(M),z,ne)}class zd extends Gl{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zd}}function dg(r,e,n){return new su({na:3,la:e.settings.la,methodName:r._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class Gf extends Gl{_toFieldTransform(e){return new bc(e.path,new kl)}isEqual(e){return e instanceof Gf}}class wm extends Gl{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=dg(this,e,!0),o=this.da.map(m=>ld(m,n)),c=new Zl(o);return new bc(e.path,c)}isEqual(e){return this===e}}class Em extends Gl{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=dg(this,e,!0),o=this.da.map(m=>ld(m,n)),c=new Ql(o);return new bc(e.path,c)}isEqual(e){return this===e}}class Cm extends Gl{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new ml(e.It,Vc(e.It,this._a));return new bc(e.path,n)}isEqual(e){return this===e}}function $f(r,e,n,o){const c=r.fa(1,e,n);Wf("Data must be an object, but it was:",c,o);const m=[],v=Un.empty();as(o,(z,ne)=>{const xe=Kf(e,z,n);ne=(0,_e.m9)(ne);const Ke=c.ua(xe);if(ne instanceof zd)m.push(xe);else{const kt=ld(ne,Ke);null!=kt&&(m.push(xe),v.set(xe,kt))}});const M=new ce(m);return new od(v,M,c.fieldTransforms)}function zf(r,e,n,o,c,m){const v=r.fa(1,e,n),M=[Ph(e,o,n)],z=[c];if(m.length%2!=0)throw new un(Vt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let kt=0;kt<m.length;kt+=2)M.push(Ph(e,m[kt])),z.push(m[kt+1]);const ne=[],xe=Un.empty();for(let kt=M.length-1;kt>=0;--kt)if(!Fh(ne,M[kt])){const Xt=M[kt];let an=z[kt];an=(0,_e.m9)(an);const On=v.ua(Xt);if(an instanceof zd)ne.push(Xt);else{const si=ld(an,On);null!=si&&(ne.push(Xt),xe.set(Xt,si))}}const Ke=new ce(ne);return new od(xe,Ke,v.fieldTransforms)}function xm(r,e,n,o=!1){return ld(n,r.fa(o?4:3,e))}function ld(r,e){if(Dm(r=(0,_e.m9)(r)))return Wf("Unsupported field value:",e,r),hg(r,e);if(r instanceof Gl)return function(n,o){if(!ad(o.na))throw o.aa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${n._methodName}() is not currently supported inside arrays`);const c=n._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,o){const c=[];let m=0;for(const v of n){let M=ld(v,o.ca(m));null==M&&(M={nullValue:"NULL_VALUE"}),c.push(M),m++}return{arrayValue:{values:c}}}(r,e)}return function(n,o){if(null===(n=(0,_e.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Vc(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const c=Ci.fromDate(n);return{timestampValue:Yc(o.It,c)}}if(n instanceof Ci){const c=new Ci(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yc(o.It,c)}}if(n instanceof ru)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oc)return{bytesValue:Jd(o.It,n._byteString)};if(n instanceof Hs){const c=o.databaseId,m=n.firestore._databaseId;if(!m.isEqual(c))throw o.aa(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Wu(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.aa(`Unsupported field value: ${Sh(n)}`)}(r,e)}function hg(r,e){const n={};return pl(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(r,(o,c)=>{const m=ld(c,e.ia(o));null!=m&&(n[o]=m)}),{mapValue:{fields:n}}}function Dm(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Ci||r instanceof ru||r instanceof Oc||r instanceof Hs||r instanceof Gl)}function Wf(r,e,n){if(!Dm(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Sh(n);throw e.aa("an object"===o?r+" a custom object":r+" "+o)}var o}function Ph(r,e,n){if((e=(0,_e.m9)(e))instanceof cc)return e._internalPath;if("string"==typeof e)return Kf(r,e);throw cd("Field path arguments must be of type string or ",r,!1,void 0,n)}const fg=new RegExp("[~\\*/\\[\\]]");function Kf(r,e,n){if(e.search(fg)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new cc(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function cd(r,e,n,o,c){const m=o&&!o.isEmpty(),v=void 0!==c;let M=`Function ${e}() called with invalid data`;n&&(M+=" (via `toFirestore()`)"),M+=". ";let z="";return(m||v)&&(z+=" (found",m&&(z+=` in field ${o}`),v&&(z+=` in document ${c}`),z+=")"),new un(Vt.INVALID_ARGUMENT,M+r+z)}function Fh(r,e){return r.some(n=>n.isEqual(e))}class ud{constructor(e,n,o,c,m){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=c,this._converter=m}get id(){return this._key.path.lastSegment()}get ref(){return new Hs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new z_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class z_ extends ud{data(){return super.data()}}function Wd(r,e){return"string"==typeof e?Kf(r,e):e instanceof cc?e._internalPath:e._delegate._internalPath}class ou{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fu extends ud{constructor(e,n,o,c,m,v){super(e,n,o,c,v),this._firestore=e,this._firestoreImpl=e,this.metadata=m}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Wd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Kd extends Fu{data(e={}){return super.data(e)}}class au{constructor(e,n,o,c){this._firestore=e,this._userDataWriter=n,this._snapshot=c,this.metadata=new ou(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Kd(this._firestore,this._userDataWriter,o.key,o,new ou(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new un(Vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let m=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Kd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new ou(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:m++}))}{let m=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>c||3!==v.type).map(v=>{const M=new Kd(o._firestore,o._userDataWriter,v.doc.key,v.doc,new ou(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let z=-1,ne=-1;return 0!==v.type&&(z=m.indexOf(v.doc.key),m=m.delete(v.doc.key)),1!==v.type&&(m=m.add(v.doc),ne=m.indexOf(v.doc.key)),{type:Im(v.type),doc:M,oldIndex:z,newIndex:ne}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Im(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kn()}}function Am(r,e){return r instanceof Fu&&e instanceof Fu?r._firestore===e._firestore&&r._key.isEqual(e._key)&&(null===r._document?null===e._document:r._document.isEqual(e._document))&&r._converter===e._converter:r instanceof au&&e instanceof au&&r._firestore===e._firestore&&Hf(r.query,e.query)&&r.metadata.isEqual(e.metadata)&&r._snapshot.isEqual(e._snapshot)}function Yf(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new un(Vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dd{}function W_(r,...e){for(const n of e)r=n._apply(r);return r}class Sm extends dd{constructor(e,n,o){super(),this.wa=e,this.ma=n,this.ga=o,this.type="where"}_apply(e){const n=$l(e.firestore),o=function(c,m,v,M,z,ne,xe){let Ke;if(z.isKeyField()){if("array-contains"===ne||"array-contains-any"===ne)throw new un(Vt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ne}' queries on documentId().`);if("in"===ne||"not-in"===ne){yg(xe,ne);const Xt=[];for(const an of xe)Xt.push(_g(M,c,an));Ke={arrayValue:{values:Xt}}}else Ke=_g(M,c,xe)}else"in"!==ne&&"not-in"!==ne&&"array-contains-any"!==ne||yg(xe,ne),Ke=xm(v,"where",xe,"in"===ne||"not-in"===ne);const kt=Or.create(z,ne,Ke);return function(Xt,an){if(an.dt()){const si=Ma(Xt);if(null!==si&&!si.isEqual(an.field))throw new un(Vt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${si.toString()}' and '${an.field.toString()}'`);const gr=Yl(Xt);null!==gr&&vg(0,an.field,gr)}const On=function(si,gr){for(const Ur of si.filters)if(gr.indexOf(Ur.op)>=0)return Ur.op;return null}(Xt,function(si){switch(si){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(an.op));if(null!==On)throw new un(Vt.INVALID_ARGUMENT,On===an.op?`Invalid query. You cannot use more than one '${an.op.toString()}' filter.`:`Invalid query. You cannot use '${an.op.toString()}' filters with '${On.toString()}' filters.`)}(c,kt),kt}(e._query,0,n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new La(e.firestore,e.converter,function(c,m){const v=c.filters.concat([m]);return new Xo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),v,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}function Tm(r,e,n){const o=e,c=Wd("where",r);return new Sm(c,o,n)}class Mm extends dd{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(o,c,m){if(null!==o.startAt)throw new un(Vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new un(Vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Kl(c,m);return function(M,z){if(null===Yl(M)){const ne=Ma(M);null!==ne&&vg(0,ne,z.field)}}(o,v),v}(e._query,this.wa,this.ya);return new La(e.firestore,e.converter,function(o,c){const m=o.explicitOrderBy.concat([c]);return new Xo(o.path,o.collectionGroup,m,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Rm(r,e="asc"){const n=e,o=Wd("orderBy",r);return new Mm(o,n)}class Om extends dd{constructor(e,n,o){super(),this.type=e,this.pa=n,this.Ia=o}_apply(e){return new La(e.firestore,e.converter,Ja(e._query,this.pa,this.Ia))}}function km(r){return ym("limit",r),new Om("limit",r,"F")}function Pm(r){return ym("limitToLast",r),new Om("limitToLast",r,"L")}class qf extends dd{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=mg(e,this.type,this.Ta,this.Ea);return new La(e.firestore,e.converter,(c=n,new Xo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}function pg(...r){return new qf("startAt",r,!0)}function Fm(...r){return new qf("startAfter",r,!1)}class gg extends dd{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=mg(e,this.type,this.Ta,this.Ea);return new La(e.firestore,e.converter,(c=n,new Xo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function Lm(...r){return new gg("endBefore",r,!1)}function Nm(...r){return new gg("endAt",r,!0)}function mg(r,e,n,o){if(n[0]=(0,_e.m9)(n[0]),n[0]instanceof ud)return function(c,m,v,M,z){if(!M)throw new un(Vt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const ne=[];for(const xe of Ts(c))if(xe.field.isKeyField())ne.push(Lo(m,M.key));else{const Ke=M.data.field(xe.field);if($i(Ke))throw new un(Vt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+xe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const kt=xe.field.canonicalString();throw new un(Vt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${kt}' (used as the orderBy) does not exist.`)}ne.push(Ke)}return new Ml(ne,z)}(r._query,r.firestore._databaseId,e,n[0]._document,o);{const c=$l(r.firestore);return function(m,v,M,z,ne,xe){const Ke=m.explicitOrderBy;if(ne.length>Ke.length)throw new un(Vt.INVALID_ARGUMENT,`Too many arguments provided to ${z}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const kt=[];for(let Xt=0;Xt<ne.length;Xt++){const an=ne[Xt];if(Ke[Xt].field.isKeyField()){if("string"!=typeof an)throw new un(Vt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${z}(), but got a ${typeof an}`);if(!yc(m)&&-1!==an.indexOf("/"))throw new un(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${z}() must be a plain document ID, but '${an}' contains a slash.`);const On=m.path.child(Oi.fromString(an));if(!_n.isDocumentKey(On))throw new un(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${z}() must result in a valid document path, but '${On}' is not because it contains an odd number of segments.`);const si=new _n(On);kt.push(Lo(v,si))}else{const On=xm(M,z,an);kt.push(On)}}return new Ml(kt,xe)}(r._query,r.firestore._databaseId,c,e,n,o)}}function _g(r,e,n){if("string"==typeof(n=(0,_e.m9)(n))){if(""===n)throw new un(Vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yc(e)&&-1!==n.indexOf("/"))throw new un(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Oi.fromString(n));if(!_n.isDocumentKey(o))throw new un(Vt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Lo(r,new _n(o))}if(n instanceof Hs)return Lo(r,n._key);throw new un(Vt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function yg(r,e){if(!Array.isArray(r)||0===r.length)throw new un(Vt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(r.length>10)throw new un(Vt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function vg(r,e,n){if(!n.isEqual(e))throw new un(Vt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const lv={maxAttempts:5};class bg{convertValue(e,n="none"){switch(Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw kn()}}convertObject(e,n){const o={};return as(e.fields,(c,m)=>{o[c]=this.convertValue(m,n)}),o}convertGeoPoint(e){return new ru(Kn(e.latitude),Kn(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=ls(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(vs(e));default:return null}}convertTimestamp(e){const n=mn(e);return new Ci(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Oi.fromString(e);_i(vu(o));const c=new bs(o.get(1),o.get(3)),m=new _n(o.popFirst(5));return c.isEqual(n)||br(`Document ${m} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),m}}function Zf(r,e,n){let o;return o=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,o}class Bm extends bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hs(this.firestore,null,n)}}class Vm{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$l(e)}set(e,n,o){this._verifyNotCommitted();const c=ts(e,this._firestore),m=Zf(c.converter,n,o),v=kh(this._dataReader,"WriteBatch.set",c._key,m,null!==c.converter,o);return this._mutations.push(v.toMutation(c._key,Yi.none())),this}update(e,n,o,...c){this._verifyNotCommitted();const m=ts(e,this._firestore);let v;return v="string"==typeof(n=(0,_e.m9)(n))||n instanceof cc?zf(this._dataReader,"WriteBatch.update",m._key,n,o,c):$f(this._dataReader,"WriteBatch.update",m._key,n),this._mutations.push(v.toMutation(m._key,Yi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ts(e,this._firestore);return this._mutations=this._mutations.concat(new Fl(n._key,Yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new un(Vt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ts(r,e){if((r=(0,_e.m9)(r)).firestore!==e)throw new un(Vt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Um(r){r=sr(r,Hs);const e=sr(r.firestore,Es);return L_(ao(e),r._key).then(n=>Nh(e,r,n))}class hd extends bg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Hs(this.firestore,null,n)}}function K_(r){r=sr(r,Hs);const e=sr(r.firestore,Es),n=ao(e),o=new hd(e);return function ag(r,e){const n=new Jr;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(o=(0,d.Z)(function*(c,m,v){try{const M=yield function(z,ne){const xe=xt(z);return xe.persistence.runTransaction("read document","readonly",Ke=>xe.localDocuments.getDocument(Ke,ne))}(c,m);M.isFoundDocument()?v.resolve(M):M.isNoDocument()?v.resolve(null):v.reject(new un(Vt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const z=tu(M,`Failed to get document '${m} from cache`);v.reject(z)}}),function(c,m,v){return o.apply(this,arguments)})(yield rd(r),e,n);var o})),n.promise}(n,r._key).then(c=>new Fu(e,o,r._key,c,new ou(null!==c&&c.hasLocalMutations,!0),r.converter))}function jm(r){r=sr(r,Hs);const e=sr(r.firestore,Es);return L_(ao(e),r._key,{source:"server"}).then(n=>Nh(e,r,n))}function Y_(r){r=sr(r,La);const e=sr(r.firestore,Es),n=ao(e),o=new hd(e);return Yf(r._query),lg(n,r._query).then(c=>new au(e,o,r,c))}function Hm(r){r=sr(r,La);const e=sr(r.firestore,Es),n=ao(e),o=new hd(e);return function pm(r,e){const n=new Jr;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return(o=(0,d.Z)(function*(c,m,v){try{const M=yield pf(c,m,!0),z=new D_(m,M.Hi),ne=z.ju(M.documents),xe=z.applyChanges(ne,!1);v.resolve(xe.snapshot)}catch(M){const z=tu(M,`Failed to execute query '${m} against cache`);v.reject(z)}}),function(c,m,v){return o.apply(this,arguments)})(yield rd(r),e,n);var o})),n.promise}(n,r._query).then(c=>new au(e,o,r,c))}function Gm(r){r=sr(r,La);const e=sr(r.firestore,Es),n=ao(e),o=new hd(e);return lg(n,r._query,{source:"server"}).then(c=>new au(e,o,r,c))}function Yd(r,e,n){r=sr(r,Hs);const o=sr(r.firestore,Es),c=Zf(r.converter,e,n);return Lh(o,[kh($l(o),"setDoc",r._key,c,null!==r.converter,n).toMutation(r._key,Yi.none())])}function q_(r,e,n,...o){r=sr(r,Hs);const c=sr(r.firestore,Es),m=$l(c);let v;return v="string"==typeof(e=(0,_e.m9)(e))||e instanceof cc?zf(m,"updateDoc",r._key,e,n,o):$f(m,"updateDoc",r._key,e),Lh(c,[v.toMutation(r._key,Yi.exists(!0))])}function Z_(r){return Lh(sr(r.firestore,Es),[new Fl(r._key,Yi.none())])}function $m(r,e){const n=sr(r.firestore,Es),o=vm(r),c=Zf(r.converter,e);return Lh(n,[kh($l(r.firestore),"addDoc",o._key,c,null!==r.converter,{}).toMutation(o._key,Yi.exists(!1))]).then(()=>o)}function Q_(r,...e){var n,o,c;r=(0,_e.m9)(r);let m={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||Mh(e[v])||(m=e[v],v++);const M={includeMetadataChanges:m.includeMetadataChanges};if(Mh(e[v])){const Ke=e[v];e[v]=null===(n=Ke.next)||void 0===n?void 0:n.bind(Ke),e[v+1]=null===(o=Ke.error)||void 0===o?void 0:o.bind(Ke),e[v+2]=null===(c=Ke.complete)||void 0===c?void 0:c.bind(Ke)}let z,ne,xe;if(r instanceof Hs)ne=sr(r.firestore,Es),xe=Eo(r._key.path),z={next:Ke=>{e[v]&&e[v](Nh(ne,r,Ke))},error:e[v+1],complete:e[v+2]};else{const Ke=sr(r,La);ne=sr(Ke.firestore,Es),xe=Ke._query;const kt=new hd(ne);z={next:Xt=>{e[v]&&e[v](new au(ne,kt,Ke,Xt))},error:e[v+1],complete:e[v+2]},Yf(r._query)}return function(Ke,kt,Xt,an){const On=new Ih(an),si=new Of(kt,On,Xt);return Ke.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Lp(yield ku(Ke),si)})),()=>{On.Rc(),Ke.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return Bp(yield ku(Ke),si)}))}}(ao(ne),xe,M,z)}function zm(r,e){return function gm(r,e){const n=new Ih(e);return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return o=yield ku(r),c=n,xt(o).Ru.add(c),void c.next();var o,c})),()=>{n.Rc(),r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return o=yield ku(r),c=n,void xt(o).Ru.delete(c);var o,c}))}}(ao(r=sr(r,Es)),Mh(e)?e:{next:e})}function Lh(r,e){return function(n,o){const c=new Jr;return n.asyncQueue.enqueueAndForget((0,d.Z)(function*(){return function nm(r,e,n){return bh.apply(this,arguments)}(yield og(n),o,c)})),c.promise}(ao(r),e)}function Nh(r,e,n){const o=n.docs.get(e._key),c=new hd(r);return new Fu(r,c,e._key,o,new ou(n.hasPendingWrites,n.fromCache),e.converter)}class wg extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=$l(e)}get(e){const n=ts(e,this._firestore),o=new Bm(this._firestore);return this._transaction.lookup([n._key]).then(c=>{if(!c||1!==c.length)return kn();const m=c[0];if(m.isFoundDocument())return new ud(this._firestore,o,m.key,m,n.converter);if(m.isNoDocument())return new ud(this._firestore,o,n._key,null,n.converter);throw kn()})}set(e,n,o){const c=ts(e,this._firestore),m=Zf(c.converter,n,o),v=kh(this._dataReader,"Transaction.set",c._key,m,null!==c.converter,o);return this._transaction.set(c._key,v),this}update(e,n,o,...c){const m=ts(e,this._firestore);let v;return v="string"==typeof(n=(0,_e.m9)(n))||n instanceof cc?zf(this._dataReader,"Transaction.update",m._key,n,o,c):$f(this._dataReader,"Transaction.update",m._key,n),this._transaction.update(m._key,v),this}delete(e){const n=ts(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ts(e,this._firestore),o=new hd(this._firestore);return super.get(e).then(c=>new Fu(this._firestore,o,n._key,c._document,new ou(!1,!1),n.converter))}}function kc(r,e,n){r=sr(r,Es);const o=Object.assign(Object.assign({},lv),n);return function(c){if(c.maxAttempts<1)throw new un(Vt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function mm(r,e,n){const o=new Jr;return r.asyncQueue.enqueueAndForget((0,d.Z)(function*(){const c=yield(m=r,Nd(m).then(v=>v.datastore));var m;new eg(r.asyncQueue,c,n,e,o).run()})),o.promise}(ao(r),c=>e(new wg(r,c)),o)}function X_(){return new zd("deleteField")}function J_(){return new Gf("serverTimestamp")}function Pc(...r){return new wm("arrayUnion",r)}function dc(...r){return new Em("arrayRemove",r)}function hc(r){return new Cm("increment",r)}!function(r,e=!0){Oo=f.SDK_VERSION,(0,f._registerComponent)(new P.wA("firestore",(n,{instanceIdentifier:o,options:c})=>{const m=n.getProvider("app").getImmediate(),v=new Es(new ja(n.getProvider("auth-internal")),new Nc(n.getProvider("app-check-internal")),function(M,z){if(!Object.prototype.hasOwnProperty.apply(M.options,["projectId"]))throw new un(Vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bs(M.options.projectId,z)}(m,o),m);return c=Object.assign({useFetchStreams:e},c),v._setSettings(c),v},"PUBLIC").setMultipleInstances(!0)),(0,f.registerVersion)(gc,"3.4.15",r),(0,f.registerVersion)(gc,"3.4.15","esm2017")}()},2090:(rn,et,T)=>{T.d(et,{$s:()=>It,BH:()=>tt,G6:()=>vt,L:()=>he,LL:()=>Pt,Mn:()=>Xe,Sg:()=>dt,UG:()=>pt,US:()=>Oe,ZB:()=>ue,ZR:()=>Et,b$:()=>yt,d:()=>ot,eu:()=>Ae,hl:()=>nt,jU:()=>ze,m9:()=>se,ne:()=>ei,pd:()=>zt,r3:()=>An,ru:()=>_t,tV:()=>Re,uI:()=>Ft,vZ:()=>Gn,w1:()=>Ue,xO:()=>Wn,xb:()=>Hn,z$:()=>Ye,zI:()=>Ze,zd:()=>ii});const B=function(Q){const de=[];let ve=0;for(let J=0;J<Q.length;J++){let Ce=Q.charCodeAt(J);Ce<128?de[ve++]=Ce:Ce<2048?(de[ve++]=Ce>>6|192,de[ve++]=63&Ce|128):55296==(64512&Ce)&&J+1<Q.length&&56320==(64512&Q.charCodeAt(J+1))?(Ce=65536+((1023&Ce)<<10)+(1023&Q.charCodeAt(++J)),de[ve++]=Ce>>18|240,de[ve++]=Ce>>12&63|128,de[ve++]=Ce>>6&63|128,de[ve++]=63&Ce|128):(de[ve++]=Ce>>12|224,de[ve++]=Ce>>6&63|128,de[ve++]=63&Ce|128)}return de},Oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Q,de){if(!Array.isArray(Q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ve=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let Ce=0;Ce<Q.length;Ce+=3){const Ie=Q[Ce],Je=Ce+1<Q.length,it=Je?Q[Ce+1]:0,nn=Ce+2<Q.length,fn=nn?Q[Ce+2]:0;let ke=(15&it)<<2|fn>>6,He=63&fn;nn||(He=64,Je||(ke=64)),J.push(ve[Ie>>2],ve[(3&Ie)<<4|it>>4],ve[ke],ve[He])}return J.join("")},encodeString(Q,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(Q):this.encodeByteArray(B(Q),de)},decodeString(Q,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(Q):function(Q){const de=[];let ve=0,J=0;for(;ve<Q.length;){const Ce=Q[ve++];if(Ce<128)de[J++]=String.fromCharCode(Ce);else if(Ce>191&&Ce<224){const Ie=Q[ve++];de[J++]=String.fromCharCode((31&Ce)<<6|63&Ie)}else if(Ce>239&&Ce<365){const nn=((7&Ce)<<18|(63&Q[ve++])<<12|(63&Q[ve++])<<6|63&Q[ve++])-65536;de[J++]=String.fromCharCode(55296+(nn>>10)),de[J++]=String.fromCharCode(56320+(1023&nn))}else{const Ie=Q[ve++],Je=Q[ve++];de[J++]=String.fromCharCode((15&Ce)<<12|(63&Ie)<<6|63&Je)}}return de.join("")}(this.decodeStringToByteArray(Q,de))},decodeStringToByteArray(Q,de){this.init_();const ve=de?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let Ce=0;Ce<Q.length;){const Ie=ve[Q.charAt(Ce++)],it=Ce<Q.length?ve[Q.charAt(Ce)]:0;++Ce;const fn=Ce<Q.length?ve[Q.charAt(Ce)]:64;++Ce;const at=Ce<Q.length?ve[Q.charAt(Ce)]:64;if(++Ce,null==Ie||null==it||null==fn||null==at)throw Error();J.push(Ie<<2|it>>4),64!==fn&&(J.push(it<<4&240|fn>>2),64!==at&&J.push(fn<<6&192|at))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Q=0;Q<this.ENCODED_VALS.length;Q++)this.byteToCharMap_[Q]=this.ENCODED_VALS.charAt(Q),this.charToByteMap_[this.byteToCharMap_[Q]]=Q,this.byteToCharMapWebSafe_[Q]=this.ENCODED_VALS_WEBSAFE.charAt(Q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Q]]=Q,Q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Q)]=Q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Q)]=Q)}}},he=function(Q){return function(Q){const de=B(Q);return Oe.encodeByteArray(de,!0)}(Q).replace(/\./g,"")},Re=function(Q){try{return Oe.decodeString(Q,!0)}catch(de){console.error("base64Decode failed: ",de)}return null};function ue(Q,de){if(!(de instanceof Object))return de;switch(de.constructor){case Date:return new Date(de.getTime());case Object:void 0===Q&&(Q={});break;case Array:Q=[];break;default:return de}for(const ve in de)!de.hasOwnProperty(ve)||!ye(ve)||(Q[ve]=ue(Q[ve],de[ve]));return Q}function ye(Q){return"__proto__"!==Q}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((de,ve)=>{this.resolve=de,this.reject=ve})}wrapCallback(de){return(ve,J)=>{ve?this.reject(ve):this.resolve(J),"function"==typeof de&&(this.promise.catch(()=>{}),1===de.length?de(ve):de(ve,J))}}}function dt(Q,de){if(Q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=de||"demo-project",Ce=Q.iat||0,Ie=Q.sub||Q.user_id;if(!Ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Je=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:Ce,exp:Ce+3600,auth_time:Ce,sub:Ie,user_id:Ie,firebase:{sign_in_provider:"custom",identities:{}}},Q);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(Je)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ft(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function pt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ze(){return"object"==typeof self&&self.self===self}function _t(){const Q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Q&&void 0!==Q.id}function yt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ot(){return Ye().indexOf("Electron/")>=0}function Ue(){const Q=Ye();return Q.indexOf("MSIE ")>=0||Q.indexOf("Trident/")>=0}function Xe(){return Ye().indexOf("MSAppHost/")>=0}function vt(){return!pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nt(){return"object"==typeof indexedDB}function Ae(){return new Promise((Q,de)=>{try{let ve=!0;const J="validate-browser-context-for-indexeddb-analytics-module",Ce=self.indexedDB.open(J);Ce.onsuccess=()=>{Ce.result.close(),ve||self.indexedDB.deleteDatabase(J),Q(!0)},Ce.onupgradeneeded=()=>{ve=!1},Ce.onerror=()=>{var Ie;de((null===(Ie=Ce.error)||void 0===Ie?void 0:Ie.message)||"")}}catch(ve){de(ve)}})}function Ze(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Et extends Error{constructor(de,ve,J){super(ve),this.code=de,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,Et.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(de,ve,J){this.service=de,this.serviceName=ve,this.errors=J}create(de,...ve){const J=ve[0]||{},Ce=`${this.service}/${de}`,Ie=this.errors[de],Je=Ie?function En(Q,de){return Q.replace(sn,(ve,J)=>{const Ce=de[J];return null!=Ce?String(Ce):`<${J}?>`})}(Ie,J):"Error";return new Et(Ce,`${this.serviceName}: ${Je} (${Ce}).`,J)}}const sn=/\{\$([^}]+)}/g;function An(Q,de){return Object.prototype.hasOwnProperty.call(Q,de)}function Hn(Q){for(const de in Q)if(Object.prototype.hasOwnProperty.call(Q,de))return!1;return!0}function Gn(Q,de){if(Q===de)return!0;const ve=Object.keys(Q),J=Object.keys(de);for(const Ce of ve){if(!J.includes(Ce))return!1;const Ie=Q[Ce],Je=de[Ce];if(jn(Ie)&&jn(Je)){if(!Gn(Ie,Je))return!1}else if(Ie!==Je)return!1}for(const Ce of J)if(!ve.includes(Ce))return!1;return!0}function jn(Q){return null!==Q&&"object"==typeof Q}function Wn(Q){const de=[];for(const[ve,J]of Object.entries(Q))Array.isArray(J)?J.forEach(Ce=>{de.push(encodeURIComponent(ve)+"="+encodeURIComponent(Ce))}):de.push(encodeURIComponent(ve)+"="+encodeURIComponent(J));return de.length?"&"+de.join("&"):""}function ii(Q){const de={};return Q.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[Ce,Ie]=J.split("=");de[decodeURIComponent(Ce)]=decodeURIComponent(Ie)}}),de}function zt(Q){const de=Q.indexOf("?");if(!de)return"";const ve=Q.indexOf("#",de);return Q.substring(de,ve>0?ve:void 0)}function ei(Q,de){const ve=new en(Q,de);return ve.subscribe.bind(ve)}class en{constructor(de,ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(()=>{de(this)}).catch(J=>{this.error(J)})}next(de){this.forEachObserver(ve=>{ve.next(de)})}error(de){this.forEachObserver(ve=>{ve.error(de)}),this.close(de)}complete(){this.forEachObserver(de=>{de.complete()}),this.close()}subscribe(de,ve,J){let Ce;if(void 0===de&&void 0===ve&&void 0===J)throw new Error("Missing Observer.");Ce=function ti(Q,de){if("object"!=typeof Q||null===Q)return!1;for(const ve of de)if(ve in Q&&"function"==typeof Q[ve])return!0;return!1}(de,["next","error","complete"])?de:{next:de,error:ve,complete:J},void 0===Ce.next&&(Ce.next=fi),void 0===Ce.error&&(Ce.error=fi),void 0===Ce.complete&&(Ce.complete=fi);const Ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ce.error(this.finalError):Ce.complete()}catch{}}),this.observers.push(Ce),Ie}unsubscribeOne(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(de){if(!this.finalized)for(let ve=0;ve<this.observers.length;ve++)this.sendOne(ve,de)}sendOne(de,ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[de])try{ve(this.observers[de])}catch(J){typeof console<"u"&&console.error&&console.error(J)}})}close(de){this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fi(){}function It(Q,de=1e3,ve=2){const J=de*Math.pow(ve,Q),Ce=Math.round(.5*J*(Math.random()-.5)*2);return Math.min(144e5,J+Ce)}function se(Q){return Q&&Q._delegate?Q._delegate:Q}},5619:(rn,et,T)=>{T.d(et,{r:()=>q});var d=T(127),B=(T(8937),T(2731),T(8458)),_e=T(4650),Oe=T(7799),Fe=T(1205),he=T(5004),Re={apiKey:"AIzaSyAIrk7d9ItwDfdfHpKQa8ws5AmU1qfOu7Y",authDomain:"basheer-fa573.firebaseapp.com",projectId:"basheer-fa573",storageBucket:"basheer-fa573.appspot.com",messagingSenderId:"972779189740",appId:"1:972779189740:web:f681146633f9f1bea4bcc9"};let q=(()=>{class ue{constructor(tt,dt,Ye,Ft){this.router=tt,this.afAuth=dt,this.ngZone=Ye,this.dialog=Ft,this.verify=JSON.parse(localStorage.getItem("verificationId")||"{}"),this.isLoggedIn=!1,this.showLoginValue=!1,this.userData=JSON.parse(localStorage.getItem("user_data")||"null"),null!=this.userData&&(this.isLoggedIn=!0),d.Z.initializeApp(Re)}canActivate(tt,dt){return!!this.isLoggedIn||(this.dialog.open(B.G,{panelClass:["slide-animation"]}),!1)}getIsLoggedIn(){return this.isLoggedIn}setLogIn(tt){this.isLoggedIn=tt}setShowLogin(tt){this.showLoginValue=tt}getOTP(tt,dt){this.phoneNumber=tt,this.reCapthaVerifier=new d.Z.auth.RecaptchaVerifier(dt,{size:"invisble"}),d.Z.auth().signInWithPhoneNumber(this.phoneNumber,this.reCapthaVerifier).then(Ye=>{localStorage.setItem("verificationId",JSON.stringify(Ye.verificationId)),this.verify=Ye.verificationId}).catch(Ye=>{alert(Ye.message),setTimeout(()=>{window.location.reload()},5e3)})}login(tt){this.otp=tt;var dt=d.Z.auth.PhoneAuthProvider.credential(this.verify,this.otp);d.Z.auth().signInWithCredential(dt).then(Ye=>{localStorage.setItem("user_data",JSON.stringify(Ye)),this.userData=localStorage.getItem("user_data")||"",this.isLoggedIn=!0,this.dialog.closeAll(),this.router.navigate(["details"])}).catch(Ye=>{alert(Ye.message)})}logout(){return this.afAuth.signOut().then(()=>{this.ngZone.run(()=>{localStorage.setItem("verificationId",JSON.stringify(null)),localStorage.setItem("user_data",JSON.stringify(null)),this.isLoggedIn=!1,this.router.navigate([""])})})}}return ue.\u0275fac=function(tt){return new(tt||ue)(_e.LFG(Oe.F0),_e.LFG(Fe.zQ),_e.LFG(_e.R0b),_e.LFG(he.uw))},ue.\u0275prov=_e.Yz7({token:ue,factory:ue.\u0275fac}),ue})()},8458:(rn,et,T)=>{T.d(et,{G:()=>pt});var d=T(127),B=(T(8937),T(2731),T(4650)),_e=T(5619),Oe=T(6895),Fe=T(4006),he=T(1576),Re=T(5829);function q(ze,_t){if(1&ze){const yt=B.EpF();B.TgZ(0,"input",14),B.NdJ("ngModelChange",function(Ue){B.CHM(yt);const Xe=B.oxw();return B.KtG(Xe.otp=Ue)}),B.qZA()}if(2&ze){const yt=B.oxw();B.Q6J("ngModel",yt.otp)}}function ue(ze,_t){if(1&ze){const yt=B.EpF();B.TgZ(0,"button",15),B.NdJ("click",function(){B.CHM(yt);const Ue=B.oxw();return B.KtG(Ue.getOTP("RecaptchaDiv"))}),B._uU(1,"Get OTP"),B.qZA()}}function ye(ze,_t){if(1&ze){const yt=B.EpF();B.TgZ(0,"button",15),B.NdJ("click",function(){B.CHM(yt);const Ue=B.oxw();return B.KtG(Ue.logIn())}),B._uU(1,"Log in"),B.qZA()}}function tt(ze,_t){if(1&ze){const yt=B.EpF();B.TgZ(0,"input",14),B.NdJ("ngModelChange",function(Ue){B.CHM(yt);const Xe=B.oxw();return B.KtG(Xe.otp=Ue)}),B.qZA()}if(2&ze){const yt=B.oxw();B.Q6J("ngModel",yt.otp)}}function dt(ze,_t){if(1&ze){const yt=B.EpF();B.TgZ(0,"button",15),B.NdJ("click",function(){B.CHM(yt);const Ue=B.oxw();return B.KtG(Ue.getOTP("RecaptchaDivMob"))}),B._uU(1,"Get OTP"),B.qZA()}}function Ye(ze,_t){if(1&ze){const yt=B.EpF();B.TgZ(0,"button",15),B.NdJ("click",function(){B.CHM(yt);const Ue=B.oxw();return B.KtG(Ue.logIn())}),B._uU(1,"Log in"),B.qZA()}}var Ft={apiKey:"AIzaSyAIrk7d9ItwDfdfHpKQa8ws5AmU1qfOu7Y",authDomain:"basheer-fa573.firebaseapp.com",projectId:"basheer-fa573",storageBucket:"basheer-fa573.appspot.com",messagingSenderId:"972779189740",appId:"1:972779189740:web:f681146633f9f1bea4bcc9"};let pt=(()=>{class ze{constructor(yt){this.loginService=yt,this.isOTPVisible=!1,this.loggedin=!1,this.userData=""}ngOnInit(){this.verify=JSON.parse(localStorage.getItem("verificationId")||"{}"),(null!=this.verify||""!=this.verify)&&(this.loggedin=!0),d.Z.initializeApp(Ft)}getOTP(yt){this.phoneNumber.length>9&&this.phoneNumber.length<16&&(this.isOTPVisible=!0,this.loginService.getOTP(this.phoneNumber,yt))}logIn(){this.loginService.login(this.otp)}}return ze.\u0275fac=function(yt){return new(yt||ze)(B.Y36(_e.r))},ze.\u0275cmp=B.Xpm({type:ze,selectors:[["app-login"]],decls:33,vars:8,consts:[[1,"login-container"],["id","container","fxShow","true","fxHide.lt-md","true",1,"container"],[1,"overlay-container"],[1,"overlay"],[1,"overlay-panel","overlay-right"],[1,"form-container","sign-in-container"],["action","#",1,"login-form"],["type","text","placeholder","Enter Phone Number","name","input1","min","10","max","15",3,"ngModel","ngModelChange"],["type","text","name","input2","placeholder","One time password(OTP)",3,"ngModel","ngModelChange",4,"ngIf"],["type","submit",3,"click",4,"ngIf"],["id","RecaptchaDiv"],["fxLayout","column","fxLayoutAlign","space-around center","fxShow","true","fxHide.gt-sm","true",1,"mobile-form-container","sign-in-container"],["action","#"],["id","RecaptchaDivMob"],["type","text","name","input2","placeholder","One time password(OTP)",3,"ngModel","ngModelChange"],["type","submit",3,"click"]],template:function(yt,ot){1&yt&&(B.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1"),B._uU(6,"Welcome to Shopping Cart"),B.qZA(),B.TgZ(7,"p"),B._uU(8,"Enter your phone number and start journey with us"),B.qZA()()()(),B.TgZ(9,"div",5)(10,"form",6)(11,"h1"),B._uU(12,"Login"),B.qZA(),B.TgZ(13,"span"),B._uU(14,"Please enter your Phone number"),B.qZA(),B.TgZ(15,"input",7),B.NdJ("ngModelChange",function(Xe){return ot.phoneNumber=Xe}),B.qZA(),B.YNc(16,q,1,1,"input",8),B.YNc(17,ue,2,0,"button",9),B.YNc(18,ye,2,0,"button",9),B._UZ(19,"div",10),B.qZA()()(),B.TgZ(20,"div",11)(21,"form",12)(22,"h1"),B._uU(23,"Welcome to Shopping Cart"),B.qZA(),B.TgZ(24,"h1"),B._uU(25,"Login"),B.qZA(),B.TgZ(26,"span"),B._uU(27,"Please enter your Phone number"),B.qZA(),B.TgZ(28,"input",7),B.NdJ("ngModelChange",function(Xe){return ot.phoneNumber=Xe}),B.qZA(),B.YNc(29,tt,1,1,"input",8),B.YNc(30,dt,2,0,"button",9),B.YNc(31,Ye,2,0,"button",9),B._UZ(32,"div",13),B.qZA()()()),2&yt&&(B.xp6(15),B.Q6J("ngModel",ot.phoneNumber),B.xp6(1),B.Q6J("ngIf",ot.isOTPVisible),B.xp6(1),B.Q6J("ngIf",!ot.isOTPVisible),B.xp6(1),B.Q6J("ngIf",ot.isOTPVisible),B.xp6(10),B.Q6J("ngModel",ot.phoneNumber),B.xp6(1),B.Q6J("ngIf",ot.isOTPVisible),B.xp6(1),B.Q6J("ngIf",!ot.isOTPVisible),B.xp6(1),B.Q6J("ngIf",ot.isOTPVisible))},dependencies:[Oe.O5,Fe._Y,Fe.Fj,Fe.JJ,Fe.JL,Fe.On,Fe.F,he.xw,he.Wh,Re.b8],styles:["button[_ngcontent-%COMP%]{border-radius:20px;border:1px solid #004e92;background-color:#004e92;color:#fff;font-size:12px;font-weight:700;padding:12px 45px;letter-spacing:1px;margin-top:10px;text-transform:uppercase;transition:transform 80ms ease-in}button[_ngcontent-%COMP%]:active{transform:scale(.95)}button[_ngcontent-%COMP%]:focus{outline:none}.login-form[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(3.4px);backdrop-filter:blur(3.4px);padding:2rem;box-shadow:0 2px 10px #0000001a,0 10px 15px #0003;box-sizing:border-box;background-image:linear-gradient(45deg,rgba(255,255,255,.85),rgba(255,255,255,.85));width:100%;min-height:360px;mix-blend-mode:hard-light;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 50px;height:100%;text-align:center;border-radius:0 10px 10px 0}input[_ngcontent-%COMP%]{background-color:#eee;border:none;padding:12px 15px;margin:8px 0;width:80%}.container[_ngcontent-%COMP%]{background:rgba(255,255,255,.13);box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(6.7px);-webkit-backdrop-filter:blur(6.7px);border-radius:10px;overflow:hidden;width:768px;max-width:100%;min-height:480px;z-index:100}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in-container[_ngcontent-%COMP%]{left:50%;width:50%;z-index:2}.overlay-container[_ngcontent-%COMP%]{position:absolute;top:0;width:50%;height:100%;overflow:hidden;transition:transform .6s ease-in-out;z-index:100}.overlay[_ngcontent-%COMP%]{background:rgba(0,22,133,.4);box-shadow:0 8px 32px #1f26875e;backdrop-filter:blur(17px);-webkit-backdrop-filter:blur(17px);mix-blend-mode:multiply;background-repeat:no-repeat;background-size:cover;background-position:0 0;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-panel[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;text-align:center;top:0;height:100%;width:50%;transform:translate(0);transition:transform .6s ease-in-out}.overlay-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.right-panel-active[_ngcontent-%COMP%]   .overlay-right[_ngcontent-%COMP%]{transform:translate(20%)}.social-container[_ngcontent-%COMP%]{margin:20px 0}.social-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #DDDDDD;border-radius:50%;display:inline-flex;justify-content:center;align-items:center;margin:0 5px;height:40px;width:40px}.login-container[_ngcontent-%COMP%]{align-items:center}.mobile-form-container[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;text-align:center;min-height:360px;width:100%}"]}),ze})()},2982:(rn,et,T)=>{var d=T(1481),f=T(4650),P=T(3238),B=T(1281),_e=T(6895),Oe=T(9646),Fe=T(2843),he=T(4128),Re=T(727),q=T(8505),ue=T(4004),ye=T(262),tt=T(8746),dt=T(3099),Ye=T(5698),Ft=T(4351),pt=T(9300);class ze{}class yt{constructor(u){this.normalizedNames=new Map,this.lazyUpdate=null,u?this.lazyInit="string"==typeof u?()=>{this.headers=new Map,u.split("\n").forEach(a=>{const p=a.indexOf(":");if(p>0){const x=a.slice(0,p),U=x.toLowerCase(),me=a.slice(p+1).trim();this.maybeSetNormalizedName(x,U),this.headers.has(U)?this.headers.get(U).push(me):this.headers.set(U,[me])}})}:()=>{this.headers=new Map,Object.keys(u).forEach(a=>{let p=u[a];const x=a.toLowerCase();"string"==typeof p&&(p=[p]),p.length>0&&(this.headers.set(x,p),this.maybeSetNormalizedName(a,x))})}:this.headers=new Map}has(u){return this.init(),this.headers.has(u.toLowerCase())}get(u){this.init();const a=this.headers.get(u.toLowerCase());return a&&a.length>0?a[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(u){return this.init(),this.headers.get(u.toLowerCase())||null}append(u,a){return this.clone({name:u,value:a,op:"a"})}set(u,a){return this.clone({name:u,value:a,op:"s"})}delete(u,a){return this.clone({name:u,value:a,op:"d"})}maybeSetNormalizedName(u,a){this.normalizedNames.has(a)||this.normalizedNames.set(a,u)}init(){this.lazyInit&&(this.lazyInit instanceof yt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(u=>this.applyUpdate(u)),this.lazyUpdate=null))}copyFrom(u){u.init(),Array.from(u.headers.keys()).forEach(a=>{this.headers.set(a,u.headers.get(a)),this.normalizedNames.set(a,u.normalizedNames.get(a))})}clone(u){const a=new yt;return a.lazyInit=this.lazyInit&&this.lazyInit instanceof yt?this.lazyInit:this,a.lazyUpdate=(this.lazyUpdate||[]).concat([u]),a}applyUpdate(u){const a=u.name.toLowerCase();switch(u.op){case"a":case"s":let p=u.value;if("string"==typeof p&&(p=[p]),0===p.length)return;this.maybeSetNormalizedName(u.name,a);const x=("a"===u.op?this.headers.get(a):void 0)||[];x.push(...p),this.headers.set(a,x);break;case"d":const U=u.value;if(U){let me=this.headers.get(a);if(!me)return;me=me.filter(we=>-1===U.indexOf(we)),0===me.length?(this.headers.delete(a),this.normalizedNames.delete(a)):this.headers.set(a,me)}else this.headers.delete(a),this.normalizedNames.delete(a)}}forEach(u){this.init(),Array.from(this.normalizedNames.keys()).forEach(a=>u(this.normalizedNames.get(a),this.headers.get(a)))}}class Ue{encodeKey(u){return nt(u)}encodeValue(u){return nt(u)}decodeKey(u){return decodeURIComponent(u)}decodeValue(u){return decodeURIComponent(u)}}const mt=/%(\d[a-f0-9])/gi,vt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function nt(b){return encodeURIComponent(b).replace(mt,(u,a)=>vt[a]??u)}function Ae(b){return`${b}`}class Ze{constructor(u={}){if(this.updates=null,this.cloneFrom=null,this.encoder=u.encoder||new Ue,u.fromString){if(u.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Xe(b,u){const a=new Map;return b.length>0&&b.replace(/^\?/,"").split("&").forEach(x=>{const U=x.indexOf("="),[me,we]=-1==U?[u.decodeKey(x),""]:[u.decodeKey(x.slice(0,U)),u.decodeValue(x.slice(U+1))],We=a.get(me)||[];We.push(we),a.set(me,We)}),a}(u.fromString,this.encoder)}else u.fromObject?(this.map=new Map,Object.keys(u.fromObject).forEach(a=>{const p=u.fromObject[a],x=Array.isArray(p)?p.map(Ae):[Ae(p)];this.map.set(a,x)})):this.map=null}has(u){return this.init(),this.map.has(u)}get(u){this.init();const a=this.map.get(u);return a?a[0]:null}getAll(u){return this.init(),this.map.get(u)||null}keys(){return this.init(),Array.from(this.map.keys())}append(u,a){return this.clone({param:u,value:a,op:"a"})}appendAll(u){const a=[];return Object.keys(u).forEach(p=>{const x=u[p];Array.isArray(x)?x.forEach(U=>{a.push({param:p,value:U,op:"a"})}):a.push({param:p,value:x,op:"a"})}),this.clone(a)}set(u,a){return this.clone({param:u,value:a,op:"s"})}delete(u,a){return this.clone({param:u,value:a,op:"d"})}toString(){return this.init(),this.keys().map(u=>{const a=this.encoder.encodeKey(u);return this.map.get(u).map(p=>a+"="+this.encoder.encodeValue(p)).join("&")}).filter(u=>""!==u).join("&")}clone(u){const a=new Ze({encoder:this.encoder});return a.cloneFrom=this.cloneFrom||this,a.updates=(this.updates||[]).concat(u),a}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(u=>this.map.set(u,this.cloneFrom.map.get(u))),this.updates.forEach(u=>{switch(u.op){case"a":case"s":const a=("a"===u.op?this.map.get(u.param):void 0)||[];a.push(Ae(u.value)),this.map.set(u.param,a);break;case"d":if(void 0===u.value){this.map.delete(u.param);break}{let p=this.map.get(u.param)||[];const x=p.indexOf(Ae(u.value));-1!==x&&p.splice(x,1),p.length>0?this.map.set(u.param,p):this.map.delete(u.param)}}}),this.cloneFrom=this.updates=null)}}class Ct{constructor(){this.map=new Map}set(u,a){return this.map.set(u,a),this}get(u){return this.map.has(u)||this.map.set(u,u.defaultValue()),this.map.get(u)}delete(u){return this.map.delete(u),this}has(u){return this.map.has(u)}keys(){return this.map.keys()}}function Pt(b){return typeof ArrayBuffer<"u"&&b instanceof ArrayBuffer}function En(b){return typeof Blob<"u"&&b instanceof Blob}function sn(b){return typeof FormData<"u"&&b instanceof FormData}class Jt{constructor(u,a,p,x){let U;if(this.url=a,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=u.toUpperCase(),function Et(b){switch(b){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||x?(this.body=void 0!==p?p:null,U=x):U=p,U&&(this.reportProgress=!!U.reportProgress,this.withCredentials=!!U.withCredentials,U.responseType&&(this.responseType=U.responseType),U.headers&&(this.headers=U.headers),U.context&&(this.context=U.context),U.params&&(this.params=U.params)),this.headers||(this.headers=new yt),this.context||(this.context=new Ct),this.params){const me=this.params.toString();if(0===me.length)this.urlWithParams=a;else{const we=a.indexOf("?");this.urlWithParams=a+(-1===we?"?":we<a.length-1?"&":"")+me}}else this.params=new Ze,this.urlWithParams=a}serializeBody(){return null===this.body?null:Pt(this.body)||En(this.body)||sn(this.body)||function Rn(b){return typeof URLSearchParams<"u"&&b instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sn(this.body)?null:En(this.body)?this.body.type||null:Pt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(u={}){const a=u.method||this.method,p=u.url||this.url,x=u.responseType||this.responseType,U=void 0!==u.body?u.body:this.body,me=void 0!==u.withCredentials?u.withCredentials:this.withCredentials,we=void 0!==u.reportProgress?u.reportProgress:this.reportProgress;let We=u.headers||this.headers,Mt=u.params||this.params;const Wt=u.context??this.context;return void 0!==u.setHeaders&&(We=Object.keys(u.setHeaders).reduce((Dn,ai)=>Dn.set(ai,u.setHeaders[ai]),We)),u.setParams&&(Mt=Object.keys(u.setParams).reduce((Dn,ai)=>Dn.set(ai,u.setParams[ai]),Mt)),new Jt(a,p,U,{params:Mt,headers:We,context:Wt,reportProgress:we,responseType:x,withCredentials:me})}}var qe=(()=>((qe=qe||{})[qe.Sent=0]="Sent",qe[qe.UploadProgress=1]="UploadProgress",qe[qe.ResponseHeader=2]="ResponseHeader",qe[qe.DownloadProgress=3]="DownloadProgress",qe[qe.Response=4]="Response",qe[qe.User=5]="User",qe))();class jt extends class Yt{constructor(u,a=200,p="OK"){this.headers=u.headers||new yt,this.status=void 0!==u.status?u.status:a,this.statusText=u.statusText||p,this.url=u.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(u={}){super(u),this.type=qe.Response,this.body=void 0!==u.body?u.body:null}clone(u={}){return new jt({body:void 0!==u.body?u.body:this.body,headers:u.headers||this.headers,status:void 0!==u.status?u.status:this.status,statusText:u.statusText||this.statusText,url:u.url||this.url||void 0})}}function An(b,u){return{body:u,headers:b.headers,context:b.context,observe:b.observe,params:b.params,reportProgress:b.reportProgress,responseType:b.responseType,withCredentials:b.withCredentials}}let Nn=(()=>{class b{constructor(a){this.handler=a}request(a,p,x={}){let U;if(a instanceof Jt)U=a;else{let We,Mt;We=x.headers instanceof yt?x.headers:new yt(x.headers),x.params&&(Mt=x.params instanceof Ze?x.params:new Ze({fromObject:x.params})),U=new Jt(a,p,void 0!==x.body?x.body:null,{headers:We,context:x.context,params:Mt,reportProgress:x.reportProgress,responseType:x.responseType||"json",withCredentials:x.withCredentials})}const me=(0,Oe.of)(U).pipe((0,Ft.b)(We=>this.handler.handle(We)));if(a instanceof Jt||"events"===x.observe)return me;const we=me.pipe((0,pt.h)(We=>We instanceof jt));switch(x.observe||"body"){case"body":switch(U.responseType){case"arraybuffer":return we.pipe((0,ue.U)(We=>{if(null!==We.body&&!(We.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return We.body}));case"blob":return we.pipe((0,ue.U)(We=>{if(null!==We.body&&!(We.body instanceof Blob))throw new Error("Response is not a Blob.");return We.body}));case"text":return we.pipe((0,ue.U)(We=>{if(null!==We.body&&"string"!=typeof We.body)throw new Error("Response is not a string.");return We.body}));default:return we.pipe((0,ue.U)(We=>We.body))}case"response":return we;default:throw new Error(`Unreachable: unhandled observe type ${x.observe}}`)}}delete(a,p={}){return this.request("DELETE",a,p)}get(a,p={}){return this.request("GET",a,p)}head(a,p={}){return this.request("HEAD",a,p)}jsonp(a,p){return this.request("JSONP",a,{params:(new Ze).append(p,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(a,p={}){return this.request("OPTIONS",a,p)}patch(a,p,x={}){return this.request("PATCH",a,An(x,p))}post(a,p,x={}){return this.request("POST",a,An(x,p))}put(a,p,x={}){return this.request("PUT",a,An(x,p))}}return b.\u0275fac=function(a){return new(a||b)(f.LFG(ze))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const $=["*"];let ee;function Q(b){return function se(){if(void 0===ee&&(ee=null,typeof window<"u")){const b=window;void 0!==b.trustedTypes&&(ee=b.trustedTypes.createPolicy("angular#components",{createHTML:u=>u}))}return ee}()?.createHTML(b)||b}function de(b){return Error(`Unable to find icon with the name "${b}"`)}function J(b){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${b}".`)}function Ce(b){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${b}".`)}class Ie{constructor(u,a,p){this.url=u,this.svgText=a,this.options=p}}let Je=(()=>{class b{constructor(a,p,x,U){this._httpClient=a,this._sanitizer=p,this._errorHandler=U,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=x}addSvgIcon(a,p,x){return this.addSvgIconInNamespace("",a,p,x)}addSvgIconLiteral(a,p,x){return this.addSvgIconLiteralInNamespace("",a,p,x)}addSvgIconInNamespace(a,p,x,U){return this._addSvgIconConfig(a,p,new Ie(x,null,U))}addSvgIconResolver(a){return this._resolvers.push(a),this}addSvgIconLiteralInNamespace(a,p,x,U){const me=this._sanitizer.sanitize(f.q3G.HTML,x);if(!me)throw Ce(x);const we=Q(me);return this._addSvgIconConfig(a,p,new Ie("",we,U))}addSvgIconSet(a,p){return this.addSvgIconSetInNamespace("",a,p)}addSvgIconSetLiteral(a,p){return this.addSvgIconSetLiteralInNamespace("",a,p)}addSvgIconSetInNamespace(a,p,x){return this._addSvgIconSetConfig(a,new Ie(p,null,x))}addSvgIconSetLiteralInNamespace(a,p,x){const U=this._sanitizer.sanitize(f.q3G.HTML,p);if(!U)throw Ce(p);const me=Q(U);return this._addSvgIconSetConfig(a,new Ie("",me,x))}registerFontClassAlias(a,p=a){return this._fontCssClassesByAlias.set(a,p),this}classNameForFontAlias(a){return this._fontCssClassesByAlias.get(a)||a}setDefaultFontSetClass(...a){return this._defaultFontSetClass=a,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(a){const p=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,a);if(!p)throw J(a);const x=this._cachedIconsByUrl.get(p);return x?(0,Oe.of)(fn(x)):this._loadSvgIconFromConfig(new Ie(a,null)).pipe((0,q.b)(U=>this._cachedIconsByUrl.set(p,U)),(0,ue.U)(U=>fn(U)))}getNamedSvgIcon(a,p=""){const x=dn(p,a);let U=this._svgIconConfigs.get(x);if(U)return this._getSvgFromConfig(U);if(U=this._getIconConfigFromResolvers(p,a),U)return this._svgIconConfigs.set(x,U),this._getSvgFromConfig(U);const me=this._iconSetConfigs.get(p);return me?this._getSvgFromIconSetConfigs(a,me):(0,Fe._)(de(x))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(a){return a.svgText?(0,Oe.of)(fn(this._svgElementFromConfig(a))):this._loadSvgIconFromConfig(a).pipe((0,ue.U)(p=>fn(p)))}_getSvgFromIconSetConfigs(a,p){const x=this._extractIconWithNameFromAnySet(a,p);if(x)return(0,Oe.of)(x);const U=p.filter(me=>!me.svgText).map(me=>this._loadSvgIconSetFromConfig(me).pipe((0,ye.K)(we=>{const Mt=`Loading icon set URL: ${this._sanitizer.sanitize(f.q3G.RESOURCE_URL,me.url)} failed: ${we.message}`;return this._errorHandler.handleError(new Error(Mt)),(0,Oe.of)(null)})));return(0,he.D)(U).pipe((0,ue.U)(()=>{const me=this._extractIconWithNameFromAnySet(a,p);if(!me)throw de(a);return me}))}_extractIconWithNameFromAnySet(a,p){for(let x=p.length-1;x>=0;x--){const U=p[x];if(U.svgText&&U.svgText.toString().indexOf(a)>-1){const me=this._svgElementFromConfig(U),we=this._extractSvgIconFromSet(me,a,U.options);if(we)return we}}return null}_loadSvgIconFromConfig(a){return this._fetchIcon(a).pipe((0,q.b)(p=>a.svgText=p),(0,ue.U)(()=>this._svgElementFromConfig(a)))}_loadSvgIconSetFromConfig(a){return a.svgText?(0,Oe.of)(null):this._fetchIcon(a).pipe((0,q.b)(p=>a.svgText=p))}_extractSvgIconFromSet(a,p,x){const U=a.querySelector(`[id="${p}"]`);if(!U)return null;const me=U.cloneNode(!0);if(me.removeAttribute("id"),"svg"===me.nodeName.toLowerCase())return this._setSvgAttributes(me,x);if("symbol"===me.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(me),x);const we=this._svgElementFromString(Q("<svg></svg>"));return we.appendChild(me),this._setSvgAttributes(we,x)}_svgElementFromString(a){const p=this._document.createElement("DIV");p.innerHTML=a;const x=p.querySelector("svg");if(!x)throw Error("<svg> tag not found");return x}_toSvgElement(a){const p=this._svgElementFromString(Q("<svg></svg>")),x=a.attributes;for(let U=0;U<x.length;U++){const{name:me,value:we}=x[U];"id"!==me&&p.setAttribute(me,we)}for(let U=0;U<a.childNodes.length;U++)a.childNodes[U].nodeType===this._document.ELEMENT_NODE&&p.appendChild(a.childNodes[U].cloneNode(!0));return p}_setSvgAttributes(a,p){return a.setAttribute("fit",""),a.setAttribute("height","100%"),a.setAttribute("width","100%"),a.setAttribute("preserveAspectRatio","xMidYMid meet"),a.setAttribute("focusable","false"),p&&p.viewBox&&a.setAttribute("viewBox",p.viewBox),a}_fetchIcon(a){const{url:p,options:x}=a,U=x?.withCredentials??!1;if(!this._httpClient)throw function ve(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==p)throw Error(`Cannot fetch icon from URL "${p}".`);const me=this._sanitizer.sanitize(f.q3G.RESOURCE_URL,p);if(!me)throw J(p);const we=this._inProgressUrlFetches.get(me);if(we)return we;const We=this._httpClient.get(me,{responseType:"text",withCredentials:U}).pipe((0,ue.U)(Mt=>Q(Mt)),(0,tt.x)(()=>this._inProgressUrlFetches.delete(me)),(0,dt.B)());return this._inProgressUrlFetches.set(me,We),We}_addSvgIconConfig(a,p,x){return this._svgIconConfigs.set(dn(a,p),x),this}_addSvgIconSetConfig(a,p){const x=this._iconSetConfigs.get(a);return x?x.push(p):this._iconSetConfigs.set(a,[p]),this}_svgElementFromConfig(a){if(!a.svgElement){const p=this._svgElementFromString(a.svgText);this._setSvgAttributes(p,a.options),a.svgElement=p}return a.svgElement}_getIconConfigFromResolvers(a,p){for(let x=0;x<this._resolvers.length;x++){const U=this._resolvers[x](p,a);if(U)return at(U)?new Ie(U.url,null,U.options):new Ie(U,null)}}}return b.\u0275fac=function(a){return new(a||b)(f.LFG(Nn,8),f.LFG(d.H7),f.LFG(_e.K0,8),f.LFG(f.qLn))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function fn(b){return b.cloneNode(!0)}function dn(b,u){return b+":"+u}function at(b){return!(!b.url||!b.options)}const ke=(0,P.pj)(class{constructor(b){this._elementRef=b}}),He=new f.OlP("MAT_ICON_DEFAULT_OPTIONS"),Tt=new f.OlP("mat-icon-location",{providedIn:"root",factory:function Ge(){const b=(0,f.f3M)(_e.K0),u=b?b.location:null;return{getPathname:()=>u?u.pathname+u.search:""}}}),Le=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],be=Le.map(b=>`[${b}]`).join(", "),te=/^url\(['"]?#(.*?)['"]?\)$/;let oe=(()=>{class b extends ke{constructor(a,p,x,U,me,we){super(a),this._iconRegistry=p,this._location=U,this._errorHandler=me,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Re.w0.EMPTY,we&&(we.color&&(this.color=this.defaultColor=we.color),we.fontSet&&(this.fontSet=we.fontSet)),x||a.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(a){this._inline=(0,B.Ig)(a)}get svgIcon(){return this._svgIcon}set svgIcon(a){a!==this._svgIcon&&(a?this._updateSvgIcon(a):this._svgIcon&&this._clearSvgElement(),this._svgIcon=a)}get fontSet(){return this._fontSet}set fontSet(a){const p=this._cleanupFontValue(a);p!==this._fontSet&&(this._fontSet=p,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(a){const p=this._cleanupFontValue(a);p!==this._fontIcon&&(this._fontIcon=p,this._updateFontIconClasses())}_splitIconName(a){if(!a)return["",""];const p=a.split(":");switch(p.length){case 1:return["",p[0]];case 2:return p;default:throw Error(`Invalid icon name: "${a}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const a=this._elementsWithExternalReferences;if(a&&a.size){const p=this._location.getPathname();p!==this._previousPath&&(this._previousPath=p,this._prependPathToReferences(p))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(a){this._clearSvgElement();const p=this._location.getPathname();this._previousPath=p,this._cacheChildrenWithExternalReferences(a),this._prependPathToReferences(p),this._elementRef.nativeElement.appendChild(a)}_clearSvgElement(){const a=this._elementRef.nativeElement;let p=a.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();p--;){const x=a.childNodes[p];(1!==x.nodeType||"svg"===x.nodeName.toLowerCase())&&x.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const a=this._elementRef.nativeElement,p=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(x=>x.length>0);this._previousFontSetClass.forEach(x=>a.classList.remove(x)),p.forEach(x=>a.classList.add(x)),this._previousFontSetClass=p,this.fontIcon!==this._previousFontIconClass&&!p.includes("mat-ligature-font")&&(this._previousFontIconClass&&a.classList.remove(this._previousFontIconClass),this.fontIcon&&a.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(a){return"string"==typeof a?a.trim().split(" ")[0]:a}_prependPathToReferences(a){const p=this._elementsWithExternalReferences;p&&p.forEach((x,U)=>{x.forEach(me=>{U.setAttribute(me.name,`url('${a}#${me.value}')`)})})}_cacheChildrenWithExternalReferences(a){const p=a.querySelectorAll(be),x=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let U=0;U<p.length;U++)Le.forEach(me=>{const we=p[U],We=we.getAttribute(me),Mt=We?We.match(te):null;if(Mt){let Wt=x.get(we);Wt||(Wt=[],x.set(we,Wt)),Wt.push({name:me,value:Mt[1]})}})}_updateSvgIcon(a){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),a){const[p,x]=this._splitIconName(a);p&&(this._svgNamespace=p),x&&(this._svgName=x),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(x,p).pipe((0,Ye.q)(1)).subscribe(U=>this._setSvgElement(U),U=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${p}:${x}! ${U.message}`))})}}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(f.SBq),f.Y36(Je),f.$8M("aria-hidden"),f.Y36(Tt),f.Y36(f.qLn),f.Y36(He,8))},b.\u0275cmp=f.Xpm({type:b,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(a,p){2&a&&(f.uIk("data-mat-icon-type",p._usingFontIcon()?"font":"svg")("data-mat-icon-name",p._svgName||p.fontIcon)("data-mat-icon-namespace",p._svgNamespace||p.fontSet),f.ekj("mat-icon-inline",p.inline)("mat-icon-no-color","primary"!==p.color&&"accent"!==p.color&&"warn"!==p.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[f.qOj],ngContentSelectors:$,decls:1,vars:0,template:function(a,p){1&a&&(f.F$t(),f.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),b})(),ae=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[P.BQ,P.BQ]}),b})();var Be=T(7579),lt=T(2722),hn=T(8675),Sn=T(2693);let Se=(()=>{class b{constructor(){this._listeners=[]}notify(a,p){for(let x of this._listeners)x(a,p)}listen(a){return this._listeners.push(a),()=>{this._listeners=this._listeners.filter(p=>a!==p)}}ngOnDestroy(){this._listeners=[]}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var Kt=T(9521),pn=T(4006);let Jn=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[P.BQ,P.BQ]}),b})(),ht=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[P.uc,P.si,P.BQ,P.us,_e.ez,P.uc,P.BQ,P.us,Jn]}),b})(),Fi=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[P.BQ,P.BQ]}),b})();var Xi=T(8605),ar=T(3353),Zr=T(4968),Os=T(9718),jr=T(1884),Qn=T(7340);const ks=["*"],Js=["content"],Li={transformDrawer:(0,Qn.X$)("transform",[(0,Qn.SB)("open, open-instant",(0,Qn.oB)({transform:"none",visibility:"visible"})),(0,Qn.SB)("void",(0,Qn.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Qn.eR)("void => open-instant",(0,Qn.jt)("0ms")),(0,Qn.eR)("void <=> open, open-instant => void",(0,Qn.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Ds=new f.OlP("MAT_DRAWER_CONTAINER");let Ao=(()=>{class b{constructor(a,p,x,U,me,we,We,Mt){this._elementRef=a,this._focusTrapFactory=p,this._focusMonitor=x,this._platform=U,this._ngZone=me,this._interactivityChecker=we,this._doc=We,this._container=Mt,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Be.x,this._animationEnd=new Be.x,this._animationState="void",this.openedChange=new f.vpe(!0),this._openedStream=this.openedChange.pipe((0,pt.h)(Wt=>Wt),(0,ue.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,pt.h)(Wt=>Wt.fromState!==Wt.toState&&0===Wt.toState.indexOf("open")),(0,Os.h)(void 0)),this._closedStream=this.openedChange.pipe((0,pt.h)(Wt=>!Wt),(0,ue.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,pt.h)(Wt=>Wt.fromState!==Wt.toState&&"void"===Wt.toState),(0,Os.h)(void 0)),this._destroyed=new Be.x,this.onPositionChanged=new f.vpe,this._modeChanged=new Be.x,this.openedChange.subscribe(Wt=>{Wt?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Zr.R)(this._elementRef.nativeElement,"keydown").pipe((0,pt.h)(Wt=>Wt.keyCode===Kt.hY&&!this.disableClose&&!(0,Kt.Vb)(Wt)),(0,lt.R)(this._destroyed)).subscribe(Wt=>this._ngZone.run(()=>{this.close(),Wt.stopPropagation(),Wt.preventDefault()}))}),this._animationEnd.pipe((0,jr.x)((Wt,Dn)=>Wt.fromState===Dn.fromState&&Wt.toState===Dn.toState)).subscribe(Wt=>{const{fromState:Dn,toState:ai}=Wt;(0===ai.indexOf("open")&&"void"===Dn||"void"===ai&&0===Dn.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(a){(a="end"===a?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(a),this._position=a,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(a){this._mode=a,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(a){this._disableClose=(0,B.Ig)(a)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(a){("true"===a||"false"===a||null==a)&&(a=(0,B.Ig)(a)),this._autoFocus=a}get opened(){return this._opened}set opened(a){this.toggle((0,B.Ig)(a))}_forceFocus(a,p){this._interactivityChecker.isFocusable(a)||(a.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const x=()=>{a.removeEventListener("blur",x),a.removeEventListener("mousedown",x),a.removeAttribute("tabindex")};a.addEventListener("blur",x),a.addEventListener("mousedown",x)})),a.focus(p)}_focusByCssSelector(a,p){let x=this._elementRef.nativeElement.querySelector(a);x&&this._forceFocus(x,p)}_takeFocus(){if(!this._focusTrap)return;const a=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(p=>{!p&&"function"==typeof this._elementRef.nativeElement.focus&&a.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(a){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,a):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const a=this._doc.activeElement;return!!a&&this._elementRef.nativeElement.contains(a)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(a){return this.toggle(!0,a)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(a=!this.opened,p){a&&p&&(this._openedVia=p);const x=this._setOpen(a,!a&&this._isFocusWithinDrawer(),this._openedVia||"program");return a||(this._openedVia=null),x}_setOpen(a,p,x){return this._opened=a,a?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",p&&this._restoreFocus(x)),this._updateFocusTrapState(),new Promise(U=>{this.openedChange.pipe((0,Ye.q)(1)).subscribe(me=>U(me?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(a){const p=this._elementRef.nativeElement,x=p.parentNode;"end"===a?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),x.insertBefore(this._anchor,p)),x.appendChild(p)):this._anchor&&this._anchor.parentNode.insertBefore(p,this._anchor)}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(f.SBq),f.Y36(Sn.qV),f.Y36(Sn.tE),f.Y36(ar.t4),f.Y36(f.R0b),f.Y36(Sn.ic),f.Y36(_e.K0,8),f.Y36(Ds,8))},b.\u0275cmp=f.Xpm({type:b,selectors:[["mat-drawer"]],viewQuery:function(a,p){if(1&a&&f.Gf(Js,5),2&a){let x;f.iGM(x=f.CRH())&&(p._content=x.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(a,p){1&a&&f.WFA("@transform.start",function(U){return p._animationStarted.next(U)})("@transform.done",function(U){return p._animationEnd.next(U)}),2&a&&(f.uIk("align",null),f.d8E("@transform",p._animationState),f.ekj("mat-drawer-end","end"===p.position)("mat-drawer-over","over"===p.mode)("mat-drawer-push","push"===p.mode)("mat-drawer-side","side"===p.mode)("mat-drawer-opened",p.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ks,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(a,p){1&a&&(f.F$t(),f.TgZ(0,"div",0,1),f.Hsn(2),f.qZA())},dependencies:[Xi.PQ],encapsulation:2,data:{animation:[Li.transformDrawer]},changeDetection:0}),b})(),Ba=(()=>{class b extends Ao{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(a){this._fixedInViewport=(0,B.Ig)(a)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(a){this._fixedTopGap=(0,B.su)(a)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(a){this._fixedBottomGap=(0,B.su)(a)}}return b.\u0275fac=function(){let u;return function(p){return(u||(u=f.n5z(b)))(p||b)}}(),b.\u0275cmp=f.Xpm({type:b,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(a,p){2&a&&(f.uIk("align",null),f.Udp("top",p.fixedInViewport?p.fixedTopGap:null,"px")("bottom",p.fixedInViewport?p.fixedBottomGap:null,"px"),f.ekj("mat-drawer-end","end"===p.position)("mat-drawer-over","over"===p.mode)("mat-drawer-push","push"===p.mode)("mat-drawer-side","side"===p.mode)("mat-drawer-opened",p.opened)("mat-sidenav-fixed",p.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[f.qOj],ngContentSelectors:ks,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(a,p){1&a&&(f.F$t(),f.TgZ(0,"div",0,1),f.Hsn(2),f.qZA())},dependencies:[Xi.PQ],encapsulation:2,data:{animation:[Li.transformDrawer]},changeDetection:0}),b})(),Lr=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[_e.ez,P.BQ,Xi.ZD,Xi.ZD,P.BQ]}),b})();const Ar=["mat-button",""],Is=["*"],Ni=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Nr=(0,P.pj)((0,P.Id)((0,P.Kr)(class{constructor(b){this._elementRef=b}})));let Gr=(()=>{class b extends Nr{constructor(a,p,x){super(a),this._focusMonitor=p,this._animationMode=x,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const U of Ni)this._hasHostAttributes(U)&&this._getHostElement().classList.add(U);a.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(a,p){a?this._focusMonitor.focusVia(this._getHostElement(),a,p):this._getHostElement().focus(p)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...a){return a.some(p=>this._getHostElement().hasAttribute(p))}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(f.SBq),f.Y36(Sn.tE),f.Y36(f.QbO,8))},b.\u0275cmp=f.Xpm({type:b,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(a,p){if(1&a&&f.Gf(P.wG,5),2&a){let x;f.iGM(x=f.CRH())&&(p.ripple=x.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(a,p){2&a&&(f.uIk("disabled",p.disabled||null),f.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)("mat-button-disabled",p.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[f.qOj],attrs:Ar,ngContentSelectors:Is,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(a,p){1&a&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1)(3,"span",2)),2&a&&(f.xp6(2),f.ekj("mat-button-ripple-round",p.isRoundButton||p.isIconButton),f.Q6J("matRippleDisabled",p._isRippleDisabled())("matRippleCentered",p.isIconButton)("matRippleTrigger",p._getHostElement()))},dependencies:[P.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),b})(),Rr=(()=>{class b extends Gr{constructor(a,p,x,U){super(p,a,x),this._ngZone=U,this._haltDisabledEvents=me=>{this.disabled&&(me.preventDefault(),me.stopImmediatePropagation())}}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone?this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}):this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(Sn.tE),f.Y36(f.SBq),f.Y36(f.QbO,8),f.Y36(f.R0b,8))},b.\u0275cmp=f.Xpm({type:b,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(a,p){2&a&&(f.uIk("tabindex",p.disabled?-1:p.tabIndex)("disabled",p.disabled||null)("aria-disabled",p.disabled.toString()),f.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)("mat-button-disabled",p.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[f.qOj],attrs:Ar,ngContentSelectors:Is,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(a,p){1&a&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1)(3,"span",2)),2&a&&(f.xp6(2),f.ekj("mat-button-ripple-round",p.isRoundButton||p.isIconButton),f.Q6J("matRippleDisabled",p._isRippleDisabled())("matRippleCentered",p.isIconButton)("matRippleTrigger",p._getHostElement()))},dependencies:[P.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),b})(),ss=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[P.si,P.BQ,P.BQ]}),b})();var fo=T(9643),dr=T(4080),mi=T(3900),Fs=T(5684),ra=T(6451),po=T(515),sa=T(9751),Ls=T(5963),$r=T(445);const va=["*"],So=["tabListContainer"],vr=["tabList"],G=["tabListInner"],V=["nextPaginator"],L=["previousPaginator"],ps=["mat-tab-nav-bar",""],oa=new f.OlP("MatInkBarPositioner",{providedIn:"root",factory:function go(){return u=>({left:u?(u.offsetLeft||0)+"px":"0",width:u?(u.offsetWidth||0)+"px":"0"})}});let As=(()=>{class b{constructor(a,p,x,U){this._elementRef=a,this._ngZone=p,this._inkBarPositioner=x,this._animationMode=U}alignToElement(a){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe((0,Ye.q)(1)).subscribe(()=>{const p=this._inkBarPositioner(a),x=this._elementRef.nativeElement;x.style.left=p.left,x.style.width=p.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(oa),f.Y36(f.QbO,8))},b.\u0275dir=f.lG2({type:b,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(a,p){2&a&&f.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode)}}),b})();const X=(0,ar.i$)({passive:!0});let Rt=(()=>{class b{constructor(a,p,x,U,me,we,We){this._elementRef=a,this._changeDetectorRef=p,this._viewportRuler=x,this._dir=U,this._ngZone=me,this._platform=we,this._animationMode=We,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Be.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Be.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new f.vpe,this.indexFocused=new f.vpe,me.runOutsideAngular(()=>{(0,Zr.R)(a.nativeElement,"mouseleave").pipe((0,lt.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(a){this._disablePagination=(0,B.Ig)(a)}get selectedIndex(){return this._selectedIndex}set selectedIndex(a){a=(0,B.su)(a),this._selectedIndex!=a&&(this._selectedIndexChanged=!0,this._selectedIndex=a,this._keyManager&&this._keyManager.updateActiveItem(a))}ngAfterViewInit(){(0,Zr.R)(this._previousPaginator.nativeElement,"touchstart",X).pipe((0,lt.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,Zr.R)(this._nextPaginator.nativeElement,"touchstart",X).pipe((0,lt.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const a=this._dir?this._dir.change:(0,Oe.of)("ltr"),p=this._viewportRuler.change(150),x=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Sn.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe((0,Ye.q)(1)).subscribe(x),(0,ra.T)(a,p,this._items.changes,this._itemsResized()).pipe((0,lt.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),x()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,lt.R)(this._destroyed)).subscribe(U=>{this.indexFocused.emit(U),this._setTabFocus(U)})}_itemsResized(){return"function"!=typeof ResizeObserver?po.E:this._items.changes.pipe((0,hn.O)(this._items),(0,mi.w)(a=>new sa.y(p=>this._ngZone.runOutsideAngular(()=>{const x=new ResizeObserver(()=>{p.next()});return a.forEach(U=>{x.observe(U.elementRef.nativeElement)}),()=>{x.disconnect()}}))),(0,Fs.T)(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(a){if(!(0,Kt.Vb)(a))switch(a.keyCode){case Kt.K5:case Kt.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(a));break;default:this._keyManager.onKeydown(a)}}_onContentChanges(){const a=this._elementRef.nativeElement.textContent;a!==this._currentTextContent&&(this._currentTextContent=a||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(a){!this._isValidIndex(a)||this.focusIndex===a||!this._keyManager||this._keyManager.setActiveItem(a)}_isValidIndex(a){if(!this._items)return!0;const p=this._items?this._items.toArray()[a]:null;return!!p&&!p.disabled}_setTabFocus(a){if(this._showPaginationControls&&this._scrollToLabel(a),this._items&&this._items.length){this._items.toArray()[a].focus();const p=this._tabListContainer.nativeElement;p.scrollLeft="ltr"==this._getLayoutDirection()?0:p.scrollWidth-p.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const a=this.scrollDistance,p="ltr"===this._getLayoutDirection()?-a:a;this._tabList.nativeElement.style.transform=`translateX(${Math.round(p)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(a){this._scrollTo(a)}_scrollHeader(a){return this._scrollTo(this._scrollDistance+("before"==a?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(a){this._stopInterval(),this._scrollHeader(a)}_scrollToLabel(a){if(this.disablePagination)return;const p=this._items?this._items.toArray()[a]:null;if(!p)return;const x=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:U,offsetWidth:me}=p.elementRef.nativeElement;let we,We;"ltr"==this._getLayoutDirection()?(we=U,We=we+me):(We=this._tabListInner.nativeElement.offsetWidth-U,we=We-me);const Mt=this.scrollDistance,Wt=this.scrollDistance+x;we<Mt?this.scrollDistance-=Mt-we+60:We>Wt&&(this.scrollDistance+=We-Wt+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const a=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;a||(this.scrollDistance=0),a!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=a}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const a=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,p=a?a.elementRef.nativeElement:null;p?this._inkBar.alignToElement(p):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(a,p){p&&null!=p.button&&0!==p.button||(this._stopInterval(),(0,Ls.H)(650,100).pipe((0,lt.R)((0,ra.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:x,distance:U}=this._scrollHeader(a);(0===U||U>=x)&&this._stopInterval()}))}_scrollTo(a){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const p=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(p,a)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:p,distance:this._scrollDistance}}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Xi.rL),f.Y36($r.Is,8),f.Y36(f.R0b),f.Y36(ar.t4),f.Y36(f.QbO,8))},b.\u0275dir=f.lG2({type:b,inputs:{disablePagination:"disablePagination"}}),b})(),Gi=0,Ri=(()=>{class b extends Rt{constructor(a,p,x,U,me,we,We){super(a,U,me,p,x,we,We),this._disableRipple=!1,this.color="primary"}get backgroundColor(){return this._backgroundColor}set backgroundColor(a){const p=this._elementRef.nativeElement.classList;p.remove(`mat-background-${this.backgroundColor}`),a&&p.add(`mat-background-${a}`),this._backgroundColor=a}get disableRipple(){return this._disableRipple}set disableRipple(a){this._disableRipple=(0,B.Ig)(a)}_itemSelected(){}ngAfterContentInit(){this._items.changes.pipe((0,hn.O)(null),(0,lt.R)(this._destroyed)).subscribe(()=>{this.updateActiveLink()}),super.ngAfterContentInit()}updateActiveLink(){if(!this._items)return;const a=this._items.toArray();for(let p=0;p<a.length;p++)if(a[p].active)return this.selectedIndex=p,this._changeDetectorRef.markForCheck(),void(this.tabPanel&&(this.tabPanel._activeTabId=a[p].id));this.selectedIndex=-1,this._inkBar.hide()}_getRole(){return this.tabPanel?"tablist":this._elementRef.nativeElement.getAttribute("role")}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(f.SBq),f.Y36($r.Is,8),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(Xi.rL),f.Y36(ar.t4),f.Y36(f.QbO,8))},b.\u0275dir=f.lG2({type:b,inputs:{backgroundColor:"backgroundColor",disableRipple:"disableRipple",color:"color",tabPanel:"tabPanel"},features:[f.qOj]}),b})(),Ws=(()=>{class b extends Ri{constructor(a,p,x,U,me,we,We){super(a,p,x,U,me,we,We)}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(f.SBq),f.Y36($r.Is,8),f.Y36(f.R0b),f.Y36(f.sBO),f.Y36(Xi.rL),f.Y36(ar.t4),f.Y36(f.QbO,8))},b.\u0275cmp=f.Xpm({type:b,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(a,p,x){if(1&a&&f.Suo(x,Ks,5),2&a){let U;f.iGM(U=f.CRH())&&(p._items=U)}},viewQuery:function(a,p){if(1&a&&(f.Gf(As,7),f.Gf(So,7),f.Gf(vr,7),f.Gf(G,7),f.Gf(V,5),f.Gf(L,5)),2&a){let x;f.iGM(x=f.CRH())&&(p._inkBar=x.first),f.iGM(x=f.CRH())&&(p._tabListContainer=x.first),f.iGM(x=f.CRH())&&(p._tabList=x.first),f.iGM(x=f.CRH())&&(p._tabListInner=x.first),f.iGM(x=f.CRH())&&(p._nextPaginator=x.first),f.iGM(x=f.CRH())&&(p._previousPaginator=x.first)}},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:11,hostBindings:function(a,p){2&a&&(f.uIk("role",p._getRole()),f.ekj("mat-tab-header-pagination-controls-enabled",p._showPaginationControls)("mat-tab-header-rtl","rtl"==p._getLayoutDirection())("mat-primary","warn"!==p.color&&"accent"!==p.color)("mat-accent","accent"===p.color)("mat-warn","warn"===p.color))},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[f.qOj],attrs:ps,ngContentSelectors:va,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(a,p){1&a&&(f.F$t(),f.TgZ(0,"button",0,1),f.NdJ("click",function(){return p._handlePaginatorClick("before")})("mousedown",function(U){return p._handlePaginatorPress("before",U)})("touchend",function(){return p._stopInterval()}),f._UZ(2,"div",2),f.qZA(),f.TgZ(3,"div",3,4),f.NdJ("keydown",function(U){return p._handleKeydown(U)}),f.TgZ(5,"div",5,6),f.NdJ("cdkObserveContent",function(){return p._onContentChanges()}),f.TgZ(7,"div",7,8),f.Hsn(9),f.qZA(),f._UZ(10,"mat-ink-bar"),f.qZA()(),f.TgZ(11,"button",9,10),f.NdJ("mousedown",function(U){return p._handlePaginatorPress("after",U)})("click",function(){return p._handlePaginatorClick("after")})("touchend",function(){return p._stopInterval()}),f._UZ(13,"div",2),f.qZA()),2&a&&(f.ekj("mat-tab-header-pagination-disabled",p._disableScrollBefore),f.Q6J("matRippleDisabled",p._disableScrollBefore||p.disableRipple)("disabled",p._disableScrollBefore||null),f.xp6(5),f.ekj("_mat-animation-noopable","NoopAnimations"===p._animationMode),f.xp6(6),f.ekj("mat-tab-header-pagination-disabled",p._disableScrollAfter),f.Q6J("matRippleDisabled",p._disableScrollAfter||p.disableRipple)("disabled",p._disableScrollAfter||null))},dependencies:[P.wG,fo.wD,As],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}.mat-tab-link::before{margin:5px}@media(max-width: 599px){.mat-tab-link{min-width:72px}}"],encapsulation:2}),b})();const gs=(0,P.sb)((0,P.Kr)((0,P.Id)(class{})));let Xr=(()=>{class b extends gs{constructor(a,p,x,U,me,we){super(),this._tabNavBar=a,this.elementRef=p,this._focusMonitor=me,this._isActive=!1,this.id="mat-tab-link-"+Gi++,this.rippleConfig=x||{},this.tabIndex=parseInt(U)||0,"NoopAnimations"===we&&(this.rippleConfig.animation={enterDuration:0,exitDuration:0})}get active(){return this._isActive}set active(a){const p=(0,B.Ig)(a);p!==this._isActive&&(this._isActive=p,this._tabNavBar.updateActiveLink())}get rippleDisabled(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}focus(){this.elementRef.nativeElement.focus()}ngAfterViewInit(){this._focusMonitor.monitor(this.elementRef)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this.elementRef)}_handleFocus(){this._tabNavBar.focusIndex=this._tabNavBar._items.toArray().indexOf(this)}_handleKeydown(a){this._tabNavBar.tabPanel&&a.keyCode===Kt.L_&&this.elementRef.nativeElement.click()}_getAriaControls(){return this._tabNavBar.tabPanel?this._tabNavBar.tabPanel?.id:this.elementRef.nativeElement.getAttribute("aria-controls")}_getAriaSelected(){return this._tabNavBar.tabPanel?this.active?"true":"false":this.elementRef.nativeElement.getAttribute("aria-selected")}_getAriaCurrent(){return this.active&&!this._tabNavBar.tabPanel?"page":null}_getRole(){return this._tabNavBar.tabPanel?"tab":this.elementRef.nativeElement.getAttribute("role")}_getTabIndex(){return this._tabNavBar.tabPanel?this._isActive&&!this.disabled?0:-1:this.tabIndex}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(Ri),f.Y36(f.SBq),f.Y36(P.Y2,8),f.$8M("tabindex"),f.Y36(Sn.tE),f.Y36(f.QbO,8))},b.\u0275dir=f.lG2({type:b,inputs:{active:"active",id:"id"},features:[f.qOj]}),b})(),Ks=(()=>{class b extends Xr{constructor(a,p,x,U,me,we,We,Mt){super(a,p,me,we,We,Mt),this._tabLinkRipple=new P.IR(this,x,p,U),this._tabLinkRipple.setupTriggerEvents(p.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this._tabLinkRipple._removeTriggerEvents()}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(Ws),f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(ar.t4),f.Y36(P.Y2,8),f.$8M("tabindex"),f.Y36(Sn.tE),f.Y36(f.QbO,8))},b.\u0275dir=f.lG2({type:b,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:11,hostBindings:function(a,p){1&a&&f.NdJ("focus",function(){return p._handleFocus()})("keydown",function(U){return p._handleKeydown(U)}),2&a&&(f.uIk("aria-controls",p._getAriaControls())("aria-current",p._getAriaCurrent())("aria-disabled",p.disabled)("aria-selected",p._getAriaSelected())("id",p.id)("tabIndex",p._getTabIndex())("role",p._getRole()),f.ekj("mat-tab-disabled",p.disabled)("mat-tab-label-active",p.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[f.qOj]}),b})(),Bs=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[_e.ez,P.BQ,dr.eL,P.si,fo.Q8,Sn.rt,P.BQ]}),b})();var Va=T(7657);let ul=0;const fr=new f.OlP("CdkAccordion");let Ca=(()=>{class b{constructor(){this._stateChanges=new Be.x,this._openCloseAllActions=new Be.x,this.id="cdk-accordion-"+ul++,this._multi=!1}get multi(){return this._multi}set multi(a){this._multi=(0,B.Ig)(a)}openAll(){this._multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(a){this._stateChanges.next(a)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275dir=f.lG2({type:b,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[f._Bn([{provide:fr,useExisting:b}]),f.TTD]}),b})(),dl=0,pc=(()=>{class b{constructor(a,p,x){this.accordion=a,this._changeDetectorRef=p,this._expansionDispatcher=x,this._openCloseAllSubscription=Re.w0.EMPTY,this.closed=new f.vpe,this.opened=new f.vpe,this.destroyed=new f.vpe,this.expandedChange=new f.vpe,this.id="cdk-accordion-child-"+dl++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=x.listen((U,me)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===me&&this.id!==U&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(a){a=(0,B.Ig)(a),this._expanded!==a&&(this._expanded=a,this.expandedChange.emit(a),a?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(a){this._disabled=(0,B.Ig)(a)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(a=>{this.disabled||(this.expanded=a)})}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(fr,12),f.Y36(f.sBO),f.Y36(Se))},b.\u0275dir=f.lG2({type:b,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[f._Bn([{provide:fr,useValue:void 0}])]}),b})(),gc=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({}),b})();var Ir=T(5004);const Oo_firebase={apiKey:"AIzaSyAIrk7d9ItwDfdfHpKQa8ws5AmU1qfOu7Y",authDomain:"basheer-fa573.firebaseapp.com",projectId:"basheer-fa573",storageBucket:"basheer-fa573.appspot.com",messagingSenderId:"972779189740",appId:"1:972779189740:web:f681146633f9f1bea4bcc9"};var Br=T(2011),hl=T(4986),xa=T(8996),on=T(5813),br=T(4482),pr=T(5403);function Ua(){return(0,br.e)((b,u)=>{let a,p=!1;b.subscribe(new pr.Q(u,x=>{const U=a;a=x,p&&u.next([U,x]),p=!0}))})}var kn=T(5026),Dl=(T(5881),T(3942)),xt=T(5525),Vt=T(2090),un=T(4859);function aa(b,u){if(void 0===u)return{merge:!1};if(void 0!==u.mergeFields&&void 0!==u.merge)throw new xt.WA("invalid-argument",`Invalid options passed to function ${b}(): You cannot specify both "merge" and "mergeFields".`);return u}function Us(){if(typeof Uint8Array>"u")throw new xt.WA("unimplemented","Uint8Arrays are not available in this environment.")}function ja(){if(!(0,xt.Me)())throw new xt.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ko{constructor(u){this._delegate=u}static fromBase64String(u){return ja(),new ko(xt.Jj.fromBase64String(u))}static fromUint8Array(u){return Us(),new ko(xt.Jj.fromUint8Array(u))}toBase64(){return ja(),this._delegate.toBase64()}toUint8Array(){return Us(),this._delegate.toUint8Array()}isEqual(u){return this._delegate.isEqual(u._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ha(b){return function Da(b,u){if("object"!=typeof b||null===b)return!1;const a=b;for(const p of u)if(p in a&&"function"==typeof a[p])return!0;return!1}(b,["next","error","complete"])}class Nc{enableIndexedDbPersistence(u,a){return(0,xt.ST)(u._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(u){return(0,xt.fH)(u._delegate)}clearIndexedDbPersistence(u){return(0,xt.Fc)(u._delegate)}}class Ga{constructor(u,a,p){this._delegate=a,this._persistenceProvider=p,this.INTERNAL={delete:()=>this.terminate()},u instanceof xt.l7||(this._appCompat=u)}get _databaseId(){return this._delegate._databaseId}settings(u){const a=this._delegate._getSettings();!u.merge&&a.host!==u.host&&(0,xt.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),u.merge&&delete(u=Object.assign(Object.assign({},a),u)).merge,this._delegate._setSettings(u)}useEmulator(u,a,p={}){(0,xt.at)(this._delegate,u,a,p)}enableNetwork(){return(0,xt.Ix)(this._delegate)}disableNetwork(){return(0,xt.TF)(this._delegate)}enablePersistence(u){let a=!1,p=!1;return u&&(a=!!u.synchronizeTabs,p=!!u.experimentalForceOwningTab,(0,xt.Wi)("synchronizeTabs",a,"experimentalForceOwningTab",p)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,p)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,xt.Mx)(this._delegate)}onSnapshotsInSync(u){return(0,xt.sc)(this._delegate,u)}get app(){if(!this._appCompat)throw new xt.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(u){try{return new ms(this,(0,xt.hJ)(this._delegate,u))}catch(a){throw Vn(a,"collection()","Firestore.collection()")}}doc(u){try{return new Ci(this,(0,xt.JU)(this._delegate,u))}catch(a){throw Vn(a,"doc()","Firestore.doc()")}}collectionGroup(u){try{return new _n(this,(0,xt.B$)(this._delegate,u))}catch(a){throw Vn(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(u){return(0,xt.i3)(this._delegate,a=>u(new Bn(this,a)))}batch(){return(0,xt.qY)(this._delegate),new Po(new xt.PU(this._delegate,u=>(0,xt.GL)(this._delegate,u)))}loadBundle(u){return(0,xt.Pb)(this._delegate,u)}namedQuery(u){return(0,xt.L$)(this._delegate,u).then(a=>a?new _n(this,a):null)}}class Ia extends xt.u7{constructor(u){super(),this.firestore=u}convertBytes(u){return new ko(new xt.Jj(u))}convertReference(u){const a=this.convertDocumentKey(u,this.firestore._databaseId);return Ci.forKey(a,this.firestore,null)}}class Bn{constructor(u,a){this._firestore=u,this._delegate=a,this._userDataWriter=new Ia(u)}get(u){const a=qi(u);return this._delegate.get(a).then(p=>new yo(this._firestore,new xt.xU(this._firestore._delegate,this._userDataWriter,p._key,p._document,p.metadata,a.converter)))}set(u,a,p){const x=qi(u);return p?(aa("Transaction.set",p),this._delegate.set(x,a,p)):this._delegate.set(x,a),this}update(u,a,p,...x){const U=qi(u);return 2===arguments.length?this._delegate.update(U,a):this._delegate.update(U,a,p,...x),this}delete(u){const a=qi(u);return this._delegate.delete(a),this}}class Po{constructor(u){this._delegate=u}set(u,a,p){const x=qi(u);return p?(aa("WriteBatch.set",p),this._delegate.set(x,a,p)):this._delegate.set(x,a),this}update(u,a,p,...x){const U=qi(u);return 2===arguments.length?this._delegate.update(U,a):this._delegate.update(U,a,p,...x),this}delete(u){const a=qi(u);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class to{constructor(u,a,p){this._firestore=u,this._userDataWriter=a,this._delegate=p}fromFirestore(u,a){const p=new xt.$q(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,null);return this._delegate.fromFirestore(new Ji(this._firestore,p),a??{})}toFirestore(u,a){return a?this._delegate.toFirestore(u,a):this._delegate.toFirestore(u)}static getInstance(u,a){const p=to.INSTANCES;let x=p.get(u);x||(x=new WeakMap,p.set(u,x));let U=x.get(a);return U||(U=new to(u,new Ia(u),a),x.set(a,U)),U}}to.INSTANCES=new WeakMap;class Ci{constructor(u,a){this.firestore=u,this._delegate=a,this._userDataWriter=new Ia(u)}static forPath(u,a,p){if(u.length%2!=0)throw new xt.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${u.canonicalString()} has ${u.length}`);return new Ci(a,new xt.my(a._delegate,p,new xt.Ky(u)))}static forKey(u,a,p){return new Ci(a,new xt.my(a._delegate,p,u))}get id(){return this._delegate.id}get parent(){return new ms(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(u){try{return new ms(this.firestore,(0,xt.hJ)(this._delegate,u))}catch(a){throw Vn(a,"collection()","DocumentReference.collection()")}}isEqual(u){return(u=(0,Vt.m9)(u))instanceof xt.my&&(0,xt.Eo)(this._delegate,u)}set(u,a){a=aa("DocumentReference.set",a);try{return a?(0,xt.pl)(this._delegate,u,a):(0,xt.pl)(this._delegate,u)}catch(p){throw Vn(p,"setDoc()","DocumentReference.set()")}}update(u,a,...p){try{return 1===arguments.length?(0,xt.r7)(this._delegate,u):(0,xt.r7)(this._delegate,u,a,...p)}catch(x){throw Vn(x,"updateDoc()","DocumentReference.update()")}}delete(){return(0,xt.oe)(this._delegate)}onSnapshot(...u){const a=la(u),p=Oi(u,x=>new yo(this.firestore,new xt.xU(this.firestore._delegate,this._userDataWriter,x._key,x._document,x.metadata,this._delegate.converter)));return(0,xt.cf)(this._delegate,a,p)}get(u){let a;return a="cache"===u?.source?(0,xt.kl)(this._delegate):"server"===u?.source?(0,xt.Xk)(this._delegate):(0,xt.QT)(this._delegate),a.then(p=>new yo(this.firestore,new xt.xU(this.firestore._delegate,this._userDataWriter,p._key,p._document,p.metadata,this._delegate.converter)))}withConverter(u){return new Ci(this.firestore,this._delegate.withConverter(u?to.getInstance(this.firestore,u):null))}}function Vn(b,u,a){return b.message=b.message.replace(u,a),b}function la(b){for(const u of b)if("object"==typeof u&&!Ha(u))return u;return{}}function Oi(b,u){var a,p;let x;return x=Ha(b[0])?b[0]:Ha(b[1])?b[1]:"function"==typeof b[0]?{next:b[0],error:b[1],complete:b[2]}:{next:b[1],error:b[2],complete:b[3]},{next:U=>{x.next&&x.next(u(U))},error:null===(a=x.error)||void 0===a?void 0:a.bind(x),complete:null===(p=x.complete)||void 0===p?void 0:p.bind(x)}}class yo{constructor(u,a){this._firestore=u,this._delegate=a}get ref(){return new Ci(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(u){return this._delegate.data(u)}get(u,a){return this._delegate.get(u,a)}isEqual(u){return(0,xt.qK)(this._delegate,u._delegate)}}class Ji extends yo{data(u){const a=this._delegate.data(u);return(0,xt.K9)(void 0!==a,"Document in a QueryDocumentSnapshot should exist"),a}}class _n{constructor(u,a){this.firestore=u,this._delegate=a,this._userDataWriter=new Ia(u)}where(u,a,p){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.ar)(u,a,p)))}catch(x){throw Vn(x,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(u,a){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.Xo)(u,a)))}catch(p){throw Vn(p,/(orderBy|where)\(\)/,"Query.$1()")}}limit(u){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.b9)(u)))}catch(a){throw Vn(a,"limit()","Query.limit()")}}limitToLast(u){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.vh)(u)))}catch(a){throw Vn(a,"limitToLast()","Query.limitToLast()")}}startAt(...u){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.e0)(...u)))}catch(a){throw Vn(a,"startAt()","Query.startAt()")}}startAfter(...u){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.TQ)(...u)))}catch(a){throw Vn(a,"startAfter()","Query.startAfter()")}}endBefore(...u){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.Lx)(...u)))}catch(a){throw Vn(a,"endBefore()","Query.endBefore()")}}endAt(...u){try{return new _n(this.firestore,(0,xt.IO)(this._delegate,(0,xt.Wu)(...u)))}catch(a){throw Vn(a,"endAt()","Query.endAt()")}}isEqual(u){return(0,xt.iE)(this._delegate,u._delegate)}get(u){let a;return a="cache"===u?.source?(0,xt.UQ)(this._delegate):"server"===u?.source?(0,xt.zN)(this._delegate):(0,xt.PL)(this._delegate),a.then(p=>new vo(this.firestore,new xt.W(this.firestore._delegate,this._userDataWriter,this._delegate,p._snapshot)))}onSnapshot(...u){const a=la(u),p=Oi(u,x=>new vo(this.firestore,new xt.W(this.firestore._delegate,this._userDataWriter,this._delegate,x._snapshot)));return(0,xt.cf)(this._delegate,a,p)}withConverter(u){return new _n(this.firestore,this._delegate.withConverter(u?to.getInstance(this.firestore,u):null))}}class ca{constructor(u,a){this._firestore=u,this._delegate=a}get type(){return this._delegate.type}get doc(){return new Ji(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vo{constructor(u,a){this._firestore=u,this._delegate=a}get query(){return new _n(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(u=>new Ji(this._firestore,u))}docChanges(u){return this._delegate.docChanges(u).map(a=>new ca(this._firestore,a))}forEach(u,a){this._delegate.forEach(p=>{u.call(a,new Ji(this._firestore,p))})}isEqual(u){return(0,xt.qK)(this._delegate,u._delegate)}}class ms extends _n{constructor(u,a){super(u,a),this.firestore=u,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const u=this._delegate.parent;return u?new Ci(this.firestore,u):null}doc(u){try{return new Ci(this.firestore,void 0===u?(0,xt.JU)(this._delegate):(0,xt.JU)(this._delegate,u))}catch(a){throw Vn(a,"doc()","CollectionReference.doc()")}}add(u){return(0,xt.ET)(this._delegate,u).then(a=>new Ci(this.firestore,a))}isEqual(u){return(0,xt.Eo)(this._delegate,u._delegate)}withConverter(u){return new ms(this.firestore,this._delegate.withConverter(u?to.getInstance(this.firestore,u):null))}}function qi(b){return(0,xt.Cf)(b,xt.my)}class es{constructor(...u){this._delegate=new xt.Lz(...u)}static documentId(){return new es(xt.Xb.keyField().canonicalString())}isEqual(u){return(u=(0,Vt.m9)(u))instanceof xt.Lz&&this._delegate._internalPath.isEqual(u._internalPath)}}class _s{constructor(u){this._delegate=u}static serverTimestamp(){const u=(0,xt.Bt)();return u._methodName="FieldValue.serverTimestamp",new _s(u)}static delete(){const u=(0,xt.AK)();return u._methodName="FieldValue.delete",new _s(u)}static arrayUnion(...u){const a=(0,xt.vr)(...u);return a._methodName="FieldValue.arrayUnion",new _s(a)}static arrayRemove(...u){const a=(0,xt.Ab)(...u);return a._methodName="FieldValue.arrayRemove",new _s(a)}static increment(u){const a=(0,xt.nP)(u);return a._methodName="FieldValue.increment",new _s(a)}isEqual(u){return this._delegate.isEqual(u._delegate)}}const ys={Firestore:Ga,GeoPoint:xt.F8,Timestamp:xt.EK,Blob:ko,Transaction:Bn,WriteBatch:Po,DocumentReference:Ci,DocumentSnapshot:yo,Query:_n,QueryDocumentSnapshot:Ji,QuerySnapshot:vo,CollectionReference:ms,FieldPath:es,FieldValue:_s,setLogLevel:function $a(b){(0,xt.Ub)(b)},CACHE_SIZE_UNLIMITED:xt.IX};!function Il(b){(function Fo(b,u){b.INTERNAL.registerComponent(new un.wA("firestore-compat",a=>{const p=a.getProvider("app-compat").getImmediate(),x=a.getProvider("firestore").getImmediate();return u(p,x)},"PUBLIC").setServiceProps(Object.assign({},ys)))})(b,(u,a)=>new Ga(u,a,new Nc)),b.registerVersion("@firebase/firestore-compat","0.1.24")}(Dl.Z);var er=T(1205),no=T(440),za=T(127);function Ko(b,u){return function Zi(b,u=hl.z){return new sa.y(a=>{let p;return null!=u?u.schedule(()=>{p=b.onSnapshot({includeMetadataChanges:!0},a)}):p=b.onSnapshot({includeMetadataChanges:!0},a),()=>{p?.()}})}(b,u)}function Ot(b,u){return Ko(b,u).pipe((0,ue.U)(a=>({payload:a,type:"query"})))}function Ka(b,u){return Ot(b,u).pipe((0,hn.O)(void 0),Ua(),(0,ue.U)(([a,p])=>{const x=p.payload.docChanges(),U=x.map(me=>({type:me.type,payload:me}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(p.payload.metadata)&&p.payload.docs.forEach((me,we)=>{const We=x.find(Wt=>Wt.doc.ref.isEqual(me.ref)),Mt=a?.payload.docs.find(Wt=>Wt.ref.isEqual(me.ref));We&&JSON.stringify(We.doc.metadata)===JSON.stringify(me.metadata)||!We&&Mt&&JSON.stringify(Mt.metadata)===JSON.stringify(me.metadata)||U.push({type:"modified",payload:{oldIndex:we,newIndex:we,type:"modified",doc:me}})}),U}))}function io(b,u,a){return Ka(b,a).pipe((0,kn.R)((p,x)=>function Ya(b,u,a){return u.forEach(p=>{a.indexOf(p.type)>-1&&(b=function ro(b,u){switch(u.type){case"added":if(!b[u.newIndex]||!b[u.newIndex].doc.ref.isEqual(u.doc.ref))return qa(b,u.newIndex,0,u);break;case"modified":if(null==b[u.oldIndex]||b[u.oldIndex].doc.ref.isEqual(u.doc.ref)){if(u.oldIndex!==u.newIndex){const a=b.slice();return a.splice(u.oldIndex,1),a.splice(u.newIndex,0,u),a}return qa(b,u.newIndex,1,u)}break;case"removed":if(b[u.oldIndex]&&b[u.oldIndex].doc.ref.isEqual(u.doc.ref))return qa(b,u.oldIndex,1)}return b}(b,p))}),b}(p,x.map(U=>U.payload),u),[]),(0,jr.x)(),(0,ue.U)(p=>p.map(x=>({type:x.type,payload:x}))))}function qa(b,u,a,...p){const x=b.slice();return x.splice(u,a,...p),x}function mc(b){return(!b||0===b.length)&&(b=["added","removed","modified"]),b}class Aa{constructor(u,a,p){this.ref=u,this.query=a,this.afs=p}stateChanges(u){let a=Ka(this.query,this.afs.schedulers.outsideAngular);return u&&u.length>0&&(a=a.pipe((0,ue.U)(p=>p.filter(x=>u.indexOf(x.type)>-1)))),a.pipe((0,hn.O)(void 0),Ua(),(0,pt.h)(([p,x])=>x.length>0||!p),(0,ue.U)(([p,x])=>x),on.iC)}auditTrail(u){return this.stateChanges(u).pipe((0,kn.R)((a,p)=>[...a,...p],[]))}snapshotChanges(u){const a=mc(u);return io(this.query,a,this.afs.schedulers.outsideAngular).pipe(on.iC)}valueChanges(u={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(a=>a.payload.docs.map(p=>u.idField?Object.assign(Object.assign({},p.data()),{[u.idField]:p.id}):p.data())),on.iC)}get(u){return(0,xa.D)(this.query.get(u)).pipe(on.iC)}add(u){return this.ref.add(u)}doc(u){return new Vr(this.ref.doc(u),this.afs)}}class Vr{constructor(u,a){this.ref=u,this.afs=a}set(u,a){return this.ref.set(u,a)}update(u){return this.ref.update(u)}delete(){return this.ref.delete()}collection(u,a){const p=this.ref.collection(u),{ref:x,query:U}=as(p,a);return new Aa(x,U,this.afs)}snapshotChanges(){return function Wa(b,u){return Ko(b,u).pipe((0,hn.O)(void 0),Ua(),(0,ue.U)(([a,p])=>p.exists?a?.exists?{payload:p,type:"modified"}:{payload:p,type:"added"}:{payload:p,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(on.iC)}valueChanges(u={}){return this.snapshotChanges().pipe((0,ue.U)(({payload:a})=>u.idField?Object.assign(Object.assign({},a.data()),{[u.idField]:a.id}):a.data()))}get(u){return(0,xa.D)(this.ref.get(u)).pipe(on.iC)}}class fl{constructor(u,a){this.query=u,this.afs=a}stateChanges(u){return u&&0!==u.length?Ka(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(a=>a.filter(p=>u.indexOf(p.type)>-1)),(0,pt.h)(a=>a.length>0),on.iC):Ka(this.query,this.afs.schedulers.outsideAngular).pipe(on.iC)}auditTrail(u){return this.stateChanges(u).pipe((0,kn.R)((a,p)=>[...a,...p],[]))}snapshotChanges(u){const a=mc(u);return io(this.query,a,this.afs.schedulers.outsideAngular).pipe(on.iC)}valueChanges(u={}){return Ot(this.query,this.afs.schedulers.outsideAngular).pipe((0,ue.U)(p=>p.payload.docs.map(x=>u.idField?Object.assign({[u.idField]:x.id},x.data()):x.data())),on.iC)}get(u){return(0,xa.D)(this.query.get(u)).pipe(on.iC)}}const Al=new f.OlP("angularfire2.enableFirestorePersistence"),zl=new f.OlP("angularfire2.firestore.persistenceSettings"),Ss=new f.OlP("angularfire2.firestore.settings"),js=new f.OlP("angularfire2.firestore.use-emulator");function as(b,u=(a=>a)){return{query:u(b),ref:b}}let pl=(()=>{class b{constructor(a,p,x,U,me,we,We,Mt,Wt,Dn,ai,li,ci,pi,tr,Qi,ws){this.schedulers=We;const kr=(0,Br.on)(a,we,p),Tr=Wt;Dn&&(0,er.nw)(kr,we,ai,ci,pi,tr,li,Qi),[this.firestore,this.persistenceEnabled$]=(0,Br.cc)(`${kr.name}.firestore`,"AngularFirestore",kr.name,()=>{const pa=we.runOutsideAngular(()=>kr.firestore());if(U&&pa.settings(U),Tr&&pa.useEmulator(...Tr),x&&!(0,_e.PM)(me)){const Pa=()=>{try{return(0,xa.D)(pa.enablePersistence(Mt||void 0).then(()=>!0,()=>!1))}catch(xo){return typeof console<"u"&&console.warn(xo),(0,Oe.of)(!1)}};return[pa,we.runOutsideAngular(Pa)]}return[pa,(0,Oe.of)(!1)]},[U,Tr,x])}collection(a,p){let x;x="string"==typeof a?this.firestore.collection(a):a;const{ref:U,query:me}=as(x,p),we=this.schedulers.ngZone.run(()=>U);return new Aa(we,me,this)}collectionGroup(a,p){const x=p||(me=>me),U=this.firestore.collectionGroup(a);return new fl(x(U),this)}doc(a){let p;p="string"==typeof a?this.firestore.doc(a):a;const x=this.schedulers.ngZone.run(()=>p);return new Vr(x,this)}createId(){return this.firestore.collection("_").doc().id}}return b.\u0275fac=function(a){return new(a||b)(f.LFG(Br.Dh),f.LFG(Br.xv,8),f.LFG(Al,8),f.LFG(Ss,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(on.HU),f.LFG(zl,8),f.LFG(js,8),f.LFG(er.zQ,8),f.LFG(er.Qv,8),f.LFG(er.L6,8),f.LFG(er._Q,8),f.LFG(er.rT,8),f.LFG(er.lh,8),f.LFG(er.f7,8),f.LFG(no.nm,8))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac,providedIn:"any"}),b})(),wr=(()=>{class b{constructor(){za.Z.registerVersion("angularfire",on.q4.full,"fst-compat")}static enablePersistence(a){return{ngModule:b,providers:[{provide:Al,useValue:!0},{provide:zl,useValue:a}]}}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({providers:[pl]}),b})();var D=T(9814),I=T(8458),E=T(7799),k=T(5619);let j=(()=>{class b{constructor(){}ngOnInit(){}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=f.Xpm({type:b,selectors:[["app-marketing"]],decls:6,vars:0,consts:[[1,"about-section"],[1,"inner-container"],[1,"text"]],template:function(a,p){1&a&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h1"),f._uU(3,"About Us"),f.qZA(),f.TgZ(4,"p",2),f._uU(5,"protect yourself & your family from fitna sign up with us & transform your & your kids' life by learning from scholars & implementing in your life "),f.qZA()()())},styles:[".about-section[_ngcontent-%COMP%]{background:url(family.ffce19cf1a4a5afb.jpeg) no-repeat left;background-size:55%;background-color:#024;overflow:hidden;padding:100px 0;margin-left:45px}.inner-container[_ngcontent-%COMP%]{width:55%;float:right;background:#002244;padding:150px}.inner-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:30px;font-size:30px;font-weight:900;color:#fff}.text[_ngcontent-%COMP%]{font-size:13px;color:#fff;line-height:30px;text-align:justify;margin-bottom:40px}.skills[_ngcontent-%COMP%]{display:flex;justify-content:space-around;font-weight:700;font-size:13px;color:#fff}@media screen and (max-width: 1200px){.inner-container[_ngcontent-%COMP%]{padding:80px}}@media screen and (max-width: 1000px){.about-section[_ngcontent-%COMP%]{background-size:100%;padding:100px 40px}.inner-container[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 600px){.about-section[_ngcontent-%COMP%]{padding:0}.inner-container[_ngcontent-%COMP%]{padding:60px}}"]}),b})();function ce(b,u){1&b&&(f.TgZ(0,"mat-icon",10),f._uU(1,"remove_circle_outline "),f.qZA())}function Ne(b,u){1&b&&(f.TgZ(0,"mat-icon",11),f._uU(1,"control_point "),f.qZA())}function Pe(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"cdk-accordion-item",3,4)(2,"div",5),f.NdJ("click",function(){f.CHM(a);const x=f.MAs(1);return f.KtG(x.toggle())}),f._uU(3),f.TgZ(4,"span",6),f.YNc(5,ce,2,0,"mat-icon",7),f.YNc(6,Ne,2,0,"mat-icon",8),f.qZA()(),f.TgZ(7,"div",9),f._uU(8," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Perferendis excepturi incidunt ipsum deleniti labore, tempore non nam doloribus blanditiis veritatis illo autem iure aliquid ullam rem tenetur deserunt velit culpa? "),f.qZA()()}if(2&b){const a=u.$implicit,p=u.index,x=f.MAs(1);f.uIk("id","accordion-header-"+p)("aria-expanded",x.expanded)("aria-controls","accordion-body-"+p),f.xp6(3),f.hij(" ",a," "),f.xp6(2),f.Q6J("ngIf",x.expanded),f.xp6(1),f.Q6J("ngIf",!x.expanded),f.xp6(1),f.Udp("display",x.expanded?"":"none"),f.uIk("id","accordion-body-"+p)("aria-labelledby","accordion-header-"+p)}}let Ut=(()=>{class b{constructor(){this.items=["Why is the moon sometimes out during the day?","Why is the sky blue?","Will we ever discover aliens?","How much does the Earth weigh?","How do airplanes stay up?"],this.expandedIndex=0}ngOnInit(){}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=f.Xpm({type:b,selectors:[["app-faq"]],decls:5,vars:1,consts:[[1,"center"],[1,"example-accordion","center"],["class","example-accordion-item","role","button","tabindex","0",4,"ngFor","ngForOf"],["role","button","tabindex","0",1,"example-accordion-item"],["accordionItem","cdkAccordionItem"],[1,"example-accordion-item-header",3,"click"],[1,"example-accordion-item-description"],["aria-hidden","false","aria-label","Example remove_circle_outline\n          icon",4,"ngIf"],["aria-hidden","false","aria-label","Example control_point\n        icon",4,"ngIf"],["role","region",1,"example-accordion-item-body"],["aria-hidden","false","aria-label","Example remove_circle_outline\n          icon"],["aria-hidden","false","aria-label","Example control_point\n        icon"]],template:function(a,p){1&a&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Frequently Asked Questions"),f.qZA(),f.TgZ(3,"cdk-accordion",1),f.YNc(4,Pe,9,10,"cdk-accordion-item",2),f.qZA()()),2&a&&(f.xp6(4),f.Q6J("ngForOf",p.items))},dependencies:[_e.sg,_e.O5,oe,Ca,pc],styles:[".example-accordion[_ngcontent-%COMP%]{display:block;max-width:500px}.example-accordion-item[_ngcontent-%COMP%]{display:block;border-bottom:solid 1px #ccc}.example-accordion-item[_ngcontent-%COMP%] + .example-accordion-item[_ngcontent-%COMP%]{border-top:none}.example-accordion-item-header[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:space-between;color:#fff;font-size:1.15rem;font-weight:400}.example-accordion-item-description[_ngcontent-%COMP%]{font-size:.85em;color:#fff}.example-accordion-item-header[_ngcontent-%COMP%], .example-accordion-item-body[_ngcontent-%COMP%]{padding:16px;color:#fff}.example-accordion-item-header[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.center[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;margin-top:20px}h2[_ngcontent-%COMP%]{text-align:center;color:#fff}"]}),b})();const mn=["slickModal"],Kn=["slickModal1"];function Mn(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"div",11)(1,"img",12),f.NdJ("click",function(){f.CHM(a);const x=f.oxw();return f.KtG(x.gotoProduct())}),f.qZA()()}if(2&b){const a=u.$implicit;f.xp6(1),f.s9C("src",a.img,f.LSH)}}function $i(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"div",13)(1,"img",14),f.NdJ("click",function(){f.CHM(a);const x=f.oxw();return f.KtG(x.gotoProduct())}),f.qZA()()}if(2&b){const a=u.$implicit;f.xp6(1),f.s9C("src",a.altImg,f.LSH),f.s9C("alt",a.img)}}function ls(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"div",13)(1,"img",15),f.NdJ("click",function(){f.CHM(a);const x=f.oxw();return f.KtG(x.gotoProduct())}),f.qZA()()}if(2&b){const a=u.$implicit;f.xp6(1),f.s9C("src",a.img,f.LSH)}}function vs(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"div",13)(1,"img",15),f.NdJ("click",function(){f.CHM(a);const x=f.oxw();return f.KtG(x.gotoProduct())}),f.qZA()()}if(2&b){const a=u.$implicit;f.xp6(1),f.s9C("src",a.img,f.LSH)}}function Za(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"div",16)(1,"button",17),f.NdJ("click",function(){f.CHM(a);const x=f.oxw();return f.KtG(x.getStarted())}),f._uU(2,"Get Started"),f.qZA()()}}const gl=[{path:"home",component:(()=>{class b{constructor(a,p,x){this.router=a,this.loginService=p,this.dialog=x,this.showLogin=!1,this.slides=[{img:"https://dummyimage.com/350x150/2a2b7a/fff"},{img:"https://dummyimage.com/350x150/1a2b7a/fff"},{img:"https://dummyimage.com/350x150/7a2b7a/fff"},{img:"https://dummyimage.com/350x150/9a2b7a/fff"},{img:"https://dummyimage.com/350x150/5a2b7a/fff"},{img:"https://dummyimage.com/350x150/4a2b7a/fff"},{img:"https://dummyimage.com/350x150/423b42/fff"},{img:"https://dummyimage.com/350x150/2a2b7a/fff"},{img:"https://dummyimage.com/350x150/1a2b7a/fff"},{img:"https://dummyimage.com/350x150/7a2b7a/fff"},{img:"https://dummyimage.com/350x150/9a2b7a/fff"},{img:"https://dummyimage.com/350x150/5a2b7a/fff"},{img:"https://dummyimage.com/350x150/4a2b7a/fff"},{img:"https://dummyimage.com/350x150/2a2b7a/fff"},{img:"https://dummyimage.com/350x150/1a2b7a/fff"},{img:"https://dummyimage.com/350x150/7a2b7a/fff"},{img:"https://dummyimage.com/350x150/9a2b7a/fff"},{img:"https://dummyimage.com/350x150/5a2b7a/fff"},{img:"https://dummyimage.com/350x150/4a2b7a/fff"},{img:"https://dummyimage.com/350x150/2a2b7a/fff"},{img:"https://dummyimage.com/350x150/1a2b7a/fff"},{img:"https://dummyimage.com/350x150/7a2b7a/fff"},{img:"https://dummyimage.com/350x150/9a2b7a/fff"},{img:"https://dummyimage.com/350x150/5a2b7a/fff"},{img:"https://dummyimage.com/350x150/4a2b7a/fff"}],this.slides1=[{img:"../../assets/images/dress1.png",altImg:"assets/images/dress1.png"},{img:"../../assets/images/dress2.jpeg",altImg:"./assets/images/dress2.jpeg"},{img:"../../assets/images/dress3.jpeg",altImg:"assets/images/dress3.jpeg"},{img:"../../assets/images/dress4.jpeg",altImg:"assets/images/dress4.jpeg"},{img:"../../assets/images/dress5.jpeg",altImg:"assets/images/dress5.jpeg"},{img:"../../assets/images/dress6.jpeg",altImg:"assets/images/dress6.jpeg"},{img:"../../assets/images/dress7.jpeg",altImg:"assets/images/dress7.jpeg"},{img:"../../assets/images/dress8.jpeg",altImg:"assets/images/dress8.jpeg"},{img:"../../assets/images/dress9.jpeg",altImg:"assets/images/dress9.jpeg"},{img:"../../assets/images/dress10.jpeg",altImg:"assets/images/dress10.jpeg"},{img:"../../assets/images/dress11.jpeg",altImg:"assets/images/dress11.jpeg"},{img:"../../assets/images/dress12.jpeg",altImg:"assets/images/dress12.jpeg"},{img:"../../assets/images/dress13.jpeg",altImg:"assets/images/dress13.jpeg"},{img:"../../assets/images/dress14.jpeg",altImg:"assets/images/dress14.jpeg"},{img:"../../assets/images/dress15.jpeg",altImg:"assets/images/dress15.jpeg"},{img:"../../assets/images/dress16.jpeg",altImg:"assets/images/dress16.jpeg"},{img:"../../assets/images/dress17.jpeg",altImg:"assets/images/dress17.jpeg"},{img:"../../assets/images/dress18.jpeg",altImg:"assets/images/dress18.jpeg"}],this.slideConfig={slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2500,responsive:[{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,centerMode:!0,autoplay:!0,autoplaySpeed:2500}},{breakpoint:600,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0,centerMode:!0,autoplay:!0,autoplaySpeed:2e3,dots:!1,prevArrow:!1,nextArrow:!1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:2e3,dots:!1,prevArrow:!1,nextArrow:!1}}]},this.slideConfig1={slidesToShow:8,slidesToScroll:8,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,arrows:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2,arrows:!0}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,dots:!1}}]}}ngOnInit(){}gotoProduct(){this.loginService.getIsLoggedIn()?this.router.navigate(["details"]):this.dialog.open(I.G,{panelClass:["slide-animation"]})}receiveLogin(a){this.gotoProduct()}getStarted(){this.dialog.open(I.G,{panelClass:["slide-animation"]})}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(E.F0),f.Y36(k.r),f.Y36(Ir.uw))},b.\u0275cmp=f.Xpm({type:b,selectors:[["app-home"]],viewQuery:function(a,p){if(1&a&&(f.Gf(mn,7),f.Gf(Kn,7)),2&a){let x;f.iGM(x=f.CRH())&&(p.slickModal=x.first),f.iGM(x=f.CRH())&&(p.slickModal1=x.first)}},decls:28,vars:9,consts:[[1,"cover-carousel"],[1,"carousel1",3,"config"],["slickModal","slick-carousel"],["ngxSlickItem","","class","slide",4,"ngFor","ngForOf"],[1,"latest"],[1,"tray-title"],["href","#",1,"tray-link"],[1,"carousel",3,"config"],["slickModal1","slick-carousel"],["ngxSlickItem","","class","tray-slide",4,"ngFor","ngForOf"],["class","get-start-div",4,"ngIf"],["ngxSlickItem","",1,"slide"],["alt","assets/images/dress1.jpeg","width","100%",1,"cover-image",3,"src","click"],["ngxSlickItem","",1,"tray-slide"],["height","100% ","width","100%",1,"card-image",3,"src","alt","click"],["alt","","height","100% ","width","100%",1,"card-image",3,"src","click"],[1,"get-start-div"],["mat-raised-button","","color","warn",1,"get-started-button",3,"click"]],template:function(a,p){1&a&&(f.TgZ(0,"div",0)(1,"ngx-slick-carousel",1,2),f.YNc(3,Mn,2,1,"div",3),f.qZA()(),f.TgZ(4,"div",4)(5,"h2",5)(6,"a",6),f._uU(7,"clothes"),f.qZA()(),f.TgZ(8,"ngx-slick-carousel",7,8),f.YNc(10,$i,2,2,"div",9),f.qZA()(),f.TgZ(11,"div",4)(12,"h2",5)(13,"a",6),f._uU(14,"grocery"),f.qZA()(),f.TgZ(15,"ngx-slick-carousel",7,8),f.YNc(17,ls,2,1,"div",9),f.qZA()(),f._UZ(18,"app-marketing"),f.TgZ(19,"div",4)(20,"h2",5)(21,"a",6),f._uU(22,"Recommended For You"),f.qZA()(),f.TgZ(23,"ngx-slick-carousel",7,8),f.YNc(25,vs,2,1,"div",9),f.qZA()(),f._UZ(26,"app-faq"),f.YNc(27,Za,3,0,"div",10)),2&a&&(f.xp6(1),f.Q6J("config",p.slideConfig),f.xp6(2),f.Q6J("ngForOf",p.slides),f.xp6(5),f.Q6J("config",p.slideConfig1),f.xp6(2),f.Q6J("ngForOf",p.slides1),f.xp6(5),f.Q6J("config",p.slideConfig1),f.xp6(2),f.Q6J("ngForOf",p.slides),f.xp6(6),f.Q6J("config",p.slideConfig1),f.xp6(2),f.Q6J("ngForOf",p.slides),f.xp6(2),f.Q6J("ngIf",!p.loginService.getIsLoggedIn()))},dependencies:[_e.sg,_e.O5,Gr,Va.vE,Va.Xg,j,Ut],styles:[".slick-slider[_ngcontent-%COMP%]{width:95%;margin:auto}.slick-slide[_ngcontent-%COMP%]   .cover-image[_ngcontent-%COMP%]{display:flex;height:300px;border-radius:20px}.slick-prev[_ngcontent-%COMP%], .slick-next[_ngcontent-%COMP%]{height:45px;width:40px;background:grey!important;z-index:100}.carousel1[_ngcontent-%COMP%]{margin-top:80px;padding:10px}.tray-link[_ngcontent-%COMP%]{text-decoration:none;color:#f0f8ff;padding-left:20px}.tray-title[_ngcontent-%COMP%]{margin-bottom:0}@media only screen and (min-width: 1024px){.tray-link[_ngcontent-%COMP%]{padding-left:73px}}.latest[_ngcontent-%COMP%]{margin-top:10px}.cover-carousel[_ngcontent-%COMP%]{margin-bottom:20px}.tray-slide[_ngcontent-%COMP%]{padding:30px 10px}.tray-slide[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{transform:scale(1.12);box-shadow:0 0 30px}.card-image[_ngcontent-%COMP%]{border-radius:15px;transition:transform .5s;height:180px}.card-image[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{z-index:99;transform:scale(1.12);box-shadow:0 0 30px}.get-start-div[_ngcontent-%COMP%]{margin-top:20px;display:flex;justify-content:center;align-items:center}.get-started-button[_ngcontent-%COMP%]{width:20%}@media only screen and (max-width: 480px){.get-started-button[_ngcontent-%COMP%]{width:35%}}"]}),b})()},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"login",loadChildren:()=>T.e(433).then(T.bind(T,6433)).then(b=>b.LoginModule)},{path:"orders",loadChildren:()=>T.e(411).then(T.bind(T,3411)).then(b=>b.OrdersModule)},{path:"categories",loadChildren:()=>T.e(997).then(T.bind(T,1997)).then(b=>b.CategoriesModule)},{path:"details",loadChildren:()=>T.e(923).then(T.bind(T,6923)).then(b=>b.DetailsModule)}];let Ys=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({imports:[E.Bz.forRoot(gl),E.Bz]}),b})();var qs=T(1576),so=T(5829);function Sa(b,u){if(1&b&&(f.TgZ(0,"a",16),f._uU(1),f.qZA()),2&b){const a=u.$implicit;f.Q6J("routerLink",a.url),f.xp6(1),f.hij(" ",a.name," ")}}function Yo(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"a",17),f.NdJ("click",function(){f.CHM(a);const x=f.oxw();return f.KtG(x.login())}),f._uU(1,"login"),f.qZA()}}function bo(b,u){if(1&b){const a=f.EpF();f.TgZ(0,"a",17),f.NdJ("click",function(){f.CHM(a);const x=f.oxw();return f.KtG(x.logout())}),f._uU(1,"logout"),f.qZA()}}function wo(b,u){if(1&b&&(f.TgZ(0,"a",18),f._uU(1),f.qZA()),2&b){const a=u.$implicit;f.Q6J("routerLink",a.url),f.xp6(1),f.hij("",a.name," ")}}let qo=(()=>{class b{constructor(a,p,x,U){this.afAuth=a,this.ngZone=p,this.loginService=x,this.dialog=U,this.isLoggedIn=!1,this.links=[{name:"Categories",url:"/categories"},{name:"Orders",url:"/orders"},{name:"Series",url:"/series"},{name:"Audio",url:"/audio"},{name:"Kids",url:"/kids"}]}ngOnInit(){this.user_data=JSON.parse(localStorage.getItem("user_data")||"null"),null!=this.user_data&&(this.isLoggedIn=!0)}logout(){this.loginService.logout()}login(){this.dialog.open(I.G,{panelClass:["slide-animation"]})}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(er.zQ),f.Y36(f.R0b),f.Y36(k.r),f.Y36(Ir.uw))},b.\u0275cmp=f.Xpm({type:b,selectors:[["app-navbar"]],decls:20,vars:4,consts:[["mat-tab-nav-bar","","fxLayoutAlign","space-evenly center",1,"navbar"],["fxShow","true","fxHide.gt-sm","true"],[3,"click"],[1,"hamburger"],["fxFlex","60"],["routerLink","/home","src","assets/images/logo1.png","alt","../../assets/images/logo1.png",1,"brand-logo"],["mat-tab-link","","class","tab-links","fxShow","true","fxHide.lt-md","true",3,"routerLink",4,"ngFor","ngForOf"],["fxFlex","40","fxLayoutAlign","end center","fxShow","true",1,"right-container"],["type","text","fxHide.lt-md","true","placeholder","search",1,"search-box"],[1,"sub-btn"],["class","login-link",3,"click",4,"ngIf"],["fxLayout","column",1,"sidenav"],["sidenav",""],["fxLayout","column"],["mat-button","",3,"click"],["href","#","mat-button","",3,"routerLink",4,"ngFor","ngForOf"],["mat-tab-link","","fxShow","true","fxHide.lt-md","true",1,"tab-links",3,"routerLink"],[1,"login-link",3,"click"],["href","#","mat-button","",3,"routerLink"]],template:function(a,p){if(1&a){const x=f.EpF();f.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),f.NdJ("click",function(){f.CHM(x);const me=f.MAs(15);return f.KtG(me.toggle())}),f.TgZ(3,"mat-icon",3),f._uU(4,"menu"),f.qZA()()(),f.TgZ(5,"div",4),f._UZ(6,"img",5),f.YNc(7,Sa,2,2,"a",6),f.qZA(),f.TgZ(8,"div",7),f._UZ(9,"input",8),f.TgZ(10,"button",9),f._uU(11,"my Account"),f.qZA(),f.YNc(12,Yo,2,0,"a",10),f.YNc(13,bo,2,0,"a",10),f.qZA()(),f.TgZ(14,"mat-sidenav",11,12)(16,"div",13)(17,"a",14),f.NdJ("click",function(){f.CHM(x);const me=f.MAs(15);return f.KtG(me.toggle())}),f._uU(18,"Close"),f.qZA(),f.YNc(19,wo,2,2,"a",15),f.qZA()()}2&a&&(f.xp6(7),f.Q6J("ngForOf",p.links),f.xp6(5),f.Q6J("ngIf",!p.loginService.getIsLoggedIn()),f.xp6(1),f.Q6J("ngIf",p.loginService.getIsLoggedIn()),f.xp6(6),f.Q6J("ngForOf",p.links))},dependencies:[_e.sg,_e.O5,E.rH,E.yS,oe,Ba,Rr,Ws,Ks,qs.xw,qs.Wh,qs.yH,so.b8],styles:[".hamburger[_ngcontent-%COMP%]{color:#fff;margin-top:10px;margin-right:20px}.navbar[_ngcontent-%COMP%]{width:100%;height:80px;top:0;left:0;padding:0 4%;box-shadow:0 8px 32px #1f26875e;backdrop-filter:blur(8.5px);-webkit-backdrop-filter:blur(8.5px);border:1px solid rgba(255,255,255,.18);z-index:9;display:flex;align-items:center}.search-box[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #aaa;background:transparent;outline:none;height:30px;color:#fff;width:250px;text-transform:capitalize;font-size:16px;font-weight:500;transition:.5s}.search-box[_ngcontent-%COMP%]:focus{width:350px;border-color:#1f80e0}.sub-btn[_ngcontent-%COMP%]{background-color:#1f80e0;height:30px;padding:0 20px;color:#fff;border-radius:5px;outline:none;text-transform:uppercase;font-weight:700;font-size:12px;margin:0 10px}[_nghost-%COMP%]     .mat-tab-link{min-width:60px}.login-link[_ngcontent-%COMP%]{color:#fff;opacity:.9;text-transform:uppercase;font-size:15px;font-weight:700;text-decoration:none;cursor:pointer}.right-container[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:10px}.tab-links[_ngcontent-%COMP%]{color:#fff;opacity:.7}.tab-links[_ngcontent-%COMP%]:active{opacity:.9}.sidenav[_ngcontent-%COMP%]{background-color:#024;color:#fff;position:fixed;z-index:9;width:100%}[_nghost-%COMP%]     .mat-tab-nav-bar, .mat-tab-header[_ngcontent-%COMP%]{border-bottom:0px!important}.brand-logo[_ngcontent-%COMP%]{height:100%;width:13%}@media screen and (max-width: 600px){.brand-logo[_ngcontent-%COMP%]{width:32%}}"]}),b})(),ua=(()=>{class b{constructor(){}ngOnInit(){}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275cmp=f.Xpm({type:b,selectors:[["app-footer"]],decls:46,vars:0,consts:[["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","space-around",1,"footer"],["fxFlex.lg","48%","fxFlex.md","40","fxFlex.xs","100",1,"footer-content"],["fxFlex.lg","45%","fxFlex.md","20","fxFlex.xs","30","fxLayoutAlign","space-around center"],[1,"footer-content"],[1,"footer-menu-name"],["href","#"]],template:function(a,p){1&a&&(f.TgZ(0,"div",0)(1,"div",1)(2,"h1"),f._uU(3,"Shopping Cart"),f.qZA(),f.TgZ(4,"span"),f._uU(5," Lorem ipsum dolor sit amet consectetur, adipisicing elit. Similique vitae nemo earum, quo deleniti nihil est saepe sequi sunt, cum ipsam harum ratione sapiente iusto, iure doloremque possimus. Ducimus minus voluptates odio tenetur porro temporibus non! Quam tenetur eius ea modi suscipit voluptates quidem quae atque tempora illum cum, iste blanditiis recusandae consequuntur! "),f.qZA()(),f.TgZ(6,"div",2)(7,"div",3)(8,"h2",4),f._uU(9,"Product"),f.qZA(),f.TgZ(10,"ul")(11,"li")(12,"a",5),f._uU(13,"details"),f.qZA()(),f.TgZ(14,"li")(15,"a",5),f._uU(16,"Audios"),f.qZA()(),f.TgZ(17,"li")(18,"a",5),f._uU(19,"Books"),f.qZA()()()(),f.TgZ(20,"div",3)(21,"h2",4),f._uU(22,"Links"),f.qZA(),f.TgZ(23,"ul")(24,"li")(25,"a",5),f._uU(26,"Pricing"),f.qZA()(),f.TgZ(27,"li")(28,"a",5),f._uU(29,"Blog"),f.qZA()(),f.TgZ(30,"li")(31,"a",5),f._uU(32,"Carrier"),f.qZA()()()(),f.TgZ(33,"div",3)(34,"h2",4),f._uU(35,"Address"),f.qZA(),f.TgZ(36,"ul")(37,"li")(38,"a",5),f._uU(39,"123,Xyz Street"),f.qZA()(),f.TgZ(40,"li")(41,"a",5),f._uU(42,"BGF Luton"),f.qZA()(),f.TgZ(43,"li")(44,"a",5),f._uU(45,"India"),f.qZA()()()()()())},dependencies:[qs.xw,qs.Wh,qs.yH],styles:[".footer[_ngcontent-%COMP%]{font-weight:500;color:#fff;margin-top:20px;padding-left:15px;padding-right:15px;padding-bottom:40px}.footer-content[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;margin-top:20px}.footer-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;margin-top:10px}.footer-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.footer-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:5px}.footer-menu-name[_ngcontent-%COMP%]{color:#fffff2;font-size:15px;font-weight:900;letter-spacing:.1em;line-height:18px;text-transform:uppercase}"]}),b})();function Sl(b,u){1&b&&f._UZ(0,"app-login")}let Qa=(()=>{class b{constructor(a){this.loginService=a,this.title="shopping-cart",this.isLoggedIn=!1,this.user_data=""}ngOnInit(){this.user_data=JSON.parse(localStorage.getItem("user_data")||"null"),null!=this.user_data&&(this.isLoggedIn=!0)}}return b.\u0275fac=function(a){return new(a||b)(f.Y36(k.r))},b.\u0275cmp=f.Xpm({type:b,selectors:[["app-root"]],decls:6,vars:1,consts:[["fxLayout","column","fxFlexFill",""],[1,"navbar"],[4,"ngIf"],["fxFlex",""]],template:function(a,p){1&a&&(f.TgZ(0,"div",0),f._UZ(1,"app-navbar",1),f.YNc(2,Sl,1,0,"app-login",2),f.TgZ(3,"div",3),f._UZ(4,"router-outlet"),f.qZA(),f._UZ(5,"app-footer"),f.qZA()),2&a&&(f.xp6(2),f.Q6J("ngIf",p.loginService.showLoginValue))},dependencies:[_e.O5,E.lC,qs.xw,qs.s9,qs.yH,qo,ua],styles:[".blur[_ngcontent-%COMP%]{-moz-filter:blur(1.5px);-o-filter:blur(1.5px);-ms-filter:blur(1.5px);filter:blur(1.5px);position:absolute;width:100%;height:100%}.navbar[_ngcontent-%COMP%]{position:fixed;z-index:2}"]}),b})();function da(b){return new f.vHH(3e3,!1)}function Xo(){return typeof window<"u"&&typeof window.document<"u"}function _c(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Eo(b){switch(b.length){case 0:return new Qn.ZN;case 1:return b[0];default:return new Qn.ZE(b)}}function Rl(b,u,a,p,x=new Map,U=new Map){const me=[],we=[];let We=-1,Mt=null;if(p.forEach(Wt=>{const Dn=Wt.get("offset"),ai=Dn==We,li=ai&&Mt||new Map;Wt.forEach((ci,pi)=>{let tr=pi,Qi=ci;if("offset"!==pi)switch(tr=u.normalizePropertyName(tr,me),Qi){case Qn.k1:Qi=x.get(pi);break;case Qn.l3:Qi=U.get(pi);break;default:Qi=u.normalizeStyleValue(pi,tr,Qi,me)}li.set(tr,Qi)}),ai||we.push(li),Mt=li,We=Dn}),me.length)throw function Xa(b){return new f.vHH(3502,!1)}();return we}function Yl(b,u,a,p){switch(u){case"start":b.onStart(()=>p(a&&Ma(a,"start",b)));break;case"done":b.onDone(()=>p(a&&Ma(a,"done",b)));break;case"destroy":b.onDestroy(()=>p(a&&Ma(a,"destroy",b)))}}function Ma(b,u,a){const U=yc(b.element,b.triggerName,b.fromState,b.toState,u||b.phaseName,a.totalTime??b.totalTime,!!a.disabled),me=b._data;return null!=me&&(U._data=me),U}function yc(b,u,a,p,x="",U=0,me){return{element:b,triggerName:u,fromState:a,toState:p,phaseName:x,totalTime:U,disabled:!!me}}function Ts(b,u,a){let p=b.get(u);return p||b.set(u,p=a),p}function No(b){const u=b.indexOf(":");return[b.substring(1,u),b.slice(u+1)]}let Ja=(b,u)=>!1,el=(b,u,a)=>[],hu=null;function vc(b){const u=b.parentNode||b.host;return u===hu?null:u}(_c()||typeof Element<"u")&&(Xo()?(hu=(()=>document.documentElement)(),Ja=(b,u)=>{for(;u;){if(u===b)return!0;u=vc(u)}return!1}):Ja=(b,u)=>b.contains(u),el=(b,u,a)=>{if(a)return Array.from(b.querySelectorAll(u));const p=b.querySelector(u);return p?[p]:[]});let Ol=null,gd=!1;const Jo=Ja,ql=el;let Hu=(()=>{class b{validateStyleProperty(a){return function ju(b){Ol||(Ol=function Vc(){return typeof document<"u"?document.body:null}()||{},gd=!!Ol.style&&"WebkitAppearance"in Ol.style);let u=!0;return Ol.style&&!function tl(b){return"ebkit"==b.substring(1,6)}(b)&&(u=b in Ol.style,!u&&gd&&(u="Webkit"+b.charAt(0).toUpperCase()+b.slice(1)in Ol.style)),u}(a)}matchesElement(a,p){return!1}containsElement(a,p){return Jo(a,p)}getParentElement(a){return vc(a)}query(a,p,x){return ql(a,p,x)}computeStyle(a,p,x){return x||""}animate(a,p,x,U,me,we=[],We){return new Qn.ZN(x,U)}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})(),kl=(()=>{class b{}return b.NOOP=new Hu,b})();const Xl="ng-enter",ml="ng-leave",Uc="ng-trigger",jc=".ng-trigger",bc="ng-animating",Jl=".ng-animating";function nl(b){if("number"==typeof b)return b;const u=b.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:Yi(parseFloat(u[1]),u[2])}function Yi(b,u){return"s"===u?1e3*b:b}function Ra(b,u,a){return b.hasOwnProperty("duration")?b:function Hc(b,u,a){let x,U=0,me="";if("string"==typeof b){const we=b.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===we)return u.push(da()),{duration:0,delay:0,easing:""};x=Yi(parseFloat(we[1]),we[2]);const We=we[3];null!=We&&(U=Yi(parseFloat(We),we[4]));const Mt=we[5];Mt&&(me=Mt)}else x=b;if(!a){let we=!1,We=u.length;x<0&&(u.push(function Er(){return new f.vHH(3100,!1)}()),we=!0),U<0&&(u.push(function cu(){return new f.vHH(3101,!1)}()),we=!0),we&&u.splice(We,0,da())}return{duration:x,delay:U,easing:me}}(b,u,a)}function ec(b,u={}){return Object.keys(b).forEach(a=>{u[a]=b[a]}),u}function Gc(b){const u=new Map;return Object.keys(b).forEach(a=>{u.set(a,b[a])}),u}function Pl(b,u=new Map,a){if(a)for(let[p,x]of a)u.set(p,x);for(let[p,x]of b)u.set(p,x);return u}function il(b,u,a){return a?u+":"+a+";":""}function fa(b){let u="";for(let a=0;a<b.style.length;a++){const p=b.style.item(a);u+=il(0,p,b.style.getPropertyValue(p))}for(const a in b.style)b.style.hasOwnProperty(a)&&!a.startsWith("_")&&(u+=il(0,y(a),b.style[a]));b.setAttribute("style",u)}function Co(b,u,a){b.style&&(u.forEach((p,x)=>{const U=g(x);a&&!a.has(x)&&a.set(x,b.style[U]),b.style[U]=p}),_c()&&fa(b))}function tc(b,u){b.style&&(u.forEach((a,p)=>{const x=g(p);b.style[x]=""}),_c()&&fa(b))}function wc(b){return Array.isArray(b)?1==b.length?b[0]:(0,Qn.vP)(b):b}const $c=new RegExp("{{\\s*(.+?)\\s*}}","g");function md(b){let u=[];if("string"==typeof b){let a;for(;a=$c.exec(b);)u.push(a[1]);$c.lastIndex=0}return u}function Wr(b,u,a){const p=b.toString(),x=p.replace($c,(U,me)=>{let we=u[me];return null==we&&(a.push(function H(b){return new f.vHH(3003,!1)}()),we=""),we.toString()});return x==p?b:x}function Wi(b){const u=[];let a=b.next();for(;!a.done;)u.push(a.value),a=b.next();return u}const C=/-+([a-z0-9])/g;function g(b){return b.replace(C,(...u)=>u[1].toUpperCase())}function y(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function re(b,u,a){switch(u.type){case 7:return b.visitTrigger(u,a);case 0:return b.visitState(u,a);case 1:return b.visitTransition(u,a);case 2:return b.visitSequence(u,a);case 3:return b.visitGroup(u,a);case 4:return b.visitAnimate(u,a);case 5:return b.visitKeyframes(u,a);case 6:return b.visitStyle(u,a);case 8:return b.visitReference(u,a);case 9:return b.visitAnimateChild(u,a);case 10:return b.visitAnimateRef(u,a);case 11:return b.visitQuery(u,a);case 12:return b.visitStagger(u,a);default:throw function le(b){return new f.vHH(3004,!1)}()}}function ct(b,u){return window.getComputedStyle(b)[u]}function Ec(b,u){const a=[];return"string"==typeof b?b.split(/\s*,\s*/).forEach(p=>function Cc(b,u,a){if(":"==b[0]){const We=function rl(b,u){switch(b){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,p)=>parseFloat(p)>parseFloat(a);case":decrement":return(a,p)=>parseFloat(p)<parseFloat(a);default:return u.push(function Qo(b){return new f.vHH(3016,!1)}()),"* => *"}}(b,a);if("function"==typeof We)return void u.push(We);b=We}const p=b.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==p||p.length<4)return a.push(function Zo(b){return new f.vHH(3015,!1)}()),u;const x=p[1],U=p[2],me=p[3];u.push(zc(x,me));"<"==U[0]&&!("*"==x&&"*"==me)&&u.push(zc(me,x))}(p,a,u)):a.push(b),a}const sl=new Set(["true","1"]),Ll=new Set(["false","0"]);function zc(b,u){const a=sl.has(b)||Ll.has(b),p=sl.has(u)||Ll.has(u);return(x,U)=>{let me="*"==b||b==x,we="*"==u||u==U;return!me&&a&&"boolean"==typeof x&&(me=x?sl.has(b):Ll.has(b)),!we&&p&&"boolean"==typeof U&&(we=U?sl.has(u):Ll.has(u)),me&&we}}const zu=new RegExp("s*:selfs*,?","g");function xc(b,u,a,p){return new Kc(b).build(u,a,p)}class Kc{constructor(u){this._driver=u}build(u,a,p){const x=new Yc(a);return this._resetContextStyleTimingState(x),re(this,wc(u),x)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles=new Map,u.collectedStyles.set("",new Map),u.currentTime=0}visitTrigger(u,a){let p=a.queryCount=0,x=a.depCount=0;const U=[],me=[];return"@"==u.name.charAt(0)&&a.errors.push(function bt(){return new f.vHH(3006,!1)}()),u.definitions.forEach(we=>{if(this._resetContextStyleTimingState(a),0==we.type){const We=we,Mt=We.name;Mt.toString().split(/\s*,\s*/).forEach(Wt=>{We.name=Wt,U.push(this.visitState(We,a))}),We.name=Mt}else if(1==we.type){const We=this.visitTransition(we,a);p+=We.queryCount,x+=We.depCount,me.push(We)}else a.errors.push(function Nt(){return new f.vHH(3007,!1)}())}),{type:7,name:u.name,states:U,transitions:me,queryCount:p,depCount:x,options:null}}visitState(u,a){const p=this.visitStyle(u.styles,a),x=u.options&&u.options.params||null;if(p.containsDynamicStyles){const U=new Set,me=x||{};p.styles.forEach(we=>{we instanceof Map&&we.forEach(We=>{md(We).forEach(Mt=>{me.hasOwnProperty(Mt)||U.add(Mt)})})}),U.size&&(Wi(U.values()),a.errors.push(function cn(b,u){return new f.vHH(3008,!1)}()))}return{type:0,name:u.name,style:p,options:x?{params:x}:null}}visitTransition(u,a){a.queryCount=0,a.depCount=0;const p=re(this,wc(u.animation),a);return{type:1,matchers:Ec(u.expr,a.errors),animation:p,queryCount:a.queryCount,depCount:a.depCount,options:xr(u.options)}}visitSequence(u,a){return{type:2,steps:u.steps.map(p=>re(this,p,a)),options:xr(u.options)}}visitGroup(u,a){const p=a.currentTime;let x=0;const U=u.steps.map(me=>{a.currentTime=p;const we=re(this,me,a);return x=Math.max(x,a.currentTime),we});return a.currentTime=x,{type:3,steps:U,options:xr(u.options)}}visitAnimate(u,a){const p=function zh(b,u){if(b.hasOwnProperty("duration"))return b;if("number"==typeof b)return Wu(Ra(b,u).duration,0,"");const a=b;if(a.split(/\s+/).some(U=>"{"==U.charAt(0)&&"{"==U.charAt(1))){const U=Wu(0,0,"");return U.dynamic=!0,U.strValue=a,U}const x=Ra(a,u);return Wu(x.duration,x.delay,x.easing)}(u.timings,a.errors);a.currentAnimateTimings=p;let x,U=u.styles?u.styles:(0,Qn.oB)({});if(5==U.type)x=this.visitKeyframes(U,a);else{let me=u.styles,we=!1;if(!me){we=!0;const Mt={};p.easing&&(Mt.easing=p.easing),me=(0,Qn.oB)(Mt)}a.currentTime+=p.duration+p.delay;const We=this.visitStyle(me,a);We.isEmptyStep=we,x=We}return a.currentAnimateTimings=null,{type:4,timings:p,style:x,options:null}}visitStyle(u,a){const p=this._makeStyleAst(u,a);return this._validateStyleAst(p,a),p}_makeStyleAst(u,a){const p=[],x=Array.isArray(u.styles)?u.styles:[u.styles];for(let we of x)"string"==typeof we?we===Qn.l3?p.push(we):a.errors.push(new f.vHH(3002,!1)):p.push(Gc(we));let U=!1,me=null;return p.forEach(we=>{if(we instanceof Map&&(we.has("easing")&&(me=we.get("easing"),we.delete("easing")),!U))for(let We of we.values())if(We.toString().indexOf("{{")>=0){U=!0;break}}),{type:6,styles:p,easing:me,offset:u.offset,containsDynamicStyles:U,options:null}}_validateStyleAst(u,a){const p=a.currentAnimateTimings;let x=a.currentTime,U=a.currentTime;p&&U>0&&(U-=p.duration+p.delay),u.styles.forEach(me=>{"string"!=typeof me&&me.forEach((we,We)=>{const Mt=a.collectedStyles.get(a.currentQuerySelector),Wt=Mt.get(We);let Dn=!0;Wt&&(U!=x&&U>=Wt.startTime&&x<=Wt.endTime&&(a.errors.push(function wi(b,u,a,p,x){return new f.vHH(3010,!1)}()),Dn=!1),U=Wt.startTime),Dn&&Mt.set(We,{startTime:U,endTime:x}),a.options&&function Fl(b,u,a){const p=u.params||{},x=md(b);x.length&&x.forEach(U=>{p.hasOwnProperty(U)||a.push(function F(b){return new f.vHH(3001,!1)}())})}(we,a.options,a.errors)})})}visitKeyframes(u,a){const p={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push(function zn(){return new f.vHH(3011,!1)}()),p;let U=0;const me=[];let we=!1,We=!1,Mt=0;const Wt=u.steps.map(Qi=>{const ws=this._makeStyleAst(Qi,a);let kr=null!=ws.offset?ws.offset:function Jd(b){if("string"==typeof b)return null;let u=null;if(Array.isArray(b))b.forEach(a=>{if(a instanceof Map&&a.has("offset")){const p=a;u=parseFloat(p.get("offset")),p.delete("offset")}});else if(b instanceof Map&&b.has("offset")){const a=b;u=parseFloat(a.get("offset")),a.delete("offset")}return u}(ws.styles),Tr=0;return null!=kr&&(U++,Tr=ws.offset=kr),We=We||Tr<0||Tr>1,we=we||Tr<Mt,Mt=Tr,me.push(Tr),ws});We&&a.errors.push(function ui(){return new f.vHH(3012,!1)}()),we&&a.errors.push(function zr(){return new f.vHH(3200,!1)}());const Dn=u.steps.length;let ai=0;U>0&&U<Dn?a.errors.push(function Cr(){return new f.vHH(3202,!1)}()):0==U&&(ai=1/(Dn-1));const li=Dn-1,ci=a.currentTime,pi=a.currentAnimateTimings,tr=pi.duration;return Wt.forEach((Qi,ws)=>{const kr=ai>0?ws==li?1:ai*ws:me[ws],Tr=kr*tr;a.currentTime=ci+pi.delay+Tr,pi.duration=Tr,this._validateStyleAst(Qi,a),Qi.offset=kr,p.styles.push(Qi)}),p}visitReference(u,a){return{type:8,animation:re(this,wc(u.animation),a),options:xr(u.options)}}visitAnimateChild(u,a){return a.depCount++,{type:9,options:xr(u.options)}}visitAnimateRef(u,a){return{type:10,animation:this.visitReference(u.animation,a),options:xr(u.options)}}visitQuery(u,a){const p=a.currentQuerySelector,x=u.options||{};a.queryCount++,a.currentQuery=u;const[U,me]=function $h(b){const u=!!b.split(/\s*,\s*/).find(a=>":self"==a);return u&&(b=b.replace(zu,"")),b=b.replace(/@\*/g,jc).replace(/@\w+/g,a=>jc+"-"+a.slice(1)).replace(/:animating/g,Jl),[b,u]}(u.selector);a.currentQuerySelector=p.length?p+" "+U:U,Ts(a.collectedStyles,a.currentQuerySelector,new Map);const we=re(this,wc(u.animation),a);return a.currentQuery=null,a.currentQuerySelector=p,{type:11,selector:U,limit:x.limit||0,optional:!!x.optional,includeSelf:me,animation:we,originalSelector:u.selector,options:xr(u.options)}}visitStagger(u,a){a.currentQuery||a.errors.push(function Wl(){return new f.vHH(3013,!1)}());const p="full"===u.timings?{duration:0,delay:0,easing:"full"}:Ra(u.timings,a.errors,!0);return{type:12,animation:re(this,wc(u.animation),a),timings:p,options:null}}}class Yc{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xr(b){return b?(b=ec(b)).params&&(b.params=function ip(b){return b?ec(b):null}(b.params)):b={},b}function Wu(b,u,a){return{duration:b,delay:u,easing:a}}function gu(b,u,a,p,x,U,me=null,we=!1){return{type:1,element:b,keyframes:u,preStyleProps:a,postStyleProps:p,duration:x,delay:U,totalTime:x+U,easing:me,subTimeline:we}}class _l{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,a){let p=this._map.get(u);p||this._map.set(u,p=[]),p.push(...a)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const Yu=new RegExp(":enter","g"),eh=new RegExp(":leave","g");function mu(b,u,a,p,x,U=new Map,me=new Map,we,We,Mt=[]){return(new Wh).buildKeyframes(b,u,a,p,x,U,me,we,We,Mt)}class Wh{buildKeyframes(u,a,p,x,U,me,we,We,Mt,Wt=[]){Mt=Mt||new _l;const Dn=new yd(u,a,Mt,x,U,Wt,[]);Dn.options=We;const ai=We.delay?nl(We.delay):0;Dn.currentTimeline.delayNextStep(ai),Dn.currentTimeline.setStyles([me],null,Dn.errors,We),re(this,p,Dn);const li=Dn.timelines.filter(ci=>ci.containsAnimation());if(li.length&&we.size){let ci;for(let pi=li.length-1;pi>=0;pi--){const tr=li[pi];if(tr.element===a){ci=tr;break}}ci&&!ci.allowOnlyTimelineStyles()&&ci.setStyles([we],null,Dn.errors,We)}return li.length?li.map(ci=>ci.buildKeyframes()):[gu(a,[],[],[],0,ai,"",!1)]}visitTrigger(u,a){}visitState(u,a){}visitTransition(u,a){}visitAnimateChild(u,a){const p=a.subInstructions.get(a.element);if(p){const x=a.createSubContext(u.options),U=a.currentTimeline.currentTime,me=this._visitSubInstructions(p,x,x.options);U!=me&&a.transformIntoNewTimeline(me)}a.previousNode=u}visitAnimateRef(u,a){const p=a.createSubContext(u.options);p.transformIntoNewTimeline(),this.visitReference(u.animation,p),a.transformIntoNewTimeline(p.currentTimeline.currentTime),a.previousNode=u}_visitSubInstructions(u,a,p){let U=a.currentTimeline.currentTime;const me=null!=p.duration?nl(p.duration):null,we=null!=p.delay?nl(p.delay):null;return 0!==me&&u.forEach(We=>{const Mt=a.appendInstructionToTimeline(We,me,we);U=Math.max(U,Mt.duration+Mt.delay)}),U}visitReference(u,a){a.updateOptions(u.options,!0),re(this,u.animation,a),a.previousNode=u}visitSequence(u,a){const p=a.subContextCount;let x=a;const U=u.options;if(U&&(U.params||U.delay)&&(x=a.createSubContext(U),x.transformIntoNewTimeline(),null!=U.delay)){6==x.previousNode.type&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=_d);const me=nl(U.delay);x.delayNextStep(me)}u.steps.length&&(u.steps.forEach(me=>re(this,me,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>p&&x.transformIntoNewTimeline()),a.previousNode=u}visitGroup(u,a){const p=[];let x=a.currentTimeline.currentTime;const U=u.options&&u.options.delay?nl(u.options.delay):0;u.steps.forEach(me=>{const we=a.createSubContext(u.options);U&&we.delayNextStep(U),re(this,me,we),x=Math.max(x,we.currentTimeline.currentTime),p.push(we.currentTimeline)}),p.forEach(me=>a.currentTimeline.mergeTimelineCollectedStyles(me)),a.transformIntoNewTimeline(x),a.previousNode=u}_visitTiming(u,a){if(u.dynamic){const p=u.strValue;return Ra(a.params?Wr(p,a.params,a.errors):p,a.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,a){const p=a.currentAnimateTimings=this._visitTiming(u.timings,a),x=a.currentTimeline;p.delay&&(a.incrementTime(p.delay),x.snapshotCurrentStyles());const U=u.style;5==U.type?this.visitKeyframes(U,a):(a.incrementTime(p.duration),this.visitStyle(U,a),x.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=u}visitStyle(u,a){const p=a.currentTimeline,x=a.currentAnimateTimings;!x&&p.hasCurrentStyleProperties()&&p.forwardFrame();const U=x&&x.easing||u.easing;u.isEmptyStep?p.applyEmptyStep(U):p.setStyles(u.styles,U,a.errors,a.options),a.previousNode=u}visitKeyframes(u,a){const p=a.currentAnimateTimings,x=a.currentTimeline.duration,U=p.duration,we=a.createSubContext().currentTimeline;we.easing=p.easing,u.styles.forEach(We=>{we.forwardTime((We.offset||0)*U),we.setStyles(We.styles,We.easing,a.errors,a.options),we.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(we),a.transformIntoNewTimeline(x+U),a.previousNode=u}visitQuery(u,a){const p=a.currentTimeline.currentTime,x=u.options||{},U=x.delay?nl(x.delay):0;U&&(6===a.previousNode.type||0==p&&a.currentTimeline.hasCurrentStyleProperties())&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=_d);let me=p;const we=a.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!x.optional,a.errors);a.currentQueryTotal=we.length;let We=null;we.forEach((Mt,Wt)=>{a.currentQueryIndex=Wt;const Dn=a.createSubContext(u.options,Mt);U&&Dn.delayNextStep(U),Mt===a.element&&(We=Dn.currentTimeline),re(this,u.animation,Dn),Dn.currentTimeline.applyStylesToKeyframe(),me=Math.max(me,Dn.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(me),We&&(a.currentTimeline.mergeTimelineCollectedStyles(We),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=u}visitStagger(u,a){const p=a.parentContext,x=a.currentTimeline,U=u.timings,me=Math.abs(U.duration),we=me*(a.currentQueryTotal-1);let We=me*a.currentQueryIndex;switch(U.duration<0?"reverse":U.easing){case"reverse":We=we-We;break;case"full":We=p.currentStaggerTime}const Wt=a.currentTimeline;We&&Wt.delayNextStep(We);const Dn=Wt.currentTime;re(this,u.animation,a),a.previousNode=u,p.currentStaggerTime=x.currentTime-Dn+(x.startTime-p.currentTimeline.startTime)}}const _d={};class yd{constructor(u,a,p,x,U,me,we,We){this._driver=u,this.element=a,this.subInstructions=p,this._enterClassName=x,this._leaveClassName=U,this.errors=me,this.timelines=we,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_d,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=We||new ka(this._driver,a,0),we.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,a){if(!u)return;const p=u;let x=this.options;null!=p.duration&&(x.duration=nl(p.duration)),null!=p.delay&&(x.delay=nl(p.delay));const U=p.params;if(U){let me=x.params;me||(me=this.options.params={}),Object.keys(U).forEach(we=>{(!a||!me.hasOwnProperty(we))&&(me[we]=Wr(U[we],me,this.errors))})}}_copyOptions(){const u={};if(this.options){const a=this.options.params;if(a){const p=u.params={};Object.keys(a).forEach(x=>{p[x]=a[x]})}}return u}createSubContext(u=null,a,p){const x=a||this.element,U=new yd(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,p||0));return U.previousNode=this.previousNode,U.currentAnimateTimings=this.currentAnimateTimings,U.options=this._copyOptions(),U.updateOptions(u),U.currentQueryIndex=this.currentQueryIndex,U.currentQueryTotal=this.currentQueryTotal,U.parentContext=this,this.subContextCount++,U}transformIntoNewTimeline(u){return this.previousNode=_d,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,a,p){const x={duration:a??u.duration,delay:this.currentTimeline.currentTime+(p??0)+u.delay,easing:""},U=new th(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,x,u.stretchStartingKeyframe);return this.timelines.push(U),x}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,a,p,x,U,me){let we=[];if(x&&we.push(this.element),u.length>0){u=(u=u.replace(Yu,"."+this._enterClassName)).replace(eh,"."+this._leaveClassName);let Mt=this._driver.query(this.element,u,1!=p);0!==p&&(Mt=p<0?Mt.slice(Mt.length+p,Mt.length):Mt.slice(0,p)),we.push(...Mt)}return!U&&0==we.length&&me.push(function Ta(b){return new f.vHH(3014,!1)}()),we}}class ka{constructor(u,a,p,x){this._driver=u,this.element=a,this.startTime=p,this._elementTimelineStylesLookup=x,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const a=1===this._keyframes.size&&this._pendingStyles.size;this.duration||a?(this.forwardTime(this.currentTime+u),a&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,a){return this.applyStylesToKeyframe(),new ka(this._driver,u,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,a){this._localTimelineStyles.set(u,a),this._globalTimelineStyles.set(u,a),this._styleSummary.set(u,{time:this.currentTime,value:a})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&this._previousKeyframe.set("easing",u);for(let[a,p]of this._globalTimelineStyles)this._backFill.set(a,p||Qn.l3),this._currentKeyframe.set(a,Qn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,a,p,x){a&&this._previousKeyframe.set("easing",a);const U=x&&x.params||{},me=function Yh(b,u){const a=new Map;let p;return b.forEach(x=>{if("*"===x){p=p||u.keys();for(let U of p)a.set(U,Qn.l3)}else Pl(x,a)}),a}(u,this._globalTimelineStyles);for(let[we,We]of me){const Mt=Wr(We,U,p);this._pendingStyles.set(we,Mt),this._localTimelineStyles.has(we)||this._backFill.set(we,this._globalTimelineStyles.get(we)??Qn.l3),this._updateStyle(we,Mt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((u,a)=>{this._currentKeyframe.set(a,u)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((u,a)=>{this._currentKeyframe.has(a)||this._currentKeyframe.set(a,u)}))}snapshotCurrentStyles(){for(let[u,a]of this._localTimelineStyles)this._pendingStyles.set(u,a),this._updateStyle(u,a)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let a in this._currentKeyframe)u.push(a);return u}mergeTimelineCollectedStyles(u){u._styleSummary.forEach((a,p)=>{const x=this._styleSummary.get(p);(!x||a.time>x.time)&&this._updateStyle(p,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,a=new Set,p=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((we,We)=>{const Mt=Pl(we,new Map,this._backFill);Mt.forEach((Wt,Dn)=>{Wt===Qn.k1?u.add(Dn):Wt===Qn.l3&&a.add(Dn)}),p||Mt.set("offset",We/this.duration),x.push(Mt)});const U=u.size?Wi(u.values()):[],me=a.size?Wi(a.values()):[];if(p){const we=x[0],We=new Map(we);we.set("offset",0),We.set("offset",1),x=[we,We]}return gu(this.element,x,U,me,this.duration,this.startTime,this.easing,!1)}}class th extends ka{constructor(u,a,p,x,U,me,we=!1){super(u,a,me.delay),this.keyframes=p,this.preStyleProps=x,this.postStyleProps=U,this._stretchStartingKeyframe=we,this.timings={duration:me.duration,delay:me.delay,easing:me.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:a,duration:p,easing:x}=this.timings;if(this._stretchStartingKeyframe&&a){const U=[],me=p+a,we=a/me,We=Pl(u[0]);We.set("offset",0),U.push(We);const Mt=Pl(u[0]);Mt.set("offset",Kh(we)),U.push(Mt);const Wt=u.length-1;for(let Dn=1;Dn<=Wt;Dn++){let ai=Pl(u[Dn]);const li=ai.get("offset");ai.set("offset",Kh((a+li*p)/me)),U.push(ai)}p=me,a=0,x="",u=U}return gu(this.element,u,this.preStyleProps,this.postStyleProps,p,a,x,!0)}}function Kh(b,u=3){const a=Math.pow(10,u-1);return Math.round(b*a)/a}class _u{}const nh=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class sp extends _u{normalizePropertyName(u,a){return g(u)}normalizeStyleValue(u,a,p,x){let U="";const me=p.toString().trim();if(nh.has(a)&&0!==p&&"0"!==p)if("number"==typeof p)U="px";else{const we=p.match(/^[+-]?[\d\.]+([a-z]*)$/);we&&0==we[1].length&&x.push(function Ve(b,u){return new f.vHH(3005,!1)}())}return me+U}}function ih(b,u,a,p,x,U,me,we,We,Mt,Wt,Dn,ai){return{type:0,element:b,triggerName:u,isRemovalTransition:x,fromState:a,fromStyles:U,toState:p,toStyles:me,timelines:we,queriedElements:We,preStyleProps:Mt,postStyleProps:Wt,totalTime:Dn,errors:ai}}const qc={};class Zc{constructor(u,a,p){this._triggerName=u,this.ast=a,this._stateStyles=p}match(u,a,p,x){return function op(b,u,a,p,x){return b.some(U=>U(u,a,p,x))}(this.ast.matchers,u,a,p,x)}buildStyles(u,a,p){let x=this._stateStyles.get("*");return void 0!==u&&(x=this._stateStyles.get(u?.toString())||x),x?x.buildStyles(a,p):new Map}build(u,a,p,x,U,me,we,We,Mt,Wt){const Dn=[],ai=this.ast.options&&this.ast.options.params||qc,ci=this.buildStyles(p,we&&we.params||qc,Dn),pi=We&&We.params||qc,tr=this.buildStyles(x,pi,Dn),Qi=new Set,ws=new Map,kr=new Map,Tr="void"===x,pa={params:yu(pi,ai),delay:this.ast.options?.delay},Pa=Wt?[]:mu(u,a,this.ast.animation,U,me,ci,tr,pa,Mt,Dn);let xo=0;if(Pa.forEach(ol=>{xo=Math.max(ol.duration+ol.delay,xo)}),Dn.length)return ih(a,this._triggerName,p,x,Tr,ci,tr,[],[],ws,kr,xo,Dn);Pa.forEach(ol=>{const Ul=ol.element,lf=Ts(ws,Ul,new Set);ol.preStyleProps.forEach(Jc=>lf.add(Jc));const Cu=Ts(kr,Ul,new Set);ol.postStyleProps.forEach(Jc=>Cu.add(Jc)),Ul!==a&&Qi.add(Ul)});const wl=Wi(Qi.values());return ih(a,this._triggerName,p,x,Tr,ci,tr,Pa,wl,ws,kr,xo)}}function yu(b,u){const a=ec(u);for(const p in b)b.hasOwnProperty(p)&&null!=b[p]&&(a[p]=b[p]);return a}class vu{constructor(u,a,p){this.styles=u,this.defaultParams=a,this.normalizer=p}buildStyles(u,a){const p=new Map,x=ec(this.defaultParams);return Object.keys(u).forEach(U=>{const me=u[U];null!==me&&(x[U]=me)}),this.styles.styles.forEach(U=>{"string"!=typeof U&&U.forEach((me,we)=>{me&&(me=Wr(me,x,a));const We=this.normalizer.normalizePropertyName(we,a);me=this.normalizer.normalizeStyleValue(we,We,me,a),p.set(We,me)})}),p}}class Rg{constructor(u,a,p){this.name=u,this.ast=a,this._normalizer=p,this.transitionFactories=[],this.states=new Map,a.states.forEach(x=>{this.states.set(x.name,new vu(x.style,x.options&&x.options.params||{},p))}),vl(this.states,"true","1"),vl(this.states,"false","0"),a.transitions.forEach(x=>{this.transitionFactories.push(new Zc(u,x,this.states))}),this.fallbackTransition=function rh(b,u,a){return new Zc(b,{type:1,animation:{type:2,steps:[],options:null},matchers:[(me,we)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,a,p,x){return this.transitionFactories.find(me=>me.match(u,a,p,x))||null}matchStyles(u,a,p){return this.fallbackTransition.buildStyles(u,a,p)}}function vl(b,u,a){b.has(u)?b.has(a)||b.set(a,b.get(u)):b.has(a)&&b.set(u,b.get(a))}const qh=new _l;class bd{constructor(u,a,p){this.bodyNode=u,this._driver=a,this._normalizer=p,this._animations=new Map,this._playersById=new Map,this.players=[]}register(u,a){const p=[],U=xc(this._driver,a,p,[]);if(p.length)throw function Bc(b){return new f.vHH(3503,!1)}();this._animations.set(u,U)}_buildPlayer(u,a,p){const x=u.element,U=Rl(0,this._normalizer,0,u.keyframes,a,p);return this._driver.animate(x,U,u.duration,u.delay,u.easing,[],!0)}create(u,a,p={}){const x=[],U=this._animations.get(u);let me;const we=new Map;if(U?(me=mu(this._driver,a,U,Xl,ml,new Map,new Map,p,qh,x),me.forEach(Wt=>{const Dn=Ts(we,Wt.element,new Map);Wt.postStyleProps.forEach(ai=>Dn.set(ai,null))})):(x.push(function Hh(){return new f.vHH(3300,!1)}()),me=[]),x.length)throw function pd(b){return new f.vHH(3504,!1)}();we.forEach((Wt,Dn)=>{Wt.forEach((ai,li)=>{Wt.set(li,this._driver.computeStyle(Dn,li,Qn.l3))})});const Mt=Eo(me.map(Wt=>{const Dn=we.get(Wt.element);return this._buildPlayer(Wt,new Map,Dn)}));return this._playersById.set(u,Mt),Mt.onDestroy(()=>this.destroy(u)),this.players.push(Mt),Mt}destroy(u){const a=this._getPlayer(u);a.destroy(),this._playersById.delete(u);const p=this.players.indexOf(a);p>=0&&this.players.splice(p,1)}_getPlayer(u){const a=this._playersById.get(u);if(!a)throw function Nu(b){return new f.vHH(3301,!1)}();return a}listen(u,a,p,x){const U=yc(a,"","","");return Yl(this._getPlayer(u),p,U,x),()=>{}}command(u,a,p,x){if("register"==p)return void this.register(u,x[0]);if("create"==p)return void this.create(u,a,x[0]||{});const U=this._getPlayer(u);switch(p){case"play":U.play();break;case"pause":U.pause();break;case"reset":U.reset();break;case"restart":U.restart();break;case"finish":U.finish();break;case"init":U.init();break;case"setPosition":U.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(u)}}}const wd="ng-animate-queued",qu="ng-animate-disabled",Og=[],cp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bl="__ng_removed";class Qh{constructor(u,a=""){this.namespaceId=a;const p=u&&u.hasOwnProperty("value");if(this.value=function Jh(b){return b??null}(p?u.value:u),p){const U=ec(u);delete U.value,this.options=U}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(u){const a=u.params;if(a){const p=this.options.params;Object.keys(a).forEach(x=>{null==p[x]&&(p[x]=a[x])})}}}const Ed="void",Xh=new Qh(Ed);class kg{constructor(u,a,p){this.id=u,this.hostElement=a,this._engine=p,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,oo(a,this._hostClassName)}listen(u,a,p,x){if(!this._triggers.has(a))throw function Zd(b,u){return new f.vHH(3302,!1)}();if(null==p||0==p.length)throw function uu(b){return new f.vHH(3303,!1)}();if(!function ah(b){return"start"==b||"done"==b}(p))throw function du(b,u){return new f.vHH(3400,!1)}();const U=Ts(this._elementListeners,u,[]),me={name:a,phase:p,callback:x};U.push(me);const we=Ts(this._engine.statesByElement,u,new Map);return we.has(a)||(oo(u,Uc),oo(u,Uc+"-"+a),we.set(a,Xh)),()=>{this._engine.afterFlush(()=>{const We=U.indexOf(me);We>=0&&U.splice(We,1),this._triggers.has(a)||we.delete(a)})}}register(u,a){return!this._triggers.has(u)&&(this._triggers.set(u,a),!0)}_getTrigger(u){const a=this._triggers.get(u);if(!a)throw function Ml(b){return new f.vHH(3401,!1)}();return a}trigger(u,a,p,x=!0){const U=this._getTrigger(a),me=new Cd(this.id,a,u);let we=this._engine.statesByElement.get(u);we||(oo(u,Uc),oo(u,Uc+"-"+a),this._engine.statesByElement.set(u,we=new Map));let We=we.get(a);const Mt=new Qh(p,this.id);if(!(p&&p.hasOwnProperty("value"))&&We&&Mt.absorbOptions(We.options),we.set(a,Mt),We||(We=Xh),Mt.value!==Ed&&We.value===Mt.value){if(!function dp(b,u){const a=Object.keys(b),p=Object.keys(u);if(a.length!=p.length)return!1;for(let x=0;x<a.length;x++){const U=a[x];if(!u.hasOwnProperty(U)||b[U]!==u[U])return!1}return!0}(We.params,Mt.params)){const pi=[],tr=U.matchStyles(We.value,We.params,pi),Qi=U.matchStyles(Mt.value,Mt.params,pi);pi.length?this._engine.reportError(pi):this._engine.afterFlush(()=>{tc(u,tr),Co(u,Qi)})}return}const ai=Ts(this._engine.playersByElement,u,[]);ai.forEach(pi=>{pi.namespaceId==this.id&&pi.triggerName==a&&pi.queued&&pi.destroy()});let li=U.matchTransition(We.value,Mt.value,u,Mt.params),ci=!1;if(!li){if(!x)return;li=U.fallbackTransition,ci=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:a,transition:li,fromState:We,toState:Mt,player:me,isFallbackTransition:ci}),ci||(oo(u,wd),me.onStart(()=>{Dc(u,wd)})),me.onDone(()=>{let pi=this.players.indexOf(me);pi>=0&&this.players.splice(pi,1);const tr=this._engine.playersByElement.get(u);if(tr){let Qi=tr.indexOf(me);Qi>=0&&tr.splice(Qi,1)}}),this.players.push(me),ai.push(me),me}deregister(u){this._triggers.delete(u),this._engine.statesByElement.forEach(a=>a.delete(u)),this._elementListeners.forEach((a,p)=>{this._elementListeners.set(p,a.filter(x=>x.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const a=this._engine.playersByElement.get(u);a&&(a.forEach(p=>p.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,a){const p=this._engine.driver.query(u,jc,!0);p.forEach(x=>{if(x[bl])return;const U=this._engine.fetchNamespacesByElement(x);U.size?U.forEach(me=>me.triggerLeaveAnimation(x,a,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>p.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(u,a,p,x){const U=this._engine.statesByElement.get(u),me=new Map;if(U){const we=[];if(U.forEach((We,Mt)=>{if(me.set(Mt,We.value),this._triggers.has(Mt)){const Wt=this.trigger(u,Mt,Ed,x);Wt&&we.push(Wt)}}),we.length)return this._engine.markElementAsRemoved(this.id,u,!0,a,me),p&&Eo(we).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const a=this._elementListeners.get(u),p=this._engine.statesByElement.get(u);if(a&&p){const x=new Set;a.forEach(U=>{const me=U.name;if(x.has(me))return;x.add(me);const We=this._triggers.get(me).fallbackTransition,Mt=p.get(me)||Xh,Wt=new Qh(Ed),Dn=new Cd(this.id,me,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:me,transition:We,fromState:Mt,toState:Wt,player:Dn,isFallbackTransition:!0})})}}removeNode(u,a){const p=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,a),this.triggerLeaveAnimation(u,a,!0))return;let x=!1;if(p.totalAnimations){const U=p.players.length?p.playersByQueriedElement.get(u):[];if(U&&U.length)x=!0;else{let me=u;for(;me=me.parentNode;)if(p.statesByElement.get(me)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(u),x)p.markElementAsRemoved(this.id,u,!1,a);else{const U=u[bl];(!U||U===cp)&&(p.afterFlush(()=>this.clearElementCache(u)),p.destroyInnerAnimations(u),p._onRemovalComplete(u,a))}}insertNode(u,a){oo(u,this._hostClassName)}drainQueuedTransitions(u){const a=[];return this._queue.forEach(p=>{const x=p.player;if(x.destroyed)return;const U=p.element,me=this._elementListeners.get(U);me&&me.forEach(we=>{if(we.name==p.triggerName){const We=yc(U,p.triggerName,p.fromState.value,p.toState.value);We._data=u,Yl(p.player,we.phase,We,we.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):a.push(p)}),this._queue=[],a.sort((p,x)=>{const U=p.transition.ast.depCount,me=x.transition.ast.depCount;return 0==U||0==me?U-me:this._engine.driver.containsElement(p.element,x.element)?1:-1})}destroy(u){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}elementContainsData(u){let a=!1;return this._elementListeners.has(u)&&(a=!0),a=!!this._queue.find(p=>p.element===u)||a,a}}class up{constructor(u,a,p){this.bodyNode=u,this.driver=a,this._normalizer=p,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(x,U)=>{}}_onRemovalComplete(u,a){this.onRemovalComplete(u,a)}get queuedPlayers(){const u=[];return this._namespaceList.forEach(a=>{a.players.forEach(p=>{p.queued&&u.push(p)})}),u}createNamespace(u,a){const p=new kg(u,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(p,a):(this.newHostElements.set(a,p),this.collectEnterElement(a)),this._namespaceLookup[u]=p}_balanceNamespaceList(u,a){const p=this._namespaceList,x=this.namespacesByHostElement;if(p.length-1>=0){let me=!1,we=this.driver.getParentElement(a);for(;we;){const We=x.get(we);if(We){const Mt=p.indexOf(We);p.splice(Mt+1,0,u),me=!0;break}we=this.driver.getParentElement(we)}me||p.unshift(u)}else p.push(u);return x.set(a,u),u}register(u,a){let p=this._namespaceLookup[u];return p||(p=this.createNamespace(u,a)),p}registerTrigger(u,a,p){let x=this._namespaceLookup[u];x&&x.register(a,p)&&this.totalAnimations++}destroy(u,a){if(!u)return;const p=this._fetchNamespace(u);this.afterFlush(()=>{this.namespacesByHostElement.delete(p.hostElement),delete this._namespaceLookup[u];const x=this._namespaceList.indexOf(p);x>=0&&this._namespaceList.splice(x,1)}),this.afterFlushAnimationsDone(()=>p.destroy(a))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const a=new Set,p=this.statesByElement.get(u);if(p)for(let x of p.values())if(x.namespaceId){const U=this._fetchNamespace(x.namespaceId);U&&a.add(U)}return a}trigger(u,a,p,x){if(bu(a)){const U=this._fetchNamespace(u);if(U)return U.trigger(a,p,x),!0}return!1}insertNode(u,a,p,x){if(!bu(a))return;const U=a[bl];if(U&&U.setForRemoval){U.setForRemoval=!1,U.setForMove=!0;const me=this.collectedLeaveElements.indexOf(a);me>=0&&this.collectedLeaveElements.splice(me,1)}if(u){const me=this._fetchNamespace(u);me&&me.insertNode(a,p)}x&&this.collectEnterElement(a)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,a){a?this.disabledNodes.has(u)||(this.disabledNodes.add(u),oo(u,qu)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Dc(u,qu))}removeNode(u,a,p,x){if(bu(a)){const U=u?this._fetchNamespace(u):null;if(U?U.removeNode(a,x):this.markElementAsRemoved(u,a,!1,x),p){const me=this.namespacesByHostElement.get(a);me&&me.id!==u&&me.removeNode(a,x)}}else this._onRemovalComplete(a,x)}markElementAsRemoved(u,a,p,x,U){this.collectedLeaveElements.push(a),a[bl]={namespaceId:u,setForRemoval:x,hasAnimation:p,removedBeforeQueried:!1,previousTriggersValues:U}}listen(u,a,p,x,U){return bu(a)?this._fetchNamespace(u).listen(a,p,x,U):()=>{}}_buildInstruction(u,a,p,x,U){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,p,x,u.fromState.options,u.toState.options,a,U)}destroyInnerAnimations(u){let a=this.driver.query(u,jc,!0);a.forEach(p=>this.destroyActiveAnimationsForElement(p)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(u,Jl,!0),a.forEach(p=>this.finishActiveQueriedAnimationOnElement(p)))}destroyActiveAnimationsForElement(u){const a=this.playersByElement.get(u);a&&a.forEach(p=>{p.queued?p.markedForDestroy=!0:p.destroy()})}finishActiveQueriedAnimationOnElement(u){const a=this.playersByQueriedElement.get(u);a&&a.forEach(p=>p.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return Eo(this.players).onDone(()=>u());u()})}processLeaveNode(u){const a=u[bl];if(a&&a.setForRemoval){if(u[bl]=cp,a.namespaceId){this.destroyInnerAnimations(u);const p=this._fetchNamespace(a.namespaceId);p&&p.clearElementCache(u)}this._onRemovalComplete(u,a.setForRemoval)}u.classList?.contains(qu)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(p=>{this.markElementAsDisabled(p,!1)})}flush(u=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((p,x)=>this._balanceNamespaceList(p,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let p=0;p<this.collectedEnterElements.length;p++)oo(this.collectedEnterElements[p],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const p=[];try{a=this._flushAnimations(p,u)}finally{for(let x=0;x<p.length;x++)p[x]()}}else for(let p=0;p<this.collectedLeaveElements.length;p++)this.processLeaveNode(this.collectedLeaveElements[p]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(p=>p()),this._flushFns=[],this._whenQuietFns.length){const p=this._whenQuietFns;this._whenQuietFns=[],a.length?Eo(a).onDone(()=>{p.forEach(x=>x())}):p.forEach(x=>x())}}reportError(u){throw function Kl(b){return new f.vHH(3402,!1)}()}_flushAnimations(u,a){const p=new _l,x=[],U=new Map,me=[],we=new Map,We=new Map,Mt=new Map,Wt=new Set;this.disabledNodes.forEach(Yn=>{Wt.add(Yn);const gi=this.driver.query(Yn,".ng-animate-queued",!0);for(let bi=0;bi<gi.length;bi++)Wt.add(gi[bi])});const Dn=this.bodyNode,ai=Array.from(this.statesByElement.keys()),li=Ms(ai,this.collectedEnterElements),ci=new Map;let pi=0;li.forEach((Yn,gi)=>{const bi=Xl+pi++;ci.set(gi,bi),Yn.forEach(rr=>oo(rr,bi))});const tr=[],Qi=new Set,ws=new Set;for(let Yn=0;Yn<this.collectedLeaveElements.length;Yn++){const gi=this.collectedLeaveElements[Yn],bi=gi[bl];bi&&bi.setForRemoval&&(tr.push(gi),Qi.add(gi),bi.hasAnimation?this.driver.query(gi,".ng-star-inserted",!0).forEach(rr=>Qi.add(rr)):ws.add(gi))}const kr=new Map,Tr=Ms(ai,Array.from(Qi));Tr.forEach((Yn,gi)=>{const bi=ml+pi++;kr.set(gi,bi),Yn.forEach(rr=>oo(rr,bi))}),u.push(()=>{li.forEach((Yn,gi)=>{const bi=ci.get(gi);Yn.forEach(rr=>Dc(rr,bi))}),Tr.forEach((Yn,gi)=>{const bi=kr.get(gi);Yn.forEach(rr=>Dc(rr,bi))}),tr.forEach(Yn=>{this.processLeaveNode(Yn)})});const pa=[],Pa=[];for(let Yn=this._namespaceList.length-1;Yn>=0;Yn--)this._namespaceList[Yn].drainQueuedTransitions(a).forEach(bi=>{const rr=bi.player,Qs=bi.element;if(pa.push(rr),this.collectedEnterElements.length){const ta=Qs[bl];if(ta&&ta.setForMove){if(ta.previousTriggersValues&&ta.previousTriggersValues.has(bi.triggerName)){const jl=ta.previousTriggersValues.get(bi.triggerName),Fa=this.statesByElement.get(bi.element);if(Fa&&Fa.has(bi.triggerName)){const Xu=Fa.get(bi.triggerName);Xu.value=jl,Fa.set(bi.triggerName,Xu)}}return void rr.destroy()}}const El=!Dn||!this.driver.containsElement(Dn,Qs),ga=kr.get(Qs),Vo=ci.get(Qs),Ui=this._buildInstruction(bi,p,Vo,ga,El);if(Ui.errors&&Ui.errors.length)return void Pa.push(Ui);if(El)return rr.onStart(()=>tc(Qs,Ui.fromStyles)),rr.onDestroy(()=>Co(Qs,Ui.toStyles)),void x.push(rr);if(bi.isFallbackTransition)return rr.onStart(()=>tc(Qs,Ui.fromStyles)),rr.onDestroy(()=>Co(Qs,Ui.toStyles)),void x.push(rr);const fh=[];Ui.timelines.forEach(ta=>{ta.stretchStartingKeyframe=!0,this.disabledNodes.has(ta.element)||fh.push(ta)}),Ui.timelines=fh,p.append(Qs,Ui.timelines),me.push({instruction:Ui,player:rr,element:Qs}),Ui.queriedElements.forEach(ta=>Ts(we,ta,[]).push(rr)),Ui.preStyleProps.forEach((ta,jl)=>{if(ta.size){let Fa=We.get(jl);Fa||We.set(jl,Fa=new Set),ta.forEach((Xu,eu)=>Fa.add(eu))}}),Ui.postStyleProps.forEach((ta,jl)=>{let Fa=Mt.get(jl);Fa||Mt.set(jl,Fa=new Set),ta.forEach((Xu,eu)=>Fa.add(eu))})});if(Pa.length){const Yn=[];Pa.forEach(gi=>{Yn.push(function Bu(b,u){return new f.vHH(3505,!1)}())}),pa.forEach(gi=>gi.destroy()),this.reportError(Yn)}const xo=new Map,wl=new Map;me.forEach(Yn=>{const gi=Yn.element;p.has(gi)&&(wl.set(gi,gi),this._beforeAnimationBuild(Yn.player.namespaceId,Yn.instruction,xo))}),x.forEach(Yn=>{const gi=Yn.element;this._getPreviousPlayers(gi,!1,Yn.namespaceId,Yn.triggerName,null).forEach(rr=>{Ts(xo,gi,[]).push(rr),rr.destroy()})});const ol=tr.filter(Yn=>ch(Yn,We,Mt)),Ul=new Map;Id(Ul,this.driver,ws,Mt,Qn.l3).forEach(Yn=>{ch(Yn,We,Mt)&&ol.push(Yn)});const Cu=new Map;li.forEach((Yn,gi)=>{Id(Cu,this.driver,new Set(Yn),We,Qn.k1)}),ol.forEach(Yn=>{const gi=Ul.get(Yn),bi=Cu.get(Yn);Ul.set(Yn,new Map([...Array.from(gi?.entries()??[]),...Array.from(bi?.entries()??[])]))});const Jc=[],hh=[],oc={};me.forEach(Yn=>{const{element:gi,player:bi,instruction:rr}=Yn;if(p.has(gi)){if(Wt.has(gi))return bi.onDestroy(()=>Co(gi,rr.toStyles)),bi.disabled=!0,bi.overrideTotalTime(rr.totalTime),void x.push(bi);let Qs=oc;if(wl.size>1){let ga=gi;const Vo=[];for(;ga=ga.parentNode;){const Ui=wl.get(ga);if(Ui){Qs=Ui;break}Vo.push(ga)}Vo.forEach(Ui=>wl.set(Ui,Qs))}const El=this._buildAnimation(bi.namespaceId,rr,xo,U,Cu,Ul);if(bi.setRealPlayer(El),Qs===oc)Jc.push(bi);else{const ga=this.playersByElement.get(Qs);ga&&ga.length&&(bi.parentPlayer=Eo(ga)),x.push(bi)}}else tc(gi,rr.fromStyles),bi.onDestroy(()=>Co(gi,rr.toStyles)),hh.push(bi),Wt.has(gi)&&x.push(bi)}),hh.forEach(Yn=>{const gi=U.get(Yn.element);if(gi&&gi.length){const bi=Eo(gi);Yn.setRealPlayer(bi)}}),x.forEach(Yn=>{Yn.parentPlayer?Yn.syncPlayerEvents(Yn.parentPlayer):Yn.destroy()});for(let Yn=0;Yn<tr.length;Yn++){const gi=tr[Yn],bi=gi[bl];if(Dc(gi,ml),bi&&bi.hasAnimation)continue;let rr=[];if(we.size){let El=we.get(gi);El&&El.length&&rr.push(...El);let ga=this.driver.query(gi,Jl,!0);for(let Vo=0;Vo<ga.length;Vo++){let Ui=we.get(ga[Vo]);Ui&&Ui.length&&rr.push(...Ui)}}const Qs=rr.filter(El=>!El.destroyed);Qs.length?lh(this,gi,Qs):this.processLeaveNode(gi)}return tr.length=0,Jc.forEach(Yn=>{this.players.push(Yn),Yn.onDone(()=>{Yn.destroy();const gi=this.players.indexOf(Yn);this.players.splice(gi,1)}),Yn.play()}),Jc}elementContainsData(u,a){let p=!1;const x=a[bl];return x&&x.setForRemoval&&(p=!0),this.playersByElement.has(a)&&(p=!0),this.playersByQueriedElement.has(a)&&(p=!0),this.statesByElement.has(a)&&(p=!0),this._fetchNamespace(u).elementContainsData(a)||p}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,a,p,x,U){let me=[];if(a){const we=this.playersByQueriedElement.get(u);we&&(me=we)}else{const we=this.playersByElement.get(u);if(we){const We=!U||U==Ed;we.forEach(Mt=>{Mt.queued||!We&&Mt.triggerName!=x||me.push(Mt)})}}return(p||x)&&(me=me.filter(we=>!(p&&p!=we.namespaceId||x&&x!=we.triggerName))),me}_beforeAnimationBuild(u,a,p){const U=a.element,me=a.isRemovalTransition?void 0:u,we=a.isRemovalTransition?void 0:a.triggerName;for(const We of a.timelines){const Mt=We.element,Wt=Mt!==U,Dn=Ts(p,Mt,[]);this._getPreviousPlayers(Mt,Wt,me,we,a.toState).forEach(li=>{const ci=li.getRealPlayer();ci.beforeDestroy&&ci.beforeDestroy(),li.destroy(),Dn.push(li)})}tc(U,a.fromStyles)}_buildAnimation(u,a,p,x,U,me){const we=a.triggerName,We=a.element,Mt=[],Wt=new Set,Dn=new Set,ai=a.timelines.map(ci=>{const pi=ci.element;Wt.add(pi);const tr=pi[bl];if(tr&&tr.removedBeforeQueried)return new Qn.ZN(ci.duration,ci.delay);const Qi=pi!==We,ws=function Ic(b){const u=[];return Ad(b,u),u}((p.get(pi)||Og).map(xo=>xo.getRealPlayer())).filter(xo=>!!xo.element&&xo.element===pi),kr=U.get(pi),Tr=me.get(pi),pa=Rl(0,this._normalizer,0,ci.keyframes,kr,Tr),Pa=this._buildPlayer(ci,pa,ws);if(ci.subTimeline&&x&&Dn.add(pi),Qi){const xo=new Cd(u,we,pi);xo.setRealPlayer(Pa),Mt.push(xo)}return Pa});Mt.forEach(ci=>{Ts(this.playersByQueriedElement,ci.element,[]).push(ci),ci.onDone(()=>function xd(b,u,a){let p=b.get(u);if(p){if(p.length){const x=p.indexOf(a);p.splice(x,1)}0==p.length&&b.delete(u)}return p}(this.playersByQueriedElement,ci.element,ci))}),Wt.forEach(ci=>oo(ci,bc));const li=Eo(ai);return li.onDestroy(()=>{Wt.forEach(ci=>Dc(ci,bc)),Co(We,a.toStyles)}),Dn.forEach(ci=>{Ts(x,ci,[]).push(li)}),li}_buildPlayer(u,a,p){return a.length>0?this.driver.animate(u.element,a,u.duration,u.delay,u.easing,p):new Qn.ZN(u.duration,u.delay)}}class Cd{constructor(u,a,p){this.namespaceId=u,this.triggerName=a,this.element=p,this._player=new Qn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,this._queuedCallbacks.forEach((a,p)=>{a.forEach(x=>Yl(u,p,void 0,x))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const a=this._player;a.triggerCallback&&u.onStart(()=>a.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,a){Ts(this._queuedCallbacks,u,[]).push(a)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const a=this._player;a.triggerCallback&&a.triggerCallback(u)}}function bu(b){return b&&1===b.nodeType}function Dd(b,u){const a=b.style.display;return b.style.display=u??"none",a}function Id(b,u,a,p,x){const U=[];a.forEach(We=>U.push(Dd(We)));const me=[];p.forEach((We,Mt)=>{const Wt=new Map;We.forEach(Dn=>{const ai=u.computeStyle(Mt,Dn,x);Wt.set(Dn,ai),(!ai||0==ai.length)&&(Mt[bl]=oh,me.push(Mt))}),b.set(Mt,Wt)});let we=0;return a.forEach(We=>Dd(We,U[we++])),me}function Ms(b,u){const a=new Map;if(b.forEach(we=>a.set(we,[])),0==u.length)return a;const x=new Set(u),U=new Map;function me(we){if(!we)return 1;let We=U.get(we);if(We)return We;const Mt=we.parentNode;return We=a.has(Mt)?Mt:x.has(Mt)?1:me(Mt),U.set(we,We),We}return u.forEach(we=>{const We=me(we);1!==We&&a.get(We).push(we)}),a}function oo(b,u){b.classList?.add(u)}function Dc(b,u){b.classList?.remove(u)}function lh(b,u,a){Eo(a).onDone(()=>b.processLeaveNode(u))}function Ad(b,u){for(let a=0;a<b.length;a++){const p=b[a];p instanceof Qn.ZE?Ad(p.players,u):u.push(p)}}function ch(b,u,a){const p=a.get(b);if(!p)return!1;let x=u.get(b);return x?p.forEach(U=>x.add(U)):u.set(b,p),a.delete(b),!0}class Qc{constructor(u,a,p){this.bodyNode=u,this._driver=a,this._normalizer=p,this._triggerCache={},this.onRemovalComplete=(x,U)=>{},this._transitionEngine=new up(u,a,p),this._timelineEngine=new bd(u,a,p),this._transitionEngine.onRemovalComplete=(x,U)=>this.onRemovalComplete(x,U)}registerTrigger(u,a,p,x,U){const me=u+"-"+x;let we=this._triggerCache[me];if(!we){const We=[],Wt=xc(this._driver,U,We,[]);if(We.length)throw function Or(b,u){return new f.vHH(3404,!1)}();we=function ea(b,u,a){return new Rg(b,u,a)}(x,Wt,this._normalizer),this._triggerCache[me]=we}this._transitionEngine.registerTrigger(a,x,we)}register(u,a){this._transitionEngine.register(u,a)}destroy(u,a){this._transitionEngine.destroy(u,a)}onInsert(u,a,p,x){this._transitionEngine.insertNode(u,a,p,x)}onRemove(u,a,p,x){this._transitionEngine.removeNode(u,a,x||!1,p)}disableAnimations(u,a){this._transitionEngine.markElementAsDisabled(u,a)}process(u,a,p,x){if("@"==p.charAt(0)){const[U,me]=No(p);this._timelineEngine.command(U,a,me,x)}else this._transitionEngine.trigger(u,a,p,x)}listen(u,a,p,x,U){if("@"==p.charAt(0)){const[me,we]=No(p);return this._timelineEngine.listen(me,a,we,U)}return this._transitionEngine.listen(u,a,p,x,U)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let nc=(()=>{class b{constructor(a,p,x){this._element=a,this._startStyles=p,this._endStyles=x,this._state=0;let U=b.initialStylesByElement.get(a);U||b.initialStylesByElement.set(a,U=new Map),this._initialStyles=U}start(){this._state<1&&(this._startStyles&&Co(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Co(this._element,this._initialStyles),this._endStyles&&(Co(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(b.initialStylesByElement.delete(this._element),this._startStyles&&(tc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tc(this._element,this._endStyles),this._endStyles=null),Co(this._element,this._initialStyles),this._state=3)}}return b.initialStylesByElement=new WeakMap,b})();function ic(b){let u=null;return b.forEach((a,p)=>{(function Zu(b){return"display"===b||"position"===b})(p)&&(u=u||new Map,u.set(p,a))}),u}class uh{constructor(u,a,p,x){this.element=u,this.keyframes=a,this.options=p,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=p.duration,this._delay=p.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(u){const a=[];return u.forEach(p=>{a.push(Object.fromEntries(p))}),a}_triggerWebAnimation(u,a,p){return u.animate(this._convertKeyframesToObject(a),p)}onStart(u){this._originalOnStartFns.push(u),this._onStartFns.push(u)}onDone(u){this._originalOnDoneFns.push(u),this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u=new Map;this.hasStarted()&&this._finalKeyframe.forEach((p,x)=>{"offset"!==x&&u.set(x,this._finished?p:ct(this.element,x))}),this.currentSnapshot=u}triggerCallback(u){const a="start"===u?this._onStartFns:this._onDoneFns;a.forEach(p=>p()),a.length=0}}class Sd{validateStyleProperty(u){return!0}validateAnimatableStyleProperty(u){return!0}matchesElement(u,a){return!1}containsElement(u,a){return Jo(u,a)}getParentElement(u){return vc(u)}query(u,a,p){return ql(u,a,p)}computeStyle(u,a,p){return window.getComputedStyle(u)[a]}animate(u,a,p,x,U,me=[]){const We={duration:p,delay:x,fill:0==x?"both":"forwards"};U&&(We.easing=U);const Mt=new Map,Wt=me.filter(li=>li instanceof uh);(function A(b,u){return 0===b||0===u})(p,x)&&Wt.forEach(li=>{li.currentSnapshot.forEach((ci,pi)=>Mt.set(pi,ci))});let Dn=function fu(b){return b.length?b[0]instanceof Map?b:b.map(u=>Gc(u)):[]}(a).map(li=>Pl(li));Dn=function Y(b,u,a){if(a.size&&u.length){let p=u[0],x=[];if(a.forEach((U,me)=>{p.has(me)||x.push(me),p.set(me,U)}),x.length)for(let U=1;U<u.length;U++){let me=u[U];x.forEach(we=>me.set(we,ct(b,we)))}}return u}(u,Dn,Mt);const ai=function Xc(b,u){let a=null,p=null;return Array.isArray(u)&&u.length?(a=ic(u[0]),u.length>1&&(p=ic(u[u.length-1]))):u instanceof Map&&(a=ic(u)),a||p?new nc(b,a,p):null}(u,Dn);return new uh(u,Dn,We,ai)}}let dh=(()=>{class b extends Qn._j{constructor(a,p){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(p.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(a){const p=this._nextAnimationId.toString();this._nextAnimationId++;const x=Array.isArray(a)?(0,Qn.vP)(a):a;return Td(this._renderer,null,p,"register",[x]),new ef(p,this._renderer)}}return b.\u0275fac=function(a){return new(a||b)(f.LFG(f.FYo),f.LFG(_e.K0))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();class ef extends Qn.LC{constructor(u,a){super(),this._id=u,this._renderer=a}create(u,a){return new Bo(this._id,u,a||{},this._renderer)}}class Bo{constructor(u,a,p,x){this.id=u,this.element=a,this._renderer=x,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",p)}_listen(u,a){return this._renderer.listen(this.element,`@@${this.id}:${u}`,a)}_command(u,...a){return Td(this._renderer,this.element,this.id,u,a)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Td(b,u,a,p,x){return b.setProperty(u,`@@${a}:${p}`,x)}const Qu="@.disabled";let Zs=(()=>{class b{constructor(a,p,x){this.delegate=a,this.engine=p,this._zone=x,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),p.onRemovalComplete=(U,me)=>{const we=me?.parentNode(U);we&&me.removeChild(we,U)}}createRenderer(a,p){const U=this.delegate.createRenderer(a,p);if(!(a&&p&&p.data&&p.data.animation)){let Wt=this._rendererCache.get(U);return Wt||(Wt=new Bl("",U,this.engine),this._rendererCache.set(U,Wt)),Wt}const me=p.id,we=p.id+"-"+this._currentId;this._currentId++,this.engine.register(we,a);const We=Wt=>{Array.isArray(Wt)?Wt.forEach(We):this.engine.registerTrigger(me,we,a,Wt.name,Wt)};return p.data.animation.forEach(We),new rc(this,we,U,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,p,x){a>=0&&a<this._microtaskId?this._zone.run(()=>p(x)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(U=>{const[me,we]=U;me(we)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([p,x]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return b.\u0275fac=function(a){return new(a||b)(f.LFG(f.FYo),f.LFG(Qc),f.LFG(f.R0b))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();class Bl{constructor(u,a,p){this.namespaceId=u,this.delegate=a,this.engine=p,this.destroyNode=this.delegate.destroyNode?x=>a.destroyNode(x):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(u,a){return this.delegate.createElement(u,a)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,a){this.delegate.appendChild(u,a),this.engine.onInsert(this.namespaceId,a,u,!1)}insertBefore(u,a,p,x=!0){this.delegate.insertBefore(u,a,p),this.engine.onInsert(this.namespaceId,a,u,x)}removeChild(u,a,p){this.engine.onRemove(this.namespaceId,a,this.delegate,p)}selectRootElement(u,a){return this.delegate.selectRootElement(u,a)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,a,p,x){this.delegate.setAttribute(u,a,p,x)}removeAttribute(u,a,p){this.delegate.removeAttribute(u,a,p)}addClass(u,a){this.delegate.addClass(u,a)}removeClass(u,a){this.delegate.removeClass(u,a)}setStyle(u,a,p,x){this.delegate.setStyle(u,a,p,x)}removeStyle(u,a,p){this.delegate.removeStyle(u,a,p)}setProperty(u,a,p){"@"==a.charAt(0)&&a==Qu?this.disableAnimations(u,!!p):this.delegate.setProperty(u,a,p)}setValue(u,a){this.delegate.setValue(u,a)}listen(u,a,p){return this.delegate.listen(u,a,p)}disableAnimations(u,a){this.engine.disableAnimations(u,a)}}class rc extends Bl{constructor(u,a,p,x){super(a,p,x),this.factory=u,this.namespaceId=a}setProperty(u,a,p){"@"==a.charAt(0)?"."==a.charAt(1)&&a==Qu?this.disableAnimations(u,p=void 0===p||!!p):this.engine.process(this.namespaceId,u,a.slice(1),p):this.delegate.setProperty(u,a,p)}listen(u,a,p){if("@"==a.charAt(0)){const x=function hp(b){switch(b){case"body":return document.body;case"document":return document;case"window":return window;default:return b}}(u);let U=a.slice(1),me="";return"@"!=U.charAt(0)&&([U,me]=function tf(b){const u=b.indexOf(".");return[b.substring(0,u),b.slice(u+1)]}(U)),this.engine.listen(this.namespaceId,x,U,me,we=>{this.factory.scheduleListenerCallback(we._data||-1,p,we)})}return this.delegate.listen(u,a,p)}}const Eu=[{provide:Qn._j,useClass:dh},{provide:_u,useFactory:function fp(){return new sp}},{provide:Qc,useClass:(()=>{class b extends Qc{constructor(a,p,x,U){super(a.body,p,x)}ngOnDestroy(){this.flush()}}return b.\u0275fac=function(a){return new(a||b)(f.LFG(_e.K0),f.LFG(kl),f.LFG(_u),f.LFG(f.z2F))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})()},{provide:f.FYo,useFactory:function rf(b,u,a){return new Zs(b,u,a)},deps:[d.se,Qc,f.R0b]}],Vl=[{provide:kl,useFactory:()=>new Sd},{provide:f.QbO,useValue:"BrowserAnimations"},...Eu],Ac=[{provide:kl,useClass:Hu},{provide:f.QbO,useValue:"NoopAnimations"},...Eu];let sf=(()=>{class b{static withConfig(a){return{ngModule:b,providers:a.disableAnimations?Ac:Vl}}}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({providers:Vl,imports:[d.b2]}),b})(),sc=(()=>{class b{}return b.\u0275fac=function(a){return new(a||b)},b.\u0275mod=f.oAB({type:b,bootstrap:[Qa]}),b.\u0275inj=f.cJS({providers:[k.r],imports:[d.b2,Ys,Br.hO.initializeApp(Oo_firebase),wr,pn.u5,ae,ht,Fi,Lr,ss,Bs,Ir.Is,D.o9,Va.Sv,gc,sf]}),b})();(0,f.G48)(),d.q6().bootstrapModule(sc).catch(b=>console.error(b))},5867:(rn,et,T)=>{T.d(et,{C6:()=>d.getApps,Mq:()=>d.getApp});var d=T(9681);(0,d.registerVersion)("firebase","9.9.4","app")},8937:(rn,et,T)=>{T(7929),T(2090),T(9681),T(1877),T(4859)},127:(rn,et,T)=>{T.d(et,{Z:()=>d.Z});var d=T(3942);d.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(rn,et,T)=>{T.r(et);var d=T(5861),f=T(3942),P=T(7929),B=T(2090),Fe=(T(9681),T(1877),T(4859));function he(){return window}function ue(){return(ue=(0,d.Z)(function*(at,ke,He){var Tt;const{BuildInfo:Ge}=he();(0,P.aq)(ke.sessionId,"AuthEvent did not contain a session ID");const Le=yield ze(ke.sessionId),be={};return(0,P.ar)()?be.ibi=Ge.packageName:(0,P.as)()?be.apn=Ge.packageName:(0,P.at)(at,"operation-not-supported-in-this-environment"),Ge.displayName&&(be.appDisplayName=Ge.displayName),be.sessionId=Le,(0,P.au)(at,He,ke.type,void 0,null!==(Tt=ke.eventId)&&void 0!==Tt?Tt:void 0,be)})).apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(at){const{BuildInfo:ke}=he(),He={};(0,P.ar)()?He.iosBundleId=ke.packageName:(0,P.as)()?He.androidPackageName=ke.packageName:(0,P.at)(at,"operation-not-supported-in-this-environment"),yield(0,P.av)(at,He)})).apply(this,arguments)}function Ft(){return(Ft=(0,d.Z)(function*(at,ke,He){const{cordova:Tt}=he();let Ge=()=>{};try{yield new Promise((Le,be)=>{let te=null;function oe(){var lt;Le();const hn=null===(lt=Tt.plugins.browsertab)||void 0===lt?void 0:lt.close;"function"==typeof hn&&hn(),"function"==typeof He?.close&&He.close()}function ae(){te||(te=window.setTimeout(()=>{be((0,P.aw)(at,"redirect-cancelled-by-user"))},2e3))}function Be(){"visible"===document?.visibilityState&&ae()}ke.addPassiveListener(oe),document.addEventListener("resume",ae,!1),(0,P.as)()&&document.addEventListener("visibilitychange",Be,!1),Ge=()=>{ke.removePassiveListener(oe),document.removeEventListener("resume",ae,!1),document.removeEventListener("visibilitychange",Be,!1),te&&window.clearTimeout(te)}})}finally{Ge()}})).apply(this,arguments)}function ze(at){return _t.apply(this,arguments)}function _t(){return(_t=(0,d.Z)(function*(at){const ke=yt(at),He=yield crypto.subtle.digest("SHA-256",ke);return Array.from(new Uint8Array(He)).map(Ge=>Ge.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function yt(at){if((0,P.aq)(/[0-9a-zA-Z]+/.test(at),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(at);const ke=new ArrayBuffer(at.length),He=new Uint8Array(ke);for(let Tt=0;Tt<at.length;Tt++)He[Tt]=at.charCodeAt(Tt);return He}class Ue extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ke=>{this.resolveInialized=ke})}addPassiveListener(ke){this.passiveListeners.add(ke)}removePassiveListener(ke){this.passiveListeners.delete(ke)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ke){return this.resolveInialized(),this.passiveListeners.forEach(He=>He(ke)),super.onEvent(ke)}initialized(){var ke=this;return(0,d.Z)(function*(){yield ke.initPromise})()}}function vt(at){return nt.apply(this,arguments)}function nt(){return(nt=(0,d.Z)(function*(at){const ke=yield Qe()._get(Ct(at));return ke&&(yield Qe()._remove(Ct(at))),ke})).apply(this,arguments)}function Ze(){const at=[],ke="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let He=0;He<20;He++){const Tt=Math.floor(Math.random()*ke.length);at.push(ke.charAt(Tt))}return at.join("")}function Qe(){return(0,P.ay)(P.b)}function Ct(at){return(0,P.az)("authEvent",at.config.apiKey,at.name)}function En(at){if(!at?.includes("?"))return{};const[ke,...He]=at.split("?");return(0,B.zd)(He.join("?"))}function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function An(){var at;return(null===(at=self?.location)||void 0===at?void 0:at.protocol)||null}function Hn(at=(0,B.z$)()){return!("file:"!==An()&&"ionic:"!==An()&&"capacitor:"!==An()||!at.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wn(){try{const at=self.localStorage,ke=P.aI();if(at)return at.setItem(ke,"1"),at.removeItem(ke),!function Ii(at=(0,B.z$)()){return function Gn(){return(0,B.w1)()&&11===document?.documentMode}()||function jn(at=(0,B.z$)()){return/Edge\/\d+/.test(at)}(at)}()||(0,B.hl)()}catch{return ii()&&(0,B.hl)()}return!1}function ii(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zt(){return(function Nn(){return"http:"===An()||"https:"===An()}()||(0,B.ru)()||Hn())&&!function xi(){return(0,B.b$)()||(0,B.UG)()}()&&Wn()&&!ii()}function qn(){return Hn()&&typeof document<"u"}function en(){return(en=(0,d.Z)(function*(){return!!qn()&&new Promise(at=>{const ke=setTimeout(()=>{at(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ke),at(!0)})})})).apply(this,arguments)}const ti={LOCAL:"local",NONE:"none",SESSION:"session"},fi=P.ax,Pi="persistence";function Fn(at){return yi.apply(this,arguments)}function yi(){return(yi=(0,d.Z)(function*(at){yield at._initializationPromise;const ke=gt(),He=P.az(Pi,at.config.apiKey,at.name);ke&&ke.setItem(He,at._getPersistence())})).apply(this,arguments)}function gt(){var at;try{return(null===(at=function $n(){return typeof window<"u"?window:null}())||void 0===at?void 0:at.sessionStorage)||null}catch{return null}}const Te=P.ax;class wt{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class Rn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(ke){var He=this;return(0,d.Z)(function*(){const Tt=ke._key();let Ge=He.eventManagers.get(Tt);return Ge||(Ge=new Ue(ke),He.eventManagers.set(Tt,Ge),He.attachCallbackListeners(ke,Ge)),Ge})()}_openPopup(ke){(0,P.at)(ke,"operation-not-supported-in-this-environment")}_openRedirect(ke,He,Tt,Ge){var Le=this;return(0,d.Z)(function*(){!function pt(at){var ke,He,Tt,Ge,Le,be,te,oe,ae,Be;const lt=he();(0,P.ax)("function"==typeof(null===(ke=lt?.universalLinks)||void 0===ke?void 0:ke.subscribe),at,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(He=lt?.BuildInfo)||void 0===He?void 0:He.packageName)<"u",at,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(Le=null===(Ge=null===(Tt=lt?.cordova)||void 0===Tt?void 0:Tt.plugins)||void 0===Ge?void 0:Ge.browsertab)||void 0===Le?void 0:Le.openUrl),at,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(oe=null===(te=null===(be=lt?.cordova)||void 0===be?void 0:be.plugins)||void 0===te?void 0:te.browsertab)||void 0===oe?void 0:oe.isAvailable),at,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Be=null===(ae=lt?.cordova)||void 0===ae?void 0:ae.InAppBrowser)||void 0===Be?void 0:Be.open),at,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ke);const be=yield Le._initialize(ke);yield be.initialized(),be.resetRedirect(),(0,P.aD)(),yield Le._originValidation(ke);const te=function Xe(at,ke,He=null){return{type:ke,eventId:He,urlResponse:null,sessionId:Ze(),postBody:null,tenantId:at.tenantId,error:(0,P.aw)(at,"no-auth-event")}}(ke,Tt,Ge);yield function mt(at,ke){return Qe()._set(Ct(at),ke)}(ke,te);const oe=yield function q(at,ke,He){return ue.apply(this,arguments)}(ke,te,He),ae=yield function dt(at){const{cordova:ke}=he();return new Promise(He=>{ke.plugins.browsertab.isAvailable(Tt=>{let Ge=null;Tt?ke.plugins.browsertab.openUrl(at):Ge=ke.InAppBrowser.open(at,(0,P.ap)()?"_blank":"_system","location=yes"),He(Ge)})})}(oe);return function Ye(at,ke,He){return Ft.apply(this,arguments)}(ke,be,ae)})()}_isIframeWebStorageSupported(ke,He){throw new Error("Method not implemented.")}_originValidation(ke){const He=ke._key();return this.originValidationPromises[He]||(this.originValidationPromises[He]=function ye(at){return tt.apply(this,arguments)}(ke)),this.originValidationPromises[He]}attachCallbackListeners(ke,He){const{universalLinks:Tt,handleOpenURL:Ge,BuildInfo:Le}=he(),be=setTimeout((0,d.Z)(function*(){yield vt(ke),He.onEvent(qe())}),500),te=function(){var Be=(0,d.Z)(function*(lt){clearTimeout(be);const hn=yield vt(ke);let Sn=null;hn&&lt?.url&&(Sn=function Ae(at,ke){var He,Tt;const Ge=function Pt(at){const ke=En(at),He=ke.link?decodeURIComponent(ke.link):void 0,Tt=En(He).link,Ge=ke.deep_link_id?decodeURIComponent(ke.deep_link_id):void 0;return En(Ge).link||Ge||Tt||He||at}(ke);if(Ge.includes("/__/auth/callback")){const Le=En(Ge),be=Le.firebaseError?function Et(at){try{return JSON.parse(at)}catch{return null}}(decodeURIComponent(Le.firebaseError)):null,te=null===(Tt=null===(He=be?.code)||void 0===He?void 0:He.split("auth/"))||void 0===Tt?void 0:Tt[1],oe=te?(0,P.aw)(te):null;return oe?{type:at.type,eventId:at.eventId,tenantId:at.tenantId,error:oe,urlResponse:null,sessionId:null,postBody:null}:{type:at.type,eventId:at.eventId,tenantId:at.tenantId,sessionId:at.sessionId,urlResponse:Ge,postBody:null}}return null}(hn,lt.url)),He.onEvent(Sn||qe())});return function(hn){return Be.apply(this,arguments)}}();typeof Tt<"u"&&"function"==typeof Tt.subscribe&&Tt.subscribe(null,te);const oe=Ge,ae=`${Le.packageName.toLowerCase()}://`;he().handleOpenURL=function(){var Be=(0,d.Z)(function*(lt){if(lt.toLowerCase().startsWith(ae)&&te({url:lt}),"function"==typeof oe)try{oe(lt)}catch(hn){console.error(hn)}});return function(lt){return Be.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(ke){var He=this;return(0,d.Z)(function*(){return yield He.selectUnderlyingResolver(),He.assertedUnderlyingResolver._initialize(ke)})()}_openPopup(ke,He,Tt,Ge){var Le=this;return(0,d.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openPopup(ke,He,Tt,Ge)})()}_openRedirect(ke,He,Tt,Ge){var Le=this;return(0,d.Z)(function*(){return yield Le.selectUnderlyingResolver(),Le.assertedUnderlyingResolver._openRedirect(ke,He,Tt,Ge)})()}_isIframeWebStorageSupported(ke,He){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ke,He)}_originValidation(ke){return this.assertedUnderlyingResolver._originValidation(ke)}get _shouldInitProactively(){return qn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Te(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ke=this;return(0,d.Z)(function*(){if(ke.underlyingResolver)return;const He=yield function ei(){return en.apply(this,arguments)}();ke.underlyingResolver=He?ke.cordovaResolver:ke.browserResolver})()}}function Lt(at){return at.unwrap()}function Cn(at){return It(at)}function It(at){const{_tokenResponse:ke}=at instanceof B.ZR?at.customData:at;if(!ke)return null;if(!(at instanceof B.ZR)&&"temporaryProof"in ke&&"phoneNumber"in ke)return P.P.credentialFromResult(at);const He=ke.providerId;if(!He||He===P.o.PASSWORD)return null;let Tt;switch(He){case P.o.GOOGLE:Tt=P.Q;break;case P.o.FACEBOOK:Tt=P.N;break;case P.o.GITHUB:Tt=P.T;break;case P.o.TWITTER:Tt=P.W;break;default:const{oauthIdToken:Ge,oauthAccessToken:Le,oauthTokenSecret:be,pendingToken:te,nonce:oe}=ke;return Le||be||Ge||te?te?He.startsWith("saml.")?P.aL._create(He,te):P.J._fromParams({providerId:He,signInMethod:He,pendingToken:te,idToken:Ge,accessToken:Le}):new P.U(He).credential({idToken:Ge,accessToken:Le,rawNonce:oe}):null}return at instanceof B.ZR?Tt.credentialFromError(at):Tt.credentialFromResult(at)}function $(at,ke){return ke.catch(He=>{throw He instanceof B.ZR&&function je(at,ke){var He,Tt;const Ge=null===(He=ke.customData)||void 0===He?void 0:He._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Tt=ke)||void 0===Tt?void 0:Tt.code))ke.resolver=new Q(at,P.an(at,ke));else if(Ge){const Le=It(ke),be=ke;Le&&(be.credential=Le,be.tenantId=Ge.tenantId||void 0,be.email=Ge.email||void 0,be.phoneNumber=Ge.phoneNumber||void 0)}}(at,He),He}).then(He=>{const Ge=He.user;return{operationType:He.operationType,credential:Cn(He),additionalUserInfo:P.al(He),user:de.getOrCreate(Ge)}})}function ee(at,ke){return se.apply(this,arguments)}function se(){return(se=(0,d.Z)(function*(at,ke){const He=yield ke;return{verificationId:He.verificationId,confirm:Tt=>$(at,He.confirm(Tt))}})).apply(this,arguments)}class Q{constructor(ke,He){this.resolver=He,this.auth=function qt(at){return at.wrapped()}(ke)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ke){return $(Lt(this.auth),this.resolver.resolveSignIn(ke))}}class de{constructor(ke){this._delegate=ke,this.multiFactor=P.ao(ke)}static getOrCreate(ke){return de.USER_MAP.has(ke)||de.USER_MAP.set(ke,new de(ke)),de.USER_MAP.get(ke)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ke){return this._delegate.getIdTokenResult(ke)}getIdToken(ke){return this._delegate.getIdToken(ke)}linkAndRetrieveDataWithCredential(ke){return this.linkWithCredential(ke)}linkWithCredential(ke){var He=this;return(0,d.Z)(function*(){return $(He.auth,P.Z(He._delegate,ke))})()}linkWithPhoneNumber(ke,He){var Tt=this;return(0,d.Z)(function*(){return ee(Tt.auth,P.l(Tt._delegate,ke,He))})()}linkWithPopup(ke){var He=this;return(0,d.Z)(function*(){return $(He.auth,P.d(He._delegate,ke,wt))})()}linkWithRedirect(ke){var He=this;return(0,d.Z)(function*(){return yield Fn(P.aE(He.auth)),P.g(He._delegate,ke,wt)})()}reauthenticateAndRetrieveDataWithCredential(ke){return this.reauthenticateWithCredential(ke)}reauthenticateWithCredential(ke){var He=this;return(0,d.Z)(function*(){return $(He.auth,P._(He._delegate,ke))})()}reauthenticateWithPhoneNumber(ke,He){return ee(this.auth,P.r(this._delegate,ke,He))}reauthenticateWithPopup(ke){return $(this.auth,P.e(this._delegate,ke,wt))}reauthenticateWithRedirect(ke){var He=this;return(0,d.Z)(function*(){return yield Fn(P.aE(He.auth)),P.h(He._delegate,ke,wt)})()}sendEmailVerification(ke){return P.ab(this._delegate,ke)}unlink(ke){var He=this;return(0,d.Z)(function*(){return yield P.ak(He._delegate,ke),He})()}updateEmail(ke){return P.ag(this._delegate,ke)}updatePassword(ke){return P.ah(this._delegate,ke)}updatePhoneNumber(ke){return P.u(this._delegate,ke)}updateProfile(ke){return P.af(this._delegate,ke)}verifyBeforeUpdateEmail(ke,He){return P.ac(this._delegate,ke,He)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}de.USER_MAP=new WeakMap;const ve=P.ax;let J=(()=>{class at{constructor(He,Tt){if(this.app=He,Tt.isInitialized())return this._delegate=Tt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ge}=He.options;ve(Ge,"invalid-api-key",{appName:He.name}),ve(Ge,"invalid-api-key",{appName:He.name});const Le=typeof window<"u"?wt:void 0;this._delegate=Tt.initialize({options:{persistence:Ie(Ge,He.name),popupRedirectResolver:Le}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?de.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(He){this._delegate.languageCode=He}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(He){this._delegate.tenantId=He}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(He,Tt){P.G(this._delegate,He,Tt)}applyActionCode(He){return P.a2(this._delegate,He)}checkActionCode(He){return P.a3(this._delegate,He)}confirmPasswordReset(He,Tt){return P.a1(this._delegate,He,Tt)}createUserWithEmailAndPassword(He,Tt){var Ge=this;return(0,d.Z)(function*(){return $(Ge._delegate,P.a5(Ge._delegate,He,Tt))})()}fetchProvidersForEmail(He){return this.fetchSignInMethodsForEmail(He)}fetchSignInMethodsForEmail(He){return P.aa(this._delegate,He)}isSignInWithEmailLink(He){return P.a8(this._delegate,He)}getRedirectResult(){var He=this;return(0,d.Z)(function*(){ve(zt(),He._delegate,"operation-not-supported-in-this-environment");const Tt=yield P.j(He._delegate,wt);return Tt?$(He._delegate,Promise.resolve(Tt)):{credential:null,user:null}})()}addFrameworkForLogging(He){!function Yt(at,ke){(0,P.aE)(at)._logFramework(ke)}(this._delegate,He)}onAuthStateChanged(He,Tt,Ge){const{next:Le,error:be,complete:te}=Ce(He,Tt,Ge);return this._delegate.onAuthStateChanged(Le,be,te)}onIdTokenChanged(He,Tt,Ge){const{next:Le,error:be,complete:te}=Ce(He,Tt,Ge);return this._delegate.onIdTokenChanged(Le,be,te)}sendSignInLinkToEmail(He,Tt){return P.a7(this._delegate,He,Tt)}sendPasswordResetEmail(He,Tt){return P.a0(this._delegate,He,Tt||void 0)}setPersistence(He){var Tt=this;return(0,d.Z)(function*(){let Ge;switch(function zi(at,ke){fi(Object.values(ti).includes(ke),at,"invalid-persistence-type"),(0,B.b$)()?fi(ke!==ti.SESSION,at,"unsupported-persistence-type"):(0,B.UG)()?fi(ke===ti.NONE,at,"unsupported-persistence-type"):ii()?fi(ke===ti.NONE||ke===ti.LOCAL&&(0,B.hl)(),at,"unsupported-persistence-type"):fi(ke===ti.NONE||Wn(),at,"unsupported-persistence-type")}(Tt._delegate,He),He){case ti.SESSION:Ge=P.a;break;case ti.LOCAL:Ge=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case ti.NONE:Ge=P.L;break;default:return P.at("argument-error",{appName:Tt._delegate.name})}return Tt._delegate.setPersistence(Ge)})()}signInAndRetrieveDataWithCredential(He){return this.signInWithCredential(He)}signInAnonymously(){return $(this._delegate,P.X(this._delegate))}signInWithCredential(He){return $(this._delegate,P.Y(this._delegate,He))}signInWithCustomToken(He){return $(this._delegate,P.$(this._delegate,He))}signInWithEmailAndPassword(He,Tt){return $(this._delegate,P.a6(this._delegate,He,Tt))}signInWithEmailLink(He,Tt){return $(this._delegate,P.a9(this._delegate,He,Tt))}signInWithPhoneNumber(He,Tt){return ee(this._delegate,P.s(this._delegate,He,Tt))}signInWithPopup(He){var Tt=this;return(0,d.Z)(function*(){return ve(zt(),Tt._delegate,"operation-not-supported-in-this-environment"),$(Tt._delegate,P.c(Tt._delegate,He,wt))})()}signInWithRedirect(He){var Tt=this;return(0,d.Z)(function*(){return ve(zt(),Tt._delegate,"operation-not-supported-in-this-environment"),yield Fn(Tt._delegate),P.f(Tt._delegate,He,wt)})()}updateCurrentUser(He){return this._delegate.updateCurrentUser(He)}verifyPasswordResetCode(He){return P.a4(this._delegate,He)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return at.Persistence=ti,at})();function Ce(at,ke,He){let Tt=at;"function"!=typeof at&&({next:Tt,error:ke,complete:He}=at);const Ge=Tt;return{next:be=>Ge(be&&de.getOrCreate(be)),error:ke,complete:He}}function Ie(at,ke){const He=function Qt(at,ke){const He=gt();if(!He)return[];const Tt=P.az(Pi,at,ke);switch(He.getItem(Tt)){case ti.NONE:return[P.L];case ti.LOCAL:return[P.i,P.a];case ti.SESSION:return[P.a];default:return[]}}(at,ke);if(typeof self<"u"&&!He.includes(P.i)&&He.push(P.i),typeof window<"u")for(const Tt of[P.b,P.a])He.includes(Tt)||He.push(Tt);return He.includes(P.L)||He.push(P.L),He}class Je{constructor(){this.providerId="phone",this._delegate=new P.P(Lt(f.Z.auth()))}static credential(ke,He){return P.P.credential(ke,He)}verifyPhoneNumber(ke,He){return this._delegate.verifyPhoneNumber(ke,He)}unwrap(){return this._delegate}}Je.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Je.PROVIDER_ID=P.P.PROVIDER_ID;const it=P.ax;class nn{constructor(ke,He,Tt=f.Z.app()){var Ge;it(null===(Ge=Tt.options)||void 0===Ge?void 0:Ge.apiKey,"invalid-api-key",{appName:Tt.name}),this._delegate=new P.R(ke,He,Tt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dn(at){at.INTERNAL.registerComponent(new Fe.wA("auth-compat",ke=>{const He=ke.getProvider("app-compat").getImmediate(),Tt=ke.getProvider("auth");return new J(He,Tt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:Je,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:nn,TwitterAuthProvider:P.W,Auth:J,AuthCredential:P.H,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),at.registerVersion("@firebase/auth-compat","0.2.19")}(f.Z)},2731:(rn,et,T)=>{T(5525)},7657:(rn,et,T)=>{T.d(et,{Sv:()=>Fe,Xg:()=>Oe,vE:()=>_e});var d=T(6895),f=T(4650),P=T(4006);const B=["*"];let _e=(()=>{class he{constructor(q,ue,ye){this.el=q,this.zone=ue,this.platformId=ye,this.afterChange=new f.vpe,this.beforeChange=new f.vpe,this.breakpoint=new f.vpe,this.destroy=new f.vpe,this.init=new f.vpe,this.currentIndex=0,this.slides=[],this.initialized=!1,this._removedSlides=[],this._addedSlides=[]}ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!(0,d.PM)(this.platformId)&&(this._addedSlides.length>0||this._removedSlides.length>0)){const q=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===q?this.unslick():(this._addedSlides.forEach(ue=>{this.slides.push(ue),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",ue.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(ue=>{const ye=this.slides.indexOf(ue);this.slides=this.slides.filter(tt=>tt!==ue),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",ye)})}),this._removedSlides=[]):q>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(q,ue)=>{this.zone.run(()=>{this.init.emit({event:q,slick:ue})})}),this.$instance.slick(this.config),this.zone.run(()=>{var q;this.initialized=!0,this.currentIndex=(null===(q=this.config)||void 0===q?void 0:q.initialSlide)||0}),this.$instance.on("afterChange",(q,ue,ye)=>{this.zone.run(()=>{this.afterChange.emit({event:q,slick:ue,currentSlide:ye,first:0===ye,last:ue.$slides.length===ye+ue.options.slidesToScroll}),this.currentIndex=ye})}),this.$instance.on("beforeChange",(q,ue,ye,tt)=>{this.zone.run(()=>{this.beforeChange.emit({event:q,slick:ue,currentSlide:ye,nextSlide:tt}),this.currentIndex=tt})}),this.$instance.on("breakpoint",(q,ue,ye)=>{this.zone.run(()=>{this.breakpoint.emit({event:q,slick:ue,breakpoint:ye})})}),this.$instance.on("destroy",(q,ue)=>{this.zone.run(()=>{this.destroy.emit({event:q,slick:ue}),this.initialized=!1})})})}addSlide(q){this._addedSlides.push(q)}removeSlide(q){this._removedSlides.push(q)}slickGoTo(q){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",q)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(q){if(this.initialized){const ue=q.config;if(ue.previousValue!==ue.currentValue&&void 0!==ue.currentValue){const ye=ue.currentValue.refresh,tt=Object.assign({},ue.currentValue);delete tt.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",tt,ye)})}}}}return he.\u0275fac=function(q){return new(q||he)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(f.Lbi))},he.\u0275cmp=f.Xpm({type:he,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[f._Bn([{provide:P.JU,useExisting:(0,f.Gpc)(()=>he),multi:!0}]),f.TTD],ngContentSelectors:B,decls:1,vars:0,template:function(q,ue){1&q&&(f.F$t(),f.Hsn(0))},encapsulation:2}),he})(),Oe=(()=>{class he{constructor(q,ue,ye){this.el=q,this.platformId=ue,this.carousel=ye}ngOnInit(){(0,d.NF)(this.platformId)&&this.carousel.addSlide(this)}ngOnDestroy(){(0,d.NF)(this.platformId)&&this.carousel.removeSlide(this)}}return he.\u0275fac=function(q){return new(q||he)(f.Y36(f.SBq),f.Y36(f.Lbi),f.Y36(_e,1))},he.\u0275dir=f.lG2({type:he,selectors:[["","ngxSlickItem",""]]}),he})(),Fe=(()=>{class he{}return he.\u0275fac=function(q){return new(q||he)},he.\u0275mod=f.oAB({type:he}),he.\u0275inj=f.cJS({imports:[d.ez]}),he})()},1135:(rn,et,T)=>{T.d(et,{X:()=>f});var d=T(7579);class f extends d.x{constructor(B){super(),this._value=B}get value(){return this.getValue()}_subscribe(B){const _e=super._subscribe(B);return!_e.closed&&B.next(this._value),_e}getValue(){const{hasError:B,thrownError:_e,_value:Oe}=this;if(B)throw _e;return this._throwIfClosed(),Oe}next(B){super.next(this._value=B)}}},9751:(rn,et,T)=>{T.d(et,{y:()=>he});var d=T(930),f=T(727),P=T(8822),B=T(9635),_e=T(2416),Oe=T(576),Fe=T(2806);let he=(()=>{class ye{constructor(dt){dt&&(this._subscribe=dt)}lift(dt){const Ye=new ye;return Ye.source=this,Ye.operator=dt,Ye}subscribe(dt,Ye,Ft){const pt=function ue(ye){return ye&&ye instanceof d.Lv||function q(ye){return ye&&(0,Oe.m)(ye.next)&&(0,Oe.m)(ye.error)&&(0,Oe.m)(ye.complete)}(ye)&&(0,f.Nn)(ye)}(dt)?dt:new d.Hp(dt,Ye,Ft);return(0,Fe.x)(()=>{const{operator:ze,source:_t}=this;pt.add(ze?ze.call(pt,_t):_t?this._subscribe(pt):this._trySubscribe(pt))}),pt}_trySubscribe(dt){try{return this._subscribe(dt)}catch(Ye){dt.error(Ye)}}forEach(dt,Ye){return new(Ye=Re(Ye))((Ft,pt)=>{let ze;ze=this.subscribe(_t=>{try{dt(_t)}catch(yt){pt(yt),ze?.unsubscribe()}},pt,Ft)})}_subscribe(dt){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(dt)}[P.L](){return this}pipe(...dt){return(0,B.U)(dt)(this)}toPromise(dt){return new(dt=Re(dt))((Ye,Ft)=>{let pt;this.subscribe(ze=>pt=ze,ze=>Ft(ze),()=>Ye(pt))})}}return ye.create=tt=>new ye(tt),ye})();function Re(ye){var tt;return null!==(tt=ye??_e.v.Promise)&&void 0!==tt?tt:Promise}},7579:(rn,et,T)=>{T.d(et,{x:()=>Fe});var d=T(9751),f=T(727);const B=(0,T(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=T(8737),Oe=T(2806);let Fe=(()=>{class Re extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const ye=new he(this,this);return ye.operator=ue,ye}_throwIfClosed(){if(this.closed)throw new B}next(ue){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const ye=this.observers.slice();for(const tt of ye)tt.next(ue)}})}error(ue){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ue)}})}complete(){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:ye,isStopped:tt,observers:dt}=this;return ye||tt?f.Lc:(dt.push(ue),new f.w0(()=>(0,_e.P)(dt,ue)))}_checkFinalizedStatuses(ue){const{hasError:ye,thrownError:tt,isStopped:dt}=this;ye?ue.error(tt):dt&&ue.complete()}asObservable(){const ue=new d.y;return ue.source=this,ue}}return Re.create=(q,ue)=>new he(q,ue),Re})();class he extends Fe{constructor(q,ue){super(),this.destination=q,this.source=ue}next(q){var ue,ye;null===(ye=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===ye||ye.call(ue,q)}error(q){var ue,ye;null===(ye=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===ye||ye.call(ue,q)}complete(){var q,ue;null===(ue=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===ue||ue.call(q)}_subscribe(q){var ue,ye;return null!==(ye=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(q))&&void 0!==ye?ye:f.Lc}}},930:(rn,et,T)=>{T.d(et,{Hp:()=>tt,Lv:()=>ye});var d=T(576),f=T(727),P=T(2416),B=T(7849),_e=T(5032);const Oe=Re("C",void 0,void 0);function Re(ze,_t,yt){return{kind:ze,value:_t,error:yt}}var q=T(3410),ue=T(2806);class ye extends f.w0{constructor(_t){super(),this.isStopped=!1,_t?(this.destination=_t,(0,f.Nn)(_t)&&_t.add(this)):this.destination=pt}static create(_t,yt,ot){return new tt(_t,yt,ot)}next(_t){this.isStopped?Ft(function he(ze){return Re("N",ze,void 0)}(_t),this):this._next(_t)}error(_t){this.isStopped?Ft(function Fe(ze){return Re("E",void 0,ze)}(_t),this):(this.isStopped=!0,this._error(_t))}complete(){this.isStopped?Ft(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_t){this.destination.next(_t)}_error(_t){try{this.destination.error(_t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class tt extends ye{constructor(_t,yt,ot){let Ue;if(super(),(0,d.m)(_t))Ue=_t;else if(_t){let Xe;({next:Ue,error:yt,complete:ot}=_t),this&&P.v.useDeprecatedNextContext?(Xe=Object.create(_t),Xe.unsubscribe=()=>this.unsubscribe()):Xe=_t,Ue=Ue?.bind(Xe),yt=yt?.bind(Xe),ot=ot?.bind(Xe)}this.destination={next:Ue?dt(Ue):_e.Z,error:dt(yt??Ye),complete:ot?dt(ot):_e.Z}}}function dt(ze,_t){return(...yt)=>{try{ze(...yt)}catch(ot){P.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(ot):(0,B.h)(ot)}}}function Ye(ze){throw ze}function Ft(ze,_t){const{onStoppedNotification:yt}=P.v;yt&&q.z.setTimeout(()=>yt(ze,_t))}const pt={closed:!0,next:_e.Z,error:Ye,complete:_e.Z}},727:(rn,et,T)=>{T.d(et,{Lc:()=>Oe,w0:()=>_e,Nn:()=>Fe});var d=T(576);const P=(0,T(3888).d)(Re=>function(ue){Re(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((ye,tt)=>`${tt+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var B=T(8737);class _e{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const dt of ue)dt.remove(this);else ue.remove(this);const{initialTeardown:ye}=this;if((0,d.m)(ye))try{ye()}catch(dt){q=dt instanceof P?dt.errors:[dt]}const{_teardowns:tt}=this;if(tt){this._teardowns=null;for(const dt of tt)try{he(dt)}catch(Ye){q=q??[],Ye instanceof P?q=[...q,...Ye.errors]:q.push(Ye)}}if(q)throw new P(q)}}add(q){var ue;if(q&&q!==this)if(this.closed)he(q);else{if(q instanceof _e){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._teardowns=null!==(ue=this._teardowns)&&void 0!==ue?ue:[]).push(q)}}_hasParent(q){const{_parentage:ue}=this;return ue===q||Array.isArray(ue)&&ue.includes(q)}_addParent(q){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(q),ue):ue?[ue,q]:q}_removeParent(q){const{_parentage:ue}=this;ue===q?this._parentage=null:Array.isArray(ue)&&(0,B.P)(ue,q)}remove(q){const{_teardowns:ue}=this;ue&&(0,B.P)(ue,q),q instanceof _e&&q._removeParent(this)}}_e.EMPTY=(()=>{const Re=new _e;return Re.closed=!0,Re})();const Oe=_e.EMPTY;function Fe(Re){return Re instanceof _e||Re&&"closed"in Re&&(0,d.m)(Re.remove)&&(0,d.m)(Re.add)&&(0,d.m)(Re.unsubscribe)}function he(Re){(0,d.m)(Re)?Re():Re.unsubscribe()}},2416:(rn,et,T)=>{T.d(et,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(rn,et,T)=>{T.d(et,{a:()=>q});var d=T(9751),f=T(4742),P=T(8996),B=T(4671),_e=T(3268),Oe=T(3269),Fe=T(1810),he=T(5403),Re=T(9672);function q(...tt){const dt=(0,Oe.yG)(tt),Ye=(0,Oe.jO)(tt),{args:Ft,keys:pt}=(0,f.D)(tt);if(0===Ft.length)return(0,P.D)([],dt);const ze=new d.y(function ue(tt,dt,Ye=B.y){return Ft=>{ye(dt,()=>{const{length:pt}=tt,ze=new Array(pt);let _t=pt,yt=pt;for(let ot=0;ot<pt;ot++)ye(dt,()=>{const Ue=(0,P.D)(tt[ot],dt);let Xe=!1;Ue.subscribe(new he.Q(Ft,mt=>{ze[ot]=mt,Xe||(Xe=!0,yt--),yt||Ft.next(Ye(ze.slice()))},()=>{--_t||Ft.complete()}))},Ft)},Ft)}}(Ft,dt,pt?_t=>(0,Fe.n)(pt,_t):B.y));return Ye?ze.pipe((0,_e.Z)(Ye)):ze}function ye(tt,dt,Ye){tt?(0,Re.f)(Ye,tt,dt):dt()}},7272:(rn,et,T)=>{T.d(et,{z:()=>_e});var d=T(8189),P=T(3269),B=T(8996);function _e(...Oe){return function f(){return(0,d.J)(1)}()((0,B.D)(Oe,(0,P.yG)(Oe)))}},9770:(rn,et,T)=>{T.d(et,{P:()=>P});var d=T(9751),f=T(8421);function P(B){return new d.y(_e=>{(0,f.Xf)(B()).subscribe(_e)})}},515:(rn,et,T)=>{T.d(et,{E:()=>f});const f=new(T(9751).y)(_e=>_e.complete())},4128:(rn,et,T)=>{T.d(et,{D:()=>he});var d=T(9751),f=T(4742),P=T(8421),B=T(3269),_e=T(5403),Oe=T(3268),Fe=T(1810);function he(...Re){const q=(0,B.jO)(Re),{args:ue,keys:ye}=(0,f.D)(Re),tt=new d.y(dt=>{const{length:Ye}=ue;if(!Ye)return void dt.complete();const Ft=new Array(Ye);let pt=Ye,ze=Ye;for(let _t=0;_t<Ye;_t++){let yt=!1;(0,P.Xf)(ue[_t]).subscribe(new _e.Q(dt,ot=>{yt||(yt=!0,ze--),Ft[_t]=ot},()=>pt--,void 0,()=>{(!pt||!yt)&&(ze||dt.next(ye?(0,Fe.n)(ye,Ft):Ft),dt.complete())}))}});return q?tt.pipe((0,Oe.Z)(q)):tt}},8996:(rn,et,T)=>{T.d(et,{D:()=>Ue});var d=T(8421),f=T(5363),P=T(9468),Oe=T(9751),he=T(2202),Re=T(576),q=T(9672);function ye(Xe,mt){if(!Xe)throw new Error("Iterable cannot be null");return new Oe.y(vt=>{(0,q.f)(vt,mt,()=>{const nt=Xe[Symbol.asyncIterator]();(0,q.f)(vt,mt,()=>{nt.next().then(Ae=>{Ae.done?vt.complete():vt.next(Ae.value)})},0,!0)})})}var tt=T(3670),dt=T(8239),Ye=T(1144),Ft=T(6495),pt=T(2206),ze=T(4532),_t=T(3260);function Ue(Xe,mt){return mt?function ot(Xe,mt){if(null!=Xe){if((0,tt.c)(Xe))return function B(Xe,mt){return(0,d.Xf)(Xe).pipe((0,P.R)(mt),(0,f.Q)(mt))}(Xe,mt);if((0,Ye.z)(Xe))return function Fe(Xe,mt){return new Oe.y(vt=>{let nt=0;return mt.schedule(function(){nt===Xe.length?vt.complete():(vt.next(Xe[nt++]),vt.closed||this.schedule())})})}(Xe,mt);if((0,dt.t)(Xe))return function _e(Xe,mt){return(0,d.Xf)(Xe).pipe((0,P.R)(mt),(0,f.Q)(mt))}(Xe,mt);if((0,pt.D)(Xe))return ye(Xe,mt);if((0,Ft.T)(Xe))return function ue(Xe,mt){return new Oe.y(vt=>{let nt;return(0,q.f)(vt,mt,()=>{nt=Xe[he.h](),(0,q.f)(vt,mt,()=>{let Ae,Ze;try{({value:Ae,done:Ze}=nt.next())}catch(Qe){return void vt.error(Qe)}Ze?vt.complete():vt.next(Ae)},0,!0)}),()=>(0,Re.m)(nt?.return)&&nt.return()})}(Xe,mt);if((0,_t.L)(Xe))return function yt(Xe,mt){return ye((0,_t.Q)(Xe),mt)}(Xe,mt)}throw(0,ze.z)(Xe)}(Xe,mt):(0,d.Xf)(Xe)}},4968:(rn,et,T)=>{T.d(et,{R:()=>q});var d=T(8421),f=T(9751),P=T(5577),B=T(1144),_e=T(576),Oe=T(3268);const Fe=["addListener","removeListener"],he=["addEventListener","removeEventListener"],Re=["on","off"];function q(Ye,Ft,pt,ze){if((0,_e.m)(pt)&&(ze=pt,pt=void 0),ze)return q(Ye,Ft,pt).pipe((0,Oe.Z)(ze));const[_t,yt]=function dt(Ye){return(0,_e.m)(Ye.addEventListener)&&(0,_e.m)(Ye.removeEventListener)}(Ye)?he.map(ot=>Ue=>Ye[ot](Ft,Ue,pt)):function ye(Ye){return(0,_e.m)(Ye.addListener)&&(0,_e.m)(Ye.removeListener)}(Ye)?Fe.map(ue(Ye,Ft)):function tt(Ye){return(0,_e.m)(Ye.on)&&(0,_e.m)(Ye.off)}(Ye)?Re.map(ue(Ye,Ft)):[];if(!_t&&(0,B.z)(Ye))return(0,P.z)(ot=>q(ot,Ft,pt))((0,d.Xf)(Ye));if(!_t)throw new TypeError("Invalid event target");return new f.y(ot=>{const Ue=(...Xe)=>ot.next(1<Xe.length?Xe:Xe[0]);return _t(Ue),()=>yt(Ue)})}function ue(Ye,Ft){return pt=>ze=>Ye[pt](Ft,ze)}},8421:(rn,et,T)=>{T.d(et,{Xf:()=>tt});var d=T(5987),f=T(1144),P=T(8239),B=T(9751),_e=T(3670),Oe=T(2206),Fe=T(4532),he=T(6495),Re=T(3260),q=T(576),ue=T(7849),ye=T(8822);function tt(ot){if(ot instanceof B.y)return ot;if(null!=ot){if((0,_e.c)(ot))return function dt(ot){return new B.y(Ue=>{const Xe=ot[ye.L]();if((0,q.m)(Xe.subscribe))return Xe.subscribe(Ue);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ot);if((0,f.z)(ot))return function Ye(ot){return new B.y(Ue=>{for(let Xe=0;Xe<ot.length&&!Ue.closed;Xe++)Ue.next(ot[Xe]);Ue.complete()})}(ot);if((0,P.t)(ot))return function Ft(ot){return new B.y(Ue=>{ot.then(Xe=>{Ue.closed||(Ue.next(Xe),Ue.complete())},Xe=>Ue.error(Xe)).then(null,ue.h)})}(ot);if((0,Oe.D)(ot))return ze(ot);if((0,he.T)(ot))return function pt(ot){return new B.y(Ue=>{for(const Xe of ot)if(Ue.next(Xe),Ue.closed)return;Ue.complete()})}(ot);if((0,Re.L)(ot))return function _t(ot){return ze((0,Re.Q)(ot))}(ot)}throw(0,Fe.z)(ot)}function ze(ot){return new B.y(Ue=>{(function yt(ot,Ue){var Xe,mt,vt,nt;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Xe=(0,d.KL)(ot);!(mt=yield Xe.next()).done;)if(Ue.next(mt.value),Ue.closed)return}catch(Ae){vt={error:Ae}}finally{try{mt&&!mt.done&&(nt=Xe.return)&&(yield nt.call(Xe))}finally{if(vt)throw vt.error}}Ue.complete()})})(ot,Ue).catch(Xe=>Ue.error(Xe))})}},6451:(rn,et,T)=>{T.d(et,{T:()=>Oe});var d=T(8189),f=T(8421),P=T(515),B=T(3269),_e=T(8996);function Oe(...Fe){const he=(0,B.yG)(Fe),Re=(0,B._6)(Fe,1/0),q=Fe;return q.length?1===q.length?(0,f.Xf)(q[0]):(0,d.J)(Re)((0,_e.D)(q,he)):P.E}},9646:(rn,et,T)=>{T.d(et,{of:()=>P});var d=T(3269),f=T(8996);function P(...B){const _e=(0,d.yG)(B);return(0,f.D)(B,_e)}},2843:(rn,et,T)=>{T.d(et,{_:()=>P});var d=T(9751),f=T(576);function P(B,_e){const Oe=(0,f.m)(B)?B:()=>B,Fe=he=>he.error(Oe());return new d.y(_e?he=>_e.schedule(Fe,0,he):Fe)}},5963:(rn,et,T)=>{T.d(et,{H:()=>_e});var d=T(9751),f=T(4986),P=T(3532);function _e(Oe=0,Fe,he=f.P){let Re=-1;return null!=Fe&&((0,P.K)(Fe)?he=Fe:Re=Fe),new d.y(q=>{let ue=function B(Oe){return Oe instanceof Date&&!isNaN(Oe)}(Oe)?+Oe-he.now():Oe;ue<0&&(ue=0);let ye=0;return he.schedule(function(){q.closed||(q.next(ye++),0<=Re?this.schedule(void 0,Re):q.complete())},ue)})}},5403:(rn,et,T)=>{T.d(et,{Q:()=>f});var d=T(930);class f extends d.Lv{constructor(B,_e,Oe,Fe,he){super(B),this.onFinalize=he,this._next=_e?function(Re){try{_e(Re)}catch(q){B.error(q)}}:super._next,this._error=Fe?function(Re){try{Fe(Re)}catch(q){B.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(Re){B.error(Re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}},262:(rn,et,T)=>{T.d(et,{K:()=>B});var d=T(8421),f=T(5403),P=T(4482);function B(_e){return(0,P.e)((Oe,Fe)=>{let q,he=null,Re=!1;he=Oe.subscribe(new f.Q(Fe,void 0,void 0,ue=>{q=(0,d.Xf)(_e(ue,B(_e)(Oe))),he?(he.unsubscribe(),he=null,q.subscribe(Fe)):Re=!0})),Re&&(he.unsubscribe(),he=null,q.subscribe(Fe))})}},4351:(rn,et,T)=>{T.d(et,{b:()=>P});var d=T(5577),f=T(576);function P(B,_e){return(0,f.m)(_e)?(0,d.z)(B,_e,1):(0,d.z)(B,1)}},8372:(rn,et,T)=>{T.d(et,{b:()=>B});var d=T(4986),f=T(4482),P=T(5403);function B(_e,Oe=d.z){return(0,f.e)((Fe,he)=>{let Re=null,q=null,ue=null;const ye=()=>{if(Re){Re.unsubscribe(),Re=null;const dt=q;q=null,he.next(dt)}};function tt(){const dt=ue+_e,Ye=Oe.now();if(Ye<dt)return Re=this.schedule(void 0,dt-Ye),void he.add(Re);ye()}Fe.subscribe(new P.Q(he,dt=>{q=dt,ue=Oe.now(),Re||(Re=Oe.schedule(tt,_e),he.add(Re))},()=>{ye(),he.complete()},void 0,()=>{q=Re=null}))})}},6590:(rn,et,T)=>{T.d(et,{d:()=>P});var d=T(4482),f=T(5403);function P(B){return(0,d.e)((_e,Oe)=>{let Fe=!1;_e.subscribe(new f.Q(Oe,he=>{Fe=!0,Oe.next(he)},()=>{Fe||Oe.next(B),Oe.complete()}))})}},1884:(rn,et,T)=>{T.d(et,{x:()=>B});var d=T(4671),f=T(4482),P=T(5403);function B(Oe,Fe=d.y){return Oe=Oe??_e,(0,f.e)((he,Re)=>{let q,ue=!0;he.subscribe(new P.Q(Re,ye=>{const tt=Fe(ye);(ue||!Oe(q,tt))&&(ue=!1,q=tt,Re.next(ye))}))})}function _e(Oe,Fe){return Oe===Fe}},9300:(rn,et,T)=>{T.d(et,{h:()=>P});var d=T(4482),f=T(5403);function P(B,_e){return(0,d.e)((Oe,Fe)=>{let he=0;Oe.subscribe(new f.Q(Fe,Re=>B.call(_e,Re,he++)&&Fe.next(Re)))})}},8746:(rn,et,T)=>{T.d(et,{x:()=>f});var d=T(4482);function f(P){return(0,d.e)((B,_e)=>{try{B.subscribe(_e)}finally{_e.add(P)}})}},590:(rn,et,T)=>{T.d(et,{P:()=>Fe});var d=T(6805),f=T(9300),P=T(5698),B=T(6590),_e=T(8068),Oe=T(4671);function Fe(he,Re){const q=arguments.length>=2;return ue=>ue.pipe(he?(0,f.h)((ye,tt)=>he(ye,tt,ue)):Oe.y,(0,P.q)(1),q?(0,B.d)(Re):(0,_e.T)(()=>new d.K))}},4004:(rn,et,T)=>{T.d(et,{U:()=>P});var d=T(4482),f=T(5403);function P(B,_e){return(0,d.e)((Oe,Fe)=>{let he=0;Oe.subscribe(new f.Q(Fe,Re=>{Fe.next(B.call(_e,Re,he++))}))})}},9718:(rn,et,T)=>{T.d(et,{h:()=>f});var d=T(4004);function f(P){return(0,d.U)(()=>P)}},8189:(rn,et,T)=>{T.d(et,{J:()=>P});var d=T(5577),f=T(4671);function P(B=1/0){return(0,d.z)(f.y,B)}},5577:(rn,et,T)=>{T.d(et,{z:()=>he});var d=T(4004),f=T(8421),P=T(4482),B=T(9672),_e=T(5403),Fe=T(576);function he(Re,q,ue=1/0){return(0,Fe.m)(q)?he((ye,tt)=>(0,d.U)((dt,Ye)=>q(ye,dt,tt,Ye))((0,f.Xf)(Re(ye,tt))),ue):("number"==typeof q&&(ue=q),(0,P.e)((ye,tt)=>function Oe(Re,q,ue,ye,tt,dt,Ye,Ft){const pt=[];let ze=0,_t=0,yt=!1;const ot=()=>{yt&&!pt.length&&!ze&&q.complete()},Ue=mt=>ze<ye?Xe(mt):pt.push(mt),Xe=mt=>{dt&&q.next(mt),ze++;let vt=!1;(0,f.Xf)(ue(mt,_t++)).subscribe(new _e.Q(q,nt=>{tt?.(nt),dt?Ue(nt):q.next(nt)},()=>{vt=!0},void 0,()=>{if(vt)try{for(ze--;pt.length&&ze<ye;){const nt=pt.shift();Ye?(0,B.f)(q,Ye,()=>Xe(nt)):Xe(nt)}ot()}catch(nt){q.error(nt)}}))};return Re.subscribe(new _e.Q(q,Ue,()=>{yt=!0,ot()})),()=>{Ft?.()}}(ye,tt,Re,ue)))}},5363:(rn,et,T)=>{T.d(et,{Q:()=>B});var d=T(9672),f=T(4482),P=T(5403);function B(_e,Oe=0){return(0,f.e)((Fe,he)=>{Fe.subscribe(new P.Q(he,Re=>(0,d.f)(he,_e,()=>he.next(Re),Oe),()=>(0,d.f)(he,_e,()=>he.complete(),Oe),Re=>(0,d.f)(he,_e,()=>he.error(Re),Oe)))})}},5026:(rn,et,T)=>{T.d(et,{R:()=>B});var d=T(4482),f=T(5403);function P(_e,Oe,Fe,he,Re){return(q,ue)=>{let ye=Fe,tt=Oe,dt=0;q.subscribe(new f.Q(ue,Ye=>{const Ft=dt++;tt=ye?_e(tt,Ye,Ft):(ye=!0,Ye),he&&ue.next(tt)},Re&&(()=>{ye&&ue.next(tt),ue.complete()})))}}function B(_e,Oe){return(0,d.e)(P(_e,Oe,arguments.length>=2,!0))}},3099:(rn,et,T)=>{T.d(et,{B:()=>Oe});var d=T(8996),f=T(5698),P=T(7579),B=T(930),_e=T(4482);function Oe(he={}){const{connector:Re=(()=>new P.x),resetOnError:q=!0,resetOnComplete:ue=!0,resetOnRefCountZero:ye=!0}=he;return tt=>{let dt=null,Ye=null,Ft=null,pt=0,ze=!1,_t=!1;const yt=()=>{Ye?.unsubscribe(),Ye=null},ot=()=>{yt(),dt=Ft=null,ze=_t=!1},Ue=()=>{const Xe=dt;ot(),Xe?.unsubscribe()};return(0,_e.e)((Xe,mt)=>{pt++,!_t&&!ze&&yt();const vt=Ft=Ft??Re();mt.add(()=>{pt--,0===pt&&!_t&&!ze&&(Ye=Fe(Ue,ye))}),vt.subscribe(mt),dt||(dt=new B.Hp({next:nt=>vt.next(nt),error:nt=>{_t=!0,yt(),Ye=Fe(ot,q,nt),vt.error(nt)},complete:()=>{ze=!0,yt(),Ye=Fe(ot,ue),vt.complete()}}),(0,d.D)(Xe).subscribe(dt))})(tt)}}function Fe(he,Re,...q){return!0===Re?(he(),null):!1===Re?null:Re(...q).pipe((0,f.q)(1)).subscribe(()=>he())}},5684:(rn,et,T)=>{T.d(et,{T:()=>f});var d=T(9300);function f(P){return(0,d.h)((B,_e)=>P<=_e)}},8675:(rn,et,T)=>{T.d(et,{O:()=>B});var d=T(7272),f=T(3269),P=T(4482);function B(..._e){const Oe=(0,f.yG)(_e);return(0,P.e)((Fe,he)=>{(Oe?(0,d.z)(_e,Fe,Oe):(0,d.z)(_e,Fe)).subscribe(he)})}},9468:(rn,et,T)=>{T.d(et,{R:()=>f});var d=T(4482);function f(P,B=0){return(0,d.e)((_e,Oe)=>{Oe.add(P.schedule(()=>_e.subscribe(Oe),B))})}},3900:(rn,et,T)=>{T.d(et,{w:()=>B});var d=T(8421),f=T(4482),P=T(5403);function B(_e,Oe){return(0,f.e)((Fe,he)=>{let Re=null,q=0,ue=!1;const ye=()=>ue&&!Re&&he.complete();Fe.subscribe(new P.Q(he,tt=>{Re?.unsubscribe();let dt=0;const Ye=q++;(0,d.Xf)(_e(tt,Ye)).subscribe(Re=new P.Q(he,Ft=>he.next(Oe?Oe(tt,Ft,Ye,dt++):Ft),()=>{Re=null,ye()}))},()=>{ue=!0,ye()}))})}},5698:(rn,et,T)=>{T.d(et,{q:()=>B});var d=T(515),f=T(4482),P=T(5403);function B(_e){return _e<=0?()=>d.E:(0,f.e)((Oe,Fe)=>{let he=0;Oe.subscribe(new P.Q(Fe,Re=>{++he<=_e&&(Fe.next(Re),_e<=he&&Fe.complete())}))})}},2722:(rn,et,T)=>{T.d(et,{R:()=>_e});var d=T(4482),f=T(5403),P=T(8421),B=T(5032);function _e(Oe){return(0,d.e)((Fe,he)=>{(0,P.Xf)(Oe).subscribe(new f.Q(he,()=>he.complete(),B.Z)),!he.closed&&Fe.subscribe(he)})}},8505:(rn,et,T)=>{T.d(et,{b:()=>_e});var d=T(576),f=T(4482),P=T(5403),B=T(4671);function _e(Oe,Fe,he){const Re=(0,d.m)(Oe)||Fe||he?{next:Oe,error:Fe,complete:he}:Oe;return Re?(0,f.e)((q,ue)=>{var ye;null===(ye=Re.subscribe)||void 0===ye||ye.call(Re);let tt=!0;q.subscribe(new P.Q(ue,dt=>{var Ye;null===(Ye=Re.next)||void 0===Ye||Ye.call(Re,dt),ue.next(dt)},()=>{var dt;tt=!1,null===(dt=Re.complete)||void 0===dt||dt.call(Re),ue.complete()},dt=>{var Ye;tt=!1,null===(Ye=Re.error)||void 0===Ye||Ye.call(Re,dt),ue.error(dt)},()=>{var dt,Ye;tt&&(null===(dt=Re.unsubscribe)||void 0===dt||dt.call(Re)),null===(Ye=Re.finalize)||void 0===Ye||Ye.call(Re)}))}):B.y}},8068:(rn,et,T)=>{T.d(et,{T:()=>B});var d=T(6805),f=T(4482),P=T(5403);function B(Oe=_e){return(0,f.e)((Fe,he)=>{let Re=!1;Fe.subscribe(new P.Q(he,q=>{Re=!0,he.next(q)},()=>Re?he.complete():he.error(Oe())))})}function _e(){return new d.K}},4408:(rn,et,T)=>{T.d(et,{o:()=>_e});var d=T(727);class f extends d.w0{constructor(Fe,he){super()}schedule(Fe,he=0){return this}}const P={setInterval(...Oe){const{delegate:Fe}=P;return(Fe?.setInterval||setInterval)(...Oe)},clearInterval(Oe){const{delegate:Fe}=P;return(Fe?.clearInterval||clearInterval)(Oe)},delegate:void 0};var B=T(8737);class _e extends f{constructor(Fe,he){super(Fe,he),this.scheduler=Fe,this.work=he,this.pending=!1}schedule(Fe,he=0){if(this.closed)return this;this.state=Fe;const Re=this.id,q=this.scheduler;return null!=Re&&(this.id=this.recycleAsyncId(q,Re,he)),this.pending=!0,this.delay=he,this.id=this.id||this.requestAsyncId(q,this.id,he),this}requestAsyncId(Fe,he,Re=0){return P.setInterval(Fe.flush.bind(Fe,this),Re)}recycleAsyncId(Fe,he,Re=0){if(null!=Re&&this.delay===Re&&!1===this.pending)return he;P.clearInterval(he)}execute(Fe,he){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Re=this._execute(Fe,he);if(Re)return Re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Fe,he){let q,Re=!1;try{this.work(Fe)}catch(ue){Re=!0,q=ue||new Error("Scheduled action threw falsy error")}if(Re)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:Fe,scheduler:he}=this,{actions:Re}=he;this.work=this.state=this.scheduler=null,this.pending=!1,(0,B.P)(Re,this),null!=Fe&&(this.id=this.recycleAsyncId(he,Fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(rn,et,T)=>{T.d(et,{v:()=>P});var d=T(6063);class f{constructor(_e,Oe=f.now){this.schedulerActionCtor=_e,this.now=Oe}schedule(_e,Oe=0,Fe){return new this.schedulerActionCtor(this,_e).schedule(Fe,Oe)}}f.now=d.l.now;class P extends f{constructor(_e,Oe=f.now){super(_e,Oe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(_e){const{actions:Oe}=this;if(this._active)return void Oe.push(_e);let Fe;this._active=!0;do{if(Fe=_e.execute(_e.state,_e.delay))break}while(_e=Oe.shift());if(this._active=!1,Fe){for(;_e=Oe.shift();)_e.unsubscribe();throw Fe}}}},4986:(rn,et,T)=>{T.d(et,{P:()=>B,z:()=>P});var d=T(4408);const P=new(T(7565).v)(d.o),B=P},6063:(rn,et,T)=>{T.d(et,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(rn,et,T)=>{T.d(et,{z:()=>d});const d={setTimeout(...f){const{delegate:P}=d;return(P?.setTimeout||setTimeout)(...f)},clearTimeout(f){const{delegate:P}=d;return(P?.clearTimeout||clearTimeout)(f)},delegate:void 0}},2202:(rn,et,T)=>{T.d(et,{h:()=>f});const f=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rn,et,T)=>{T.d(et,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(rn,et,T)=>{T.d(et,{K:()=>f});const f=(0,T(3888).d)(P=>function(){P(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(rn,et,T)=>{T.d(et,{_6:()=>Oe,jO:()=>B,yG:()=>_e});var d=T(576),f=T(3532);function P(Fe){return Fe[Fe.length-1]}function B(Fe){return(0,d.m)(P(Fe))?Fe.pop():void 0}function _e(Fe){return(0,f.K)(P(Fe))?Fe.pop():void 0}function Oe(Fe,he){return"number"==typeof P(Fe)?Fe.pop():he}},4742:(rn,et,T)=>{T.d(et,{D:()=>_e});const{isArray:d}=Array,{getPrototypeOf:f,prototype:P,keys:B}=Object;function _e(Fe){if(1===Fe.length){const he=Fe[0];if(d(he))return{args:he,keys:null};if(function Oe(Fe){return Fe&&"object"==typeof Fe&&f(Fe)===P}(he)){const Re=B(he);return{args:Re.map(q=>he[q]),keys:Re}}}return{args:Fe,keys:null}}},8737:(rn,et,T)=>{function d(f,P){if(f){const B=f.indexOf(P);0<=B&&f.splice(B,1)}}T.d(et,{P:()=>d})},3888:(rn,et,T)=>{function d(f){const B=f(_e=>{Error.call(_e),_e.stack=(new Error).stack});return B.prototype=Object.create(Error.prototype),B.prototype.constructor=B,B}T.d(et,{d:()=>d})},1810:(rn,et,T)=>{function d(f,P){return f.reduce((B,_e,Oe)=>(B[_e]=P[Oe],B),{})}T.d(et,{n:()=>d})},2806:(rn,et,T)=>{T.d(et,{O:()=>B,x:()=>P});var d=T(2416);let f=null;function P(_e){if(d.v.useDeprecatedSynchronousErrorHandling){const Oe=!f;if(Oe&&(f={errorThrown:!1,error:null}),_e(),Oe){const{errorThrown:Fe,error:he}=f;if(f=null,Fe)throw he}}else _e()}function B(_e){d.v.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=_e)}},9672:(rn,et,T)=>{function d(f,P,B,_e=0,Oe=!1){const Fe=P.schedule(function(){B(),Oe?f.add(this.schedule(null,_e)):this.unsubscribe()},_e);if(f.add(Fe),!Oe)return Fe}T.d(et,{f:()=>d})},4671:(rn,et,T)=>{function d(f){return f}T.d(et,{y:()=>d})},1144:(rn,et,T)=>{T.d(et,{z:()=>d});const d=f=>f&&"number"==typeof f.length&&"function"!=typeof f},2206:(rn,et,T)=>{T.d(et,{D:()=>f});var d=T(576);function f(P){return Symbol.asyncIterator&&(0,d.m)(P?.[Symbol.asyncIterator])}},576:(rn,et,T)=>{function d(f){return"function"==typeof f}T.d(et,{m:()=>d})},3670:(rn,et,T)=>{T.d(et,{c:()=>P});var d=T(8822),f=T(576);function P(B){return(0,f.m)(B[d.L])}},6495:(rn,et,T)=>{T.d(et,{T:()=>P});var d=T(2202),f=T(576);function P(B){return(0,f.m)(B?.[d.h])}},8239:(rn,et,T)=>{T.d(et,{t:()=>f});var d=T(576);function f(P){return(0,d.m)(P?.then)}},3260:(rn,et,T)=>{T.d(et,{L:()=>B,Q:()=>P});var d=T(5987),f=T(576);function P(_e){return(0,d.FC)(this,arguments,function*(){const Fe=_e.getReader();try{for(;;){const{value:he,done:Re}=yield(0,d.qq)(Fe.read());if(Re)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(he)}}finally{Fe.releaseLock()}})}function B(_e){return(0,f.m)(_e?.getReader)}},3532:(rn,et,T)=>{T.d(et,{K:()=>f});var d=T(576);function f(P){return P&&(0,d.m)(P.schedule)}},4482:(rn,et,T)=>{T.d(et,{A:()=>f,e:()=>P});var d=T(576);function f(B){return(0,d.m)(B?.lift)}function P(B){return _e=>{if(f(_e))return _e.lift(function(Oe){try{return B(Oe,this)}catch(Fe){this.error(Fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(rn,et,T)=>{T.d(et,{Z:()=>B});var d=T(4004);const{isArray:f}=Array;function B(_e){return(0,d.U)(Oe=>function P(_e,Oe){return f(Oe)?_e(...Oe):_e(Oe)}(_e,Oe))}},5032:(rn,et,T)=>{function d(){}T.d(et,{Z:()=>d})},9635:(rn,et,T)=>{T.d(et,{U:()=>P,z:()=>f});var d=T(4671);function f(...B){return P(B)}function P(B){return 0===B.length?d.y:1===B.length?B[0]:function(Oe){return B.reduce((Fe,he)=>he(Fe),Oe)}}},7849:(rn,et,T)=>{T.d(et,{h:()=>P});var d=T(2416),f=T(3410);function P(B){f.z.setTimeout(()=>{const{onUnhandledError:_e}=d.v;if(!_e)throw B;_e(B)})}},4532:(rn,et,T)=>{function d(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}T.d(et,{z:()=>d})},5987:(rn,et,T)=>{function he(Ae,Ze,Qe,Ct){return new(Qe||(Qe=Promise))(function(Pt,En){function sn(qe){try{Jt(Ct.next(qe))}catch(Yt){En(Yt)}}function Rn(qe){try{Jt(Ct.throw(qe))}catch(Yt){En(Yt)}}function Jt(qe){qe.done?Pt(qe.value):function Et(Pt){return Pt instanceof Qe?Pt:new Qe(function(En){En(Pt)})}(qe.value).then(sn,Rn)}Jt((Ct=Ct.apply(Ae,Ze||[])).next())})}function pt(Ae){return this instanceof pt?(this.v=Ae,this):new pt(Ae)}function ze(Ae,Ze,Qe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,Ct=Qe.apply(Ae,Ze||[]),Pt=[];return Et={},En("next"),En("throw"),En("return"),Et[Symbol.asyncIterator]=function(){return this},Et;function En(Dt){Ct[Dt]&&(Et[Dt]=function(jt){return new Promise(function($t,An){Pt.push([Dt,jt,$t,An])>1||sn(Dt,jt)})})}function sn(Dt,jt){try{!function Rn(Dt){Dt.value instanceof pt?Promise.resolve(Dt.value.v).then(Jt,qe):Yt(Pt[0][2],Dt)}(Ct[Dt](jt))}catch($t){Yt(Pt[0][3],$t)}}function Jt(Dt){sn("next",Dt)}function qe(Dt){sn("throw",Dt)}function Yt(Dt,jt){Dt(jt),Pt.shift(),Pt.length&&sn(Pt[0][0],Pt[0][1])}}function yt(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Qe,Ze=Ae[Symbol.asyncIterator];return Ze?Ze.call(Ae):(Ae=function ye(Ae){var Ze="function"==typeof Symbol&&Symbol.iterator,Qe=Ze&&Ae[Ze],Ct=0;if(Qe)return Qe.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&Ct>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[Ct++],done:!Ae}}};throw new TypeError(Ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),Qe={},Ct("next"),Ct("throw"),Ct("return"),Qe[Symbol.asyncIterator]=function(){return this},Qe);function Ct(Pt){Qe[Pt]=Ae[Pt]&&function(En){return new Promise(function(sn,Rn){!function Et(Pt,En,sn,Rn){Promise.resolve(Rn).then(function(Jt){Pt({value:Jt,done:sn})},En)}(sn,Rn,(En=Ae[Pt](En)).done,En.value)})}}}T.d(et,{FC:()=>ze,KL:()=>yt,mG:()=>he,qq:()=>pt})},7340:(rn,et,T)=>{T.d(et,{IO:()=>Ye,LC:()=>f,SB:()=>Re,X$:()=>B,ZE:()=>_t,ZN:()=>ze,_j:()=>d,eR:()=>ue,jt:()=>_e,k1:()=>yt,l3:()=>P,oB:()=>he,pV:()=>tt,ru:()=>Oe,vP:()=>Fe});class d{}class f{}const P="*";function B(ot,Ue){return{type:7,name:ot,definitions:Ue,options:{}}}function _e(ot,Ue=null){return{type:4,styles:Ue,timings:ot}}function Oe(ot,Ue=null){return{type:3,steps:ot,options:Ue}}function Fe(ot,Ue=null){return{type:2,steps:ot,options:Ue}}function he(ot){return{type:6,styles:ot,offset:null}}function Re(ot,Ue,Xe){return{type:0,name:ot,styles:Ue,options:Xe}}function ue(ot,Ue,Xe=null){return{type:1,expr:ot,animation:Ue,options:Xe}}function tt(ot=null){return{type:9,options:ot}}function Ye(ot,Ue,Xe=null){return{type:11,selector:ot,animation:Ue,options:Xe}}function pt(ot){Promise.resolve(null).then(ot)}class ze{constructor(Ue=0,Xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ue+Xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ue=>Ue()),this._onDoneFns=[])}onStart(Ue){this._originalOnStartFns.push(Ue),this._onStartFns.push(Ue)}onDone(Ue){this._originalOnDoneFns.push(Ue),this._onDoneFns.push(Ue)}onDestroy(Ue){this._onDestroyFns.push(Ue)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ue=>Ue()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ue=>Ue()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ue){this._position=this.totalTime?Ue*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ue){const Xe="start"==Ue?this._onStartFns:this._onDoneFns;Xe.forEach(mt=>mt()),Xe.length=0}}class _t{constructor(Ue){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ue;let Xe=0,mt=0,vt=0;const nt=this.players.length;0==nt?pt(()=>this._onFinish()):this.players.forEach(Ae=>{Ae.onDone(()=>{++Xe==nt&&this._onFinish()}),Ae.onDestroy(()=>{++mt==nt&&this._onDestroy()}),Ae.onStart(()=>{++vt==nt&&this._onStart()})}),this.totalTime=this.players.reduce((Ae,Ze)=>Math.max(Ae,Ze.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ue=>Ue()),this._onDoneFns=[])}init(){this.players.forEach(Ue=>Ue.init())}onStart(Ue){this._onStartFns.push(Ue)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ue=>Ue()),this._onStartFns=[])}onDone(Ue){this._onDoneFns.push(Ue)}onDestroy(Ue){this._onDestroyFns.push(Ue)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ue=>Ue.play())}pause(){this.players.forEach(Ue=>Ue.pause())}restart(){this.players.forEach(Ue=>Ue.restart())}finish(){this._onFinish(),this.players.forEach(Ue=>Ue.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ue=>Ue.destroy()),this._onDestroyFns.forEach(Ue=>Ue()),this._onDestroyFns=[])}reset(){this.players.forEach(Ue=>Ue.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ue){const Xe=Ue*this.totalTime;this.players.forEach(mt=>{const vt=mt.totalTime?Math.min(1,Xe/mt.totalTime):1;mt.setPosition(vt)})}getPosition(){const Ue=this.players.reduce((Xe,mt)=>null===Xe||mt.totalTime>Xe.totalTime?mt:Xe,null);return null!=Ue?Ue.getPosition():0}beforeDestroy(){this.players.forEach(Ue=>{Ue.beforeDestroy&&Ue.beforeDestroy()})}triggerCallback(Ue){const Xe="start"==Ue?this._onStartFns:this._onDoneFns;Xe.forEach(mt=>mt()),Xe.length=0}}const yt="!"},2693:(rn,et,T)=>{T.d(et,{rt:()=>Tt,Em:()=>xi,tE:()=>nn,qV:()=>yi,qm:()=>He,ic:()=>jn,X6:()=>Cn,yG:()=>je});var d=T(6895),f=T(4650),P=T(3353),B=T(7579),_e=T(727),Oe=T(1135),Fe=T(9646),he=T(9521),Re=T(8505),q=T(8372),ue=T(9300),ye=T(4004),tt=T(5698),dt=T(5684),Ye=T(1884),Ft=T(2722),pt=T(1281),ze=T(9643),_t=T(9841),yt=T(7272),ot=T(9751),Ue=T(8675);const mt=new Set;let vt,nt=(()=>{class Ge{constructor(be){this._platform=be,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ze}matchMedia(be){return(this._platform.WEBKIT||this._platform.BLINK)&&function Ae(Ge){if(!mt.has(Ge))try{vt||(vt=document.createElement("style"),vt.setAttribute("type","text/css"),document.head.appendChild(vt)),vt.sheet&&(vt.sheet.insertRule(`@media ${Ge} {body{ }}`,0),mt.add(Ge))}catch(Le){console.error(Le)}}(be),this._matchMedia(be)}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(P.t4))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();function Ze(Ge){return{matches:"all"===Ge||""===Ge,media:Ge,addListener:()=>{},removeListener:()=>{}}}let Qe=(()=>{class Ge{constructor(be,te){this._mediaMatcher=be,this._zone=te,this._queries=new Map,this._destroySubject=new B.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(be){return Ct((0,pt.Eq)(be)).some(oe=>this._registerQuery(oe).mql.matches)}observe(be){const oe=Ct((0,pt.Eq)(be)).map(Be=>this._registerQuery(Be).observable);let ae=(0,_t.a)(oe);return ae=(0,yt.z)(ae.pipe((0,tt.q)(1)),ae.pipe((0,dt.T)(1),(0,q.b)(0))),ae.pipe((0,ye.U)(Be=>{const lt={matches:!1,breakpoints:{}};return Be.forEach(({matches:hn,query:Sn})=>{lt.matches=lt.matches||hn,lt.breakpoints[Sn]=hn}),lt}))}_registerQuery(be){if(this._queries.has(be))return this._queries.get(be);const te=this._mediaMatcher.matchMedia(be),ae={observable:new ot.y(Be=>{const lt=hn=>this._zone.run(()=>Be.next(hn));return te.addListener(lt),()=>{te.removeListener(lt)}}).pipe((0,Ue.O)(te),(0,ye.U)(({matches:Be})=>({query:be,matches:Be})),(0,Ft.R)(this._destroySubject)),mql:te};return this._queries.set(be,ae),ae}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(nt),f.LFG(f.R0b))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();function Ct(Ge){return Ge.map(Le=>Le.split(",")).reduce((Le,be)=>Le.concat(be)).map(Le=>Le.trim())}class xi extends class Nn{constructor(Le){this._items=Le,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new B.x,this._typeaheadSubscription=_e.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=be=>be.disabled,this._pressedLetters=[],this.tabOut=new B.x,this.change=new B.x,Le instanceof f.n_E&&Le.changes.subscribe(be=>{if(this._activeItem){const oe=be.toArray().indexOf(this._activeItem);oe>-1&&oe!==this._activeItemIndex&&(this._activeItemIndex=oe)}})}skipPredicate(Le){return this._skipPredicateFn=Le,this}withWrap(Le=!0){return this._wrap=Le,this}withVerticalOrientation(Le=!0){return this._vertical=Le,this}withHorizontalOrientation(Le){return this._horizontal=Le,this}withAllowedModifierKeys(Le){return this._allowedModifierKeys=Le,this}withTypeAhead(Le=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Re.b)(be=>this._pressedLetters.push(be)),(0,q.b)(Le),(0,ue.h)(()=>this._pressedLetters.length>0),(0,ye.U)(()=>this._pressedLetters.join(""))).subscribe(be=>{const te=this._getItemsArray();for(let oe=1;oe<te.length+1;oe++){const ae=(this._activeItemIndex+oe)%te.length,Be=te[ae];if(!this._skipPredicateFn(Be)&&0===Be.getLabel().toUpperCase().trim().indexOf(be)){this.setActiveItem(ae);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Le=!0){return this._homeAndEnd=Le,this}setActiveItem(Le){const be=this._activeItem;this.updateActiveItem(Le),this._activeItem!==be&&this.change.next(this._activeItemIndex)}onKeydown(Le){const be=Le.keyCode,oe=["altKey","ctrlKey","metaKey","shiftKey"].every(ae=>!Le[ae]||this._allowedModifierKeys.indexOf(ae)>-1);switch(be){case he.Mf:return void this.tabOut.next();case he.JH:if(this._vertical&&oe){this.setNextItemActive();break}return;case he.LH:if(this._vertical&&oe){this.setPreviousItemActive();break}return;case he.SV:if(this._horizontal&&oe){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case he.oh:if(this._horizontal&&oe){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case he.Sd:if(this._homeAndEnd&&oe){this.setFirstItemActive();break}return;case he.uR:if(this._homeAndEnd&&oe){this.setLastItemActive();break}return;default:return void((oe||(0,he.Vb)(Le,"shiftKey"))&&(Le.key&&1===Le.key.length?this._letterKeyStream.next(Le.key.toLocaleUpperCase()):(be>=he.A&&be<=he.Z||be>=he.xE&&be<=he.aO)&&this._letterKeyStream.next(String.fromCharCode(be))))}this._pressedLetters=[],Le.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Le){const be=this._getItemsArray(),te="number"==typeof Le?Le:be.indexOf(Le);this._activeItem=be[te]??null,this._activeItemIndex=te}_setActiveItemByDelta(Le){this._wrap?this._setActiveInWrapMode(Le):this._setActiveInDefaultMode(Le)}_setActiveInWrapMode(Le){const be=this._getItemsArray();for(let te=1;te<=be.length;te++){const oe=(this._activeItemIndex+Le*te+be.length)%be.length;if(!this._skipPredicateFn(be[oe]))return void this.setActiveItem(oe)}}_setActiveInDefaultMode(Le){this._setActiveItemByIndex(this._activeItemIndex+Le,Le)}_setActiveItemByIndex(Le,be){const te=this._getItemsArray();if(te[Le]){for(;this._skipPredicateFn(te[Le]);)if(!te[Le+=be])return;this.setActiveItem(Le)}}_getItemsArray(){return this._items instanceof f.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Le){return this._origin=Le,this}setActiveItem(Le){super.setActiveItem(Le),this.activeItem&&this.activeItem.focus(this._origin)}}let jn=(()=>{class Ge{constructor(be){this._platform=be}isDisabled(be){return be.hasAttribute("disabled")}isVisible(be){return function Wn(Ge){return!!(Ge.offsetWidth||Ge.offsetHeight||"function"==typeof Ge.getClientRects&&Ge.getClientRects().length)}(be)&&"visible"===getComputedStyle(be).visibility}isTabbable(be){if(!this._platform.isBrowser)return!1;const te=function Ii(Ge){try{return Ge.frameElement}catch{return null}}(function zi(Ge){return Ge.ownerDocument&&Ge.ownerDocument.defaultView||window}(be));if(te&&(-1===ti(te)||!this.isVisible(te)))return!1;let oe=be.nodeName.toLowerCase(),ae=ti(be);return be.hasAttribute("contenteditable")?-1!==ae:!("iframe"===oe||"object"===oe||this._platform.WEBKIT&&this._platform.IOS&&!function fi(Ge){let Le=Ge.nodeName.toLowerCase(),be="input"===Le&&Ge.type;return"text"===be||"password"===be||"select"===Le||"textarea"===Le}(be))&&("audio"===oe?!!be.hasAttribute("controls")&&-1!==ae:"video"===oe?-1!==ae&&(null!==ae||this._platform.FIREFOX||be.hasAttribute("controls")):be.tabIndex>=0)}isFocusable(be,te){return function Pi(Ge){return!function zt(Ge){return function ei(Ge){return"input"==Ge.nodeName.toLowerCase()}(Ge)&&"hidden"==Ge.type}(Ge)&&(function ii(Ge){let Le=Ge.nodeName.toLowerCase();return"input"===Le||"select"===Le||"button"===Le||"textarea"===Le}(Ge)||function qn(Ge){return function en(Ge){return"a"==Ge.nodeName.toLowerCase()}(Ge)&&Ge.hasAttribute("href")}(Ge)||Ge.hasAttribute("contenteditable")||$n(Ge))}(be)&&!this.isDisabled(be)&&(te?.ignoreVisibility||this.isVisible(be))}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(P.t4))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();function $n(Ge){if(!Ge.hasAttribute("tabindex")||void 0===Ge.tabIndex)return!1;let Le=Ge.getAttribute("tabindex");return!(!Le||isNaN(parseInt(Le,10)))}function ti(Ge){if(!$n(Ge))return null;const Le=parseInt(Ge.getAttribute("tabindex")||"",10);return isNaN(Le)?-1:Le}class Fn{constructor(Le,be,te,oe,ae=!1){this._element=Le,this._checker=be,this._ngZone=te,this._document=oe,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,ae||this.attachAnchors()}get enabled(){return this._enabled}set enabled(Le){this._enabled=Le,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}destroy(){const Le=this._startAnchor,be=this._endAnchor;Le&&(Le.removeEventListener("focus",this.startAnchorListener),Le.remove()),be&&(be.removeEventListener("focus",this.endAnchorListener),be.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Le){return new Promise(be=>{this._executeOnStable(()=>be(this.focusInitialElement(Le)))})}focusFirstTabbableElementWhenReady(Le){return new Promise(be=>{this._executeOnStable(()=>be(this.focusFirstTabbableElement(Le)))})}focusLastTabbableElementWhenReady(Le){return new Promise(be=>{this._executeOnStable(()=>be(this.focusLastTabbableElement(Le)))})}_getRegionBoundary(Le){const be=this._element.querySelectorAll(`[cdk-focus-region-${Le}], [cdkFocusRegion${Le}], [cdk-focus-${Le}]`);return"start"==Le?be.length?be[0]:this._getFirstTabbableElement(this._element):be.length?be[be.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Le){const be=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(be){if(!this._checker.isFocusable(be)){const te=this._getFirstTabbableElement(be);return te?.focus(Le),!!te}return be.focus(Le),!0}return this.focusFirstTabbableElement(Le)}focusFirstTabbableElement(Le){const be=this._getRegionBoundary("start");return be&&be.focus(Le),!!be}focusLastTabbableElement(Le){const be=this._getRegionBoundary("end");return be&&be.focus(Le),!!be}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const be=Le.children;for(let te=0;te<be.length;te++){const oe=be[te].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(be[te]):null;if(oe)return oe}return null}_getLastTabbableElement(Le){if(this._checker.isFocusable(Le)&&this._checker.isTabbable(Le))return Le;const be=Le.children;for(let te=be.length-1;te>=0;te--){const oe=be[te].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(be[te]):null;if(oe)return oe}return null}_createAnchor(){const Le=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Le),Le.classList.add("cdk-visually-hidden"),Le.classList.add("cdk-focus-trap-anchor"),Le.setAttribute("aria-hidden","true"),Le}_toggleAnchorTabIndex(Le,be){Le?be.setAttribute("tabindex","0"):be.removeAttribute("tabindex")}toggleAnchors(Le){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Le,this._startAnchor),this._toggleAnchorTabIndex(Le,this._endAnchor))}_executeOnStable(Le){this._ngZone.isStable?Le():this._ngZone.onStable.pipe((0,tt.q)(1)).subscribe(Le)}}let yi=(()=>{class Ge{constructor(be,te,oe){this._checker=be,this._ngZone=te,this._document=oe}create(be,te=!1){return new Fn(be,this._checker,this._ngZone,this._document,te)}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(jn),f.LFG(f.R0b),f.LFG(d.K0))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();function Cn(Ge){return 0===Ge.buttons||0===Ge.offsetX&&0===Ge.offsetY}function je(Ge){const Le=Ge.touches&&Ge.touches[0]||Ge.changedTouches&&Ge.changedTouches[0];return!(!Le||-1!==Le.identifier||null!=Le.radiusX&&1!==Le.radiusX||null!=Le.radiusY&&1!==Le.radiusY)}const It=new f.OlP("cdk-input-modality-detector-options"),$={ignoreKeys:[he.zL,he.jx,he.b2,he.MW,he.JU]},se=(0,P.i$)({passive:!0,capture:!0});let Q=(()=>{class Ge{constructor(be,te,oe,ae){this._platform=be,this._mostRecentTarget=null,this._modality=new Oe.X(null),this._lastTouchMs=0,this._onKeydown=Be=>{this._options?.ignoreKeys?.some(lt=>lt===Be.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,P.sA)(Be))},this._onMousedown=Be=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Cn(Be)?"keyboard":"mouse"),this._mostRecentTarget=(0,P.sA)(Be))},this._onTouchstart=Be=>{je(Be)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,P.sA)(Be))},this._options={...$,...ae},this.modalityDetected=this._modality.pipe((0,dt.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ye.x)()),be.isBrowser&&te.runOutsideAngular(()=>{oe.addEventListener("keydown",this._onKeydown,se),oe.addEventListener("mousedown",this._onMousedown,se),oe.addEventListener("touchstart",this._onTouchstart,se)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,se),document.removeEventListener("mousedown",this._onMousedown,se),document.removeEventListener("touchstart",this._onTouchstart,se))}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(P.t4),f.LFG(f.R0b),f.LFG(d.K0),f.LFG(It,8))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();const Je=new f.OlP("cdk-focus-monitor-default-options"),it=(0,P.i$)({passive:!0,capture:!0});let nn=(()=>{class Ge{constructor(be,te,oe,ae,Be){this._ngZone=be,this._platform=te,this._inputModalityDetector=oe,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B.x,this._rootNodeFocusAndBlurListener=lt=>{for(let Sn=(0,P.sA)(lt);Sn;Sn=Sn.parentElement)"focus"===lt.type?this._onFocus(lt,Sn):this._onBlur(lt,Sn)},this._document=ae,this._detectionMode=Be?.detectionMode||0}monitor(be,te=!1){const oe=(0,pt.fI)(be);if(!this._platform.isBrowser||1!==oe.nodeType)return(0,Fe.of)(null);const ae=(0,P.kV)(oe)||this._getDocument(),Be=this._elementInfo.get(oe);if(Be)return te&&(Be.checkChildren=!0),Be.subject;const lt={checkChildren:te,subject:new B.x,rootNode:ae};return this._elementInfo.set(oe,lt),this._registerGlobalListeners(lt),lt.subject}stopMonitoring(be){const te=(0,pt.fI)(be),oe=this._elementInfo.get(te);oe&&(oe.subject.complete(),this._setClasses(te),this._elementInfo.delete(te),this._removeGlobalListeners(oe))}focusVia(be,te,oe){const ae=(0,pt.fI)(be);ae===this._getDocument().activeElement?this._getClosestElementsInfo(ae).forEach(([lt,hn])=>this._originChanged(lt,te,hn)):(this._setOrigin(te),"function"==typeof ae.focus&&ae.focus(oe))}ngOnDestroy(){this._elementInfo.forEach((be,te)=>this.stopMonitoring(te))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(be){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(be)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:be&&this._isLastInteractionFromInputLabel(be)?"mouse":"program"}_shouldBeAttributedToTouch(be){return 1===this._detectionMode||!!be?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(be,te){be.classList.toggle("cdk-focused",!!te),be.classList.toggle("cdk-touch-focused","touch"===te),be.classList.toggle("cdk-keyboard-focused","keyboard"===te),be.classList.toggle("cdk-mouse-focused","mouse"===te),be.classList.toggle("cdk-program-focused","program"===te)}_setOrigin(be,te=!1){this._ngZone.runOutsideAngular(()=>{this._origin=be,this._originFromTouchInteraction="touch"===be&&te,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(be,te){const oe=this._elementInfo.get(te),ae=(0,P.sA)(be);!oe||!oe.checkChildren&&te!==ae||this._originChanged(te,this._getFocusOrigin(ae),oe)}_onBlur(be,te){const oe=this._elementInfo.get(te);!oe||oe.checkChildren&&be.relatedTarget instanceof Node&&te.contains(be.relatedTarget)||(this._setClasses(te),this._emitOrigin(oe,null))}_emitOrigin(be,te){be.subject.observers.length&&this._ngZone.run(()=>be.subject.next(te))}_registerGlobalListeners(be){if(!this._platform.isBrowser)return;const te=be.rootNode,oe=this._rootNodeFocusListenerCount.get(te)||0;oe||this._ngZone.runOutsideAngular(()=>{te.addEventListener("focus",this._rootNodeFocusAndBlurListener,it),te.addEventListener("blur",this._rootNodeFocusAndBlurListener,it)}),this._rootNodeFocusListenerCount.set(te,oe+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,Ft.R)(this._stopInputModalityDetector)).subscribe(ae=>{this._setOrigin(ae,!0)}))}_removeGlobalListeners(be){const te=be.rootNode;if(this._rootNodeFocusListenerCount.has(te)){const oe=this._rootNodeFocusListenerCount.get(te);oe>1?this._rootNodeFocusListenerCount.set(te,oe-1):(te.removeEventListener("focus",this._rootNodeFocusAndBlurListener,it),te.removeEventListener("blur",this._rootNodeFocusAndBlurListener,it),this._rootNodeFocusListenerCount.delete(te))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(be,te,oe){this._setClasses(be,te),this._emitOrigin(oe,te),this._lastFocusOrigin=te}_getClosestElementsInfo(be){const te=[];return this._elementInfo.forEach((oe,ae)=>{(ae===be||oe.checkChildren&&ae.contains(be))&&te.push([ae,oe])}),te}_isLastInteractionFromInputLabel(be){const{_mostRecentTarget:te,mostRecentModality:oe}=this._inputModalityDetector;if("mouse"!==oe||!te||te===be||"INPUT"!==be.nodeName&&"TEXTAREA"!==be.nodeName||be.disabled)return!1;const ae=be.labels;if(ae)for(let Be=0;Be<ae.length;Be++)if(ae[Be].contains(te))return!0;return!1}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(f.R0b),f.LFG(P.t4),f.LFG(Q),f.LFG(d.K0,8),f.LFG(Je,8))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})();const dn="cdk-high-contrast-black-on-white",at="cdk-high-contrast-white-on-black",ke="cdk-high-contrast-active";let He=(()=>{class Ge{constructor(be,te){this._platform=be,this._document=te,this._breakpointSubscription=(0,f.f3M)(Qe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const be=this._document.createElement("div");be.style.backgroundColor="rgb(1,2,3)",be.style.position="absolute",this._document.body.appendChild(be);const te=this._document.defaultView||window,oe=te&&te.getComputedStyle?te.getComputedStyle(be):null,ae=(oe&&oe.backgroundColor||"").replace(/ /g,"");switch(be.remove(),ae){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const be=this._document.body.classList;be.remove(ke,dn,at),this._hasCheckedHighContrastMode=!0;const te=this.getHighContrastMode();1===te?be.add(ke,dn):2===te&&be.add(ke,at)}}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(P.t4),f.LFG(d.K0))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"root"}),Ge})(),Tt=(()=>{class Ge{constructor(be){be._applyBodyHighContrastModeCssClasses()}}return Ge.\u0275fac=function(be){return new(be||Ge)(f.LFG(He))},Ge.\u0275mod=f.oAB({type:Ge}),Ge.\u0275inj=f.cJS({imports:[ze.Q8]}),Ge})()},445:(rn,et,T)=>{T.d(et,{Is:()=>Fe,vT:()=>Re});var d=T(4650),f=T(6895);const P=new d.OlP("cdk-dir-doc",{providedIn:"root",factory:function B(){return(0,d.f3M)(f.K0)}}),_e=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Fe=(()=>{class q{constructor(ye){if(this.value="ltr",this.change=new d.vpe,ye){const dt=ye.documentElement?ye.documentElement.dir:null;this.value=function Oe(q){const ue=q?.toLowerCase()||"";return"auto"===ue&&typeof navigator<"u"&&navigator?.language?_e.test(navigator.language)?"rtl":"ltr":"rtl"===ue?"rtl":"ltr"}((ye.body?ye.body.dir:null)||dt||"ltr")}}ngOnDestroy(){this.change.complete()}}return q.\u0275fac=function(ye){return new(ye||q)(d.LFG(P,8))},q.\u0275prov=d.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Re=(()=>{class q{}return q.\u0275fac=function(ye){return new(ye||q)},q.\u0275mod=d.oAB({type:q}),q.\u0275inj=d.cJS({}),q})()},1281:(rn,et,T)=>{T.d(et,{Eq:()=>_e,HM:()=>Oe,Ig:()=>f,fI:()=>Fe,su:()=>P});var d=T(4650);function f(Re){return null!=Re&&"false"!=`${Re}`}function P(Re,q=0){return function B(Re){return!isNaN(parseFloat(Re))&&!isNaN(Number(Re))}(Re)?Number(Re):q}function _e(Re){return Array.isArray(Re)?Re:[Re]}function Oe(Re){return null==Re?"":"string"==typeof Re?Re:`${Re}px`}function Fe(Re){return Re instanceof d.SBq?Re.nativeElement:Re}},9521:(rn,et,T)=>{T.d(et,{A:()=>Dt,JH:()=>yt,JU:()=>Oe,K5:()=>_e,LH:()=>ze,L_:()=>ye,MW:()=>wt,Mf:()=>P,SV:()=>_t,Sd:()=>Ft,Vb:()=>ns,Z:()=>Te,aO:()=>sn,b2:()=>Ai,hY:()=>ue,jx:()=>Fe,oh:()=>pt,uR:()=>Ye,xE:()=>vt,zL:()=>he});const P=9,_e=13,Oe=16,Fe=17,he=18,ue=27,ye=32,Ye=35,Ft=36,pt=37,ze=38,_t=39,yt=40,vt=48,sn=57,Dt=65,Te=90,wt=91,Ai=224;function ns(Ti,...Cs){return Cs.length?Cs.some(or=>Ti[or]):Ti.altKey||Ti.shiftKey||Ti.ctrlKey||Ti.metaKey}},9643:(rn,et,T)=>{T.d(et,{Q8:()=>Re,wD:()=>he});var d=T(1281),f=T(4650),P=T(9751),B=T(7579),_e=T(8372);let Oe=(()=>{class q{create(ye){return typeof MutationObserver>"u"?null:new MutationObserver(ye)}}return q.\u0275fac=function(ye){return new(ye||q)},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),Fe=(()=>{class q{constructor(ye){this._mutationObserverFactory=ye,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((ye,tt)=>this._cleanupObserver(tt))}observe(ye){const tt=(0,d.fI)(ye);return new P.y(dt=>{const Ft=this._observeElement(tt).subscribe(dt);return()=>{Ft.unsubscribe(),this._unobserveElement(tt)}})}_observeElement(ye){if(this._observedElements.has(ye))this._observedElements.get(ye).count++;else{const tt=new B.x,dt=this._mutationObserverFactory.create(Ye=>tt.next(Ye));dt&&dt.observe(ye,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(ye,{observer:dt,stream:tt,count:1})}return this._observedElements.get(ye).stream}_unobserveElement(ye){this._observedElements.has(ye)&&(this._observedElements.get(ye).count--,this._observedElements.get(ye).count||this._cleanupObserver(ye))}_cleanupObserver(ye){if(this._observedElements.has(ye)){const{observer:tt,stream:dt}=this._observedElements.get(ye);tt&&tt.disconnect(),dt.complete(),this._observedElements.delete(ye)}}}return q.\u0275fac=function(ye){return new(ye||q)(f.LFG(Oe))},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})(),he=(()=>{class q{constructor(ye,tt,dt){this._contentObserver=ye,this._elementRef=tt,this._ngZone=dt,this.event=new f.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(ye){this._disabled=(0,d.Ig)(ye),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(ye){this._debounce=(0,d.su)(ye),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const ye=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?ye.pipe((0,_e.b)(this.debounce)):ye).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return q.\u0275fac=function(ye){return new(ye||q)(f.Y36(Fe),f.Y36(f.SBq),f.Y36(f.R0b))},q.\u0275dir=f.lG2({type:q,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),q})(),Re=(()=>{class q{}return q.\u0275fac=function(ye){return new(ye||q)},q.\u0275mod=f.oAB({type:q}),q.\u0275inj=f.cJS({providers:[Oe]}),q})()},3353:(rn,et,T)=>{T.d(et,{Mq:()=>dt,Oy:()=>ot,_i:()=>Ye,ht:()=>_t,i$:()=>ue,kV:()=>ze,sA:()=>yt,t4:()=>B});var d=T(4650),f=T(6895);let P;try{P=typeof Intl<"u"&&Intl.v8BreakIterator}catch{P=!1}let Re,ye,tt,Ft,B=(()=>{class Ue{constructor(mt){this._platformId=mt,this.isBrowser=this._platformId?(0,f.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!P)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return Ue.\u0275fac=function(mt){return new(mt||Ue)(d.LFG(d.Lbi))},Ue.\u0275prov=d.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})();function ue(Ue){return function q(){if(null==Re&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Re=!0}))}finally{Re=Re||!1}return Re}()?Ue:!!Ue.capture}function dt(){if(null==tt){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return tt=!1,tt;if("scrollBehavior"in document.documentElement.style)tt=!0;else{const Ue=Element.prototype.scrollTo;tt=!!Ue&&!/\{\s*\[native code\]\s*\}/.test(Ue.toString())}}return tt}function Ye(){if("object"!=typeof document||!document)return 0;if(null==ye){const Ue=document.createElement("div"),Xe=Ue.style;Ue.dir="rtl",Xe.width="1px",Xe.overflow="auto",Xe.visibility="hidden",Xe.pointerEvents="none",Xe.position="absolute";const mt=document.createElement("div"),vt=mt.style;vt.width="2px",vt.height="1px",Ue.appendChild(mt),document.body.appendChild(Ue),ye=0,0===Ue.scrollLeft&&(Ue.scrollLeft=1,ye=0===Ue.scrollLeft?1:2),Ue.remove()}return ye}function ze(Ue){if(function pt(){if(null==Ft){const Ue=typeof document<"u"?document.head:null;Ft=!(!Ue||!Ue.createShadowRoot&&!Ue.attachShadow)}return Ft}()){const Xe=Ue.getRootNode?Ue.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Xe instanceof ShadowRoot)return Xe}return null}function _t(){let Ue=typeof document<"u"&&document?document.activeElement:null;for(;Ue&&Ue.shadowRoot;){const Xe=Ue.shadowRoot.activeElement;if(Xe===Ue)break;Ue=Xe}return Ue}function yt(Ue){return Ue.composedPath?Ue.composedPath()[0]:Ue.target}function ot(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},4080:(rn,et,T)=>{T.d(et,{C5:()=>q,Pl:()=>_t,UE:()=>ue,eL:()=>ot,en:()=>tt,u0:()=>Ye});var d=T(4650),f=T(6895);class Re{attach(mt){return this._attachedHost=mt,mt.attach(this)}detach(){let mt=this._attachedHost;null!=mt&&(this._attachedHost=null,mt.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(mt){this._attachedHost=mt}}class q extends Re{constructor(mt,vt,nt,Ae){super(),this.component=mt,this.viewContainerRef=vt,this.injector=nt,this.componentFactoryResolver=Ae}}class ue extends Re{constructor(mt,vt,nt,Ae){super(),this.templateRef=mt,this.viewContainerRef=vt,this.context=nt,this.injector=Ae}get origin(){return this.templateRef.elementRef}attach(mt,vt=this.context){return this.context=vt,super.attach(mt)}detach(){return this.context=void 0,super.detach()}}class ye extends Re{constructor(mt){super(),this.element=mt instanceof d.SBq?mt.nativeElement:mt}}class tt{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(mt){return mt instanceof q?(this._attachedPortal=mt,this.attachComponentPortal(mt)):mt instanceof ue?(this._attachedPortal=mt,this.attachTemplatePortal(mt)):this.attachDomPortal&&mt instanceof ye?(this._attachedPortal=mt,this.attachDomPortal(mt)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(mt){this._disposeFn=mt}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ye extends tt{constructor(mt,vt,nt,Ae,Ze){super(),this.outletElement=mt,this._componentFactoryResolver=vt,this._appRef=nt,this._defaultInjector=Ae,this.attachDomPortal=Qe=>{const Ct=Qe.element,Et=this._document.createComment("dom-portal");Ct.parentNode.insertBefore(Et,Ct),this.outletElement.appendChild(Ct),this._attachedPortal=Qe,super.setDisposeFn(()=>{Et.parentNode&&Et.parentNode.replaceChild(Ct,Et)})},this._document=Ze}attachComponentPortal(mt){const nt=(mt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(mt.component);let Ae;return mt.viewContainerRef?(Ae=mt.viewContainerRef.createComponent(nt,mt.viewContainerRef.length,mt.injector||mt.viewContainerRef.injector),this.setDisposeFn(()=>Ae.destroy())):(Ae=nt.create(mt.injector||this._defaultInjector||d.zs3.NULL),this._appRef.attachView(Ae.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(Ae.hostView),Ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ae)),this._attachedPortal=mt,Ae}attachTemplatePortal(mt){let vt=mt.viewContainerRef,nt=vt.createEmbeddedView(mt.templateRef,mt.context,{injector:mt.injector});return nt.rootNodes.forEach(Ae=>this.outletElement.appendChild(Ae)),nt.detectChanges(),this.setDisposeFn(()=>{let Ae=vt.indexOf(nt);-1!==Ae&&vt.remove(Ae)}),this._attachedPortal=mt,nt}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(mt){return mt.hostView.rootNodes[0]}}let _t=(()=>{class Xe extends tt{constructor(vt,nt,Ae){super(),this._componentFactoryResolver=vt,this._viewContainerRef=nt,this._isInitialized=!1,this.attached=new d.vpe,this.attachDomPortal=Ze=>{const Qe=Ze.element,Ct=this._document.createComment("dom-portal");Ze.setAttachedHost(this),Qe.parentNode.insertBefore(Ct,Qe),this._getRootNode().appendChild(Qe),this._attachedPortal=Ze,super.setDisposeFn(()=>{Ct.parentNode&&Ct.parentNode.replaceChild(Qe,Ct)})},this._document=Ae}get portal(){return this._attachedPortal}set portal(vt){this.hasAttached()&&!vt&&!this._isInitialized||(this.hasAttached()&&super.detach(),vt&&super.attach(vt),this._attachedPortal=vt||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(vt){vt.setAttachedHost(this);const nt=null!=vt.viewContainerRef?vt.viewContainerRef:this._viewContainerRef,Ze=(vt.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(vt.component),Qe=nt.createComponent(Ze,nt.length,vt.injector||nt.injector);return nt!==this._viewContainerRef&&this._getRootNode().appendChild(Qe.hostView.rootNodes[0]),super.setDisposeFn(()=>Qe.destroy()),this._attachedPortal=vt,this._attachedRef=Qe,this.attached.emit(Qe),Qe}attachTemplatePortal(vt){vt.setAttachedHost(this);const nt=this._viewContainerRef.createEmbeddedView(vt.templateRef,vt.context,{injector:vt.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=vt,this._attachedRef=nt,this.attached.emit(nt),nt}_getRootNode(){const vt=this._viewContainerRef.element.nativeElement;return vt.nodeType===vt.ELEMENT_NODE?vt:vt.parentNode}}return Xe.\u0275fac=function(vt){return new(vt||Xe)(d.Y36(d._Vd),d.Y36(d.s_b),d.Y36(f.K0))},Xe.\u0275dir=d.lG2({type:Xe,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[d.qOj]}),Xe})(),ot=(()=>{class Xe{}return Xe.\u0275fac=function(vt){return new(vt||Xe)},Xe.\u0275mod=d.oAB({type:Xe}),Xe.\u0275inj=d.cJS({}),Xe})()},8605:(rn,et,T)=>{T.d(et,{PQ:()=>Ii,ZD:()=>Fn,mF:()=>jn,Cl:()=>yi,rL:()=>ii});var d=T(1281),f=T(4650),P=T(7579),B=T(9646),_e=T(9751),Oe=T(4968),Fe=T(4408),he=T(727);const Re={schedule(Qt){let gt=requestAnimationFrame,Te=cancelAnimationFrame;const{delegate:wt}=Re;wt&&(gt=wt.requestAnimationFrame,Te=wt.cancelAnimationFrame);const Lt=gt(qt=>{Te=void 0,Qt(qt)});return new he.w0(()=>Te?.(Lt))},requestAnimationFrame(...Qt){const{delegate:gt}=Re;return(gt?.requestAnimationFrame||requestAnimationFrame)(...Qt)},cancelAnimationFrame(...Qt){const{delegate:gt}=Re;return(gt?.cancelAnimationFrame||cancelAnimationFrame)(...Qt)},delegate:void 0};var ue=T(7565);new class ye extends ue.v{flush(gt){this._active=!0,this._scheduled=void 0;const{actions:Te}=this;let wt,Lt=-1;gt=gt||Te.shift();const qt=Te.length;do{if(wt=gt.execute(gt.state,gt.delay))break}while(++Lt<qt&&(gt=Te.shift()));if(this._active=!1,wt){for(;++Lt<qt&&(gt=Te.shift());)gt.unsubscribe();throw wt}}}(class q extends Fe.o{constructor(gt,Te){super(gt,Te),this.scheduler=gt,this.work=Te}requestAsyncId(gt,Te,wt=0){return null!==wt&&wt>0?super.requestAsyncId(gt,Te,wt):(gt.actions.push(this),gt._scheduled||(gt._scheduled=Re.requestAnimationFrame(()=>gt.flush(void 0))))}recycleAsyncId(gt,Te,wt=0){if(null!=wt&&wt>0||null==wt&&this.delay>0)return super.recycleAsyncId(gt,Te,wt);0===gt.actions.length&&(Re.cancelAnimationFrame(Te),gt._scheduled=void 0)}});let Ft,Ye=1;const pt={};function ze(Qt){return Qt in pt&&(delete pt[Qt],!0)}const _t={setImmediate(Qt){const gt=Ye++;return pt[gt]=!0,Ft||(Ft=Promise.resolve()),Ft.then(()=>ze(gt)&&Qt()),gt},clearImmediate(Qt){ze(Qt)}},{setImmediate:ot,clearImmediate:Ue}=_t,Xe={setImmediate(...Qt){const{delegate:gt}=Xe;return(gt?.setImmediate||ot)(...Qt)},clearImmediate(Qt){const{delegate:gt}=Xe;return(gt?.clearImmediate||Ue)(Qt)},delegate:void 0};new class vt extends ue.v{flush(gt){this._active=!0,this._scheduled=void 0;const{actions:Te}=this;let wt,Lt=-1;gt=gt||Te.shift();const qt=Te.length;do{if(wt=gt.execute(gt.state,gt.delay))break}while(++Lt<qt&&(gt=Te.shift()));if(this._active=!1,wt){for(;++Lt<qt&&(gt=Te.shift());)gt.unsubscribe();throw wt}}}(class mt extends Fe.o{constructor(gt,Te){super(gt,Te),this.scheduler=gt,this.work=Te}requestAsyncId(gt,Te,wt=0){return null!==wt&&wt>0?super.requestAsyncId(gt,Te,wt):(gt.actions.push(this),gt._scheduled||(gt._scheduled=Xe.setImmediate(gt.flush.bind(gt,void 0))))}recycleAsyncId(gt,Te,wt=0){if(null!=wt&&wt>0||null==wt&&this.delay>0)return super.recycleAsyncId(gt,Te,wt);0===gt.actions.length&&(Xe.clearImmediate(Te),gt._scheduled=void 0)}});var Ze=T(4986),Qe=T(4482),Ct=T(8421),Et=T(5403),En=T(5963);function sn(Qt,gt=Ze.P){return function Pt(Qt){return(0,Qe.e)((gt,Te)=>{let wt=!1,Lt=null,qt=null,Cn=!1;const je=()=>{if(qt?.unsubscribe(),qt=null,wt){wt=!1;const $=Lt;Lt=null,Te.next($)}Cn&&Te.complete()},It=()=>{qt=null,Cn&&Te.complete()};gt.subscribe(new Et.Q(Te,$=>{wt=!0,Lt=$,qt||(0,Ct.Xf)(Qt($)).subscribe(qt=new Et.Q(Te,je,It))},()=>{Cn=!0,(!wt||!qt||qt.closed)&&Te.complete()}))})}(()=>(0,En.H)(Qt,gt))}var Rn=T(9300),Jt=T(2722),qe=T(3353),Yt=T(6895),Dt=T(445);let jn=(()=>{class Qt{constructor(Te,wt,Lt){this._ngZone=Te,this._platform=wt,this._scrolled=new P.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=Lt}register(Te){this.scrollContainers.has(Te)||this.scrollContainers.set(Te,Te.elementScrolled().subscribe(()=>this._scrolled.next(Te)))}deregister(Te){const wt=this.scrollContainers.get(Te);wt&&(wt.unsubscribe(),this.scrollContainers.delete(Te))}scrolled(Te=20){return this._platform.isBrowser?new _e.y(wt=>{this._globalSubscription||this._addGlobalListener();const Lt=Te>0?this._scrolled.pipe(sn(Te)).subscribe(wt):this._scrolled.subscribe(wt);return this._scrolledCount++,()=>{Lt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,B.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Te,wt)=>this.deregister(wt)),this._scrolled.complete()}ancestorScrolled(Te,wt){const Lt=this.getAncestorScrollContainers(Te);return this.scrolled(wt).pipe((0,Rn.h)(qt=>!qt||Lt.indexOf(qt)>-1))}getAncestorScrollContainers(Te){const wt=[];return this.scrollContainers.forEach((Lt,qt)=>{this._scrollableContainsElement(qt,Te)&&wt.push(qt)}),wt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Te,wt){let Lt=(0,d.fI)(wt),qt=Te.getElementRef().nativeElement;do{if(Lt==qt)return!0}while(Lt=Lt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Te=this._getWindow();return(0,Oe.R)(Te.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Qt.\u0275fac=function(Te){return new(Te||Qt)(f.LFG(f.R0b),f.LFG(qe.t4),f.LFG(Yt.K0,8))},Qt.\u0275prov=f.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})(),Ii=(()=>{class Qt{constructor(Te,wt,Lt,qt){this.elementRef=Te,this.scrollDispatcher=wt,this.ngZone=Lt,this.dir=qt,this._destroyed=new P.x,this._elementScrolled=new _e.y(Cn=>this.ngZone.runOutsideAngular(()=>(0,Oe.R)(this.elementRef.nativeElement,"scroll").pipe((0,Jt.R)(this._destroyed)).subscribe(Cn)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Te){const wt=this.elementRef.nativeElement,Lt=this.dir&&"rtl"==this.dir.value;null==Te.left&&(Te.left=Lt?Te.end:Te.start),null==Te.right&&(Te.right=Lt?Te.start:Te.end),null!=Te.bottom&&(Te.top=wt.scrollHeight-wt.clientHeight-Te.bottom),Lt&&0!=(0,qe._i)()?(null!=Te.left&&(Te.right=wt.scrollWidth-wt.clientWidth-Te.left),2==(0,qe._i)()?Te.left=Te.right:1==(0,qe._i)()&&(Te.left=Te.right?-Te.right:Te.right)):null!=Te.right&&(Te.left=wt.scrollWidth-wt.clientWidth-Te.right),this._applyScrollToOptions(Te)}_applyScrollToOptions(Te){const wt=this.elementRef.nativeElement;(0,qe.Mq)()?wt.scrollTo(Te):(null!=Te.top&&(wt.scrollTop=Te.top),null!=Te.left&&(wt.scrollLeft=Te.left))}measureScrollOffset(Te){const wt="left",qt=this.elementRef.nativeElement;if("top"==Te)return qt.scrollTop;if("bottom"==Te)return qt.scrollHeight-qt.clientHeight-qt.scrollTop;const Cn=this.dir&&"rtl"==this.dir.value;return"start"==Te?Te=Cn?"right":wt:"end"==Te&&(Te=Cn?wt:"right"),Cn&&2==(0,qe._i)()?Te==wt?qt.scrollWidth-qt.clientWidth-qt.scrollLeft:qt.scrollLeft:Cn&&1==(0,qe._i)()?Te==wt?qt.scrollLeft+qt.scrollWidth-qt.clientWidth:-qt.scrollLeft:Te==wt?qt.scrollLeft:qt.scrollWidth-qt.clientWidth-qt.scrollLeft}}return Qt.\u0275fac=function(Te){return new(Te||Qt)(f.Y36(f.SBq),f.Y36(jn),f.Y36(f.R0b),f.Y36(Dt.Is,8))},Qt.\u0275dir=f.lG2({type:Qt,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Qt})(),ii=(()=>{class Qt{constructor(Te,wt,Lt){this._platform=Te,this._change=new P.x,this._changeListener=qt=>{this._change.next(qt)},this._document=Lt,wt.runOutsideAngular(()=>{if(Te.isBrowser){const qt=this._getWindow();qt.addEventListener("resize",this._changeListener),qt.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Te=this._getWindow();Te.removeEventListener("resize",this._changeListener),Te.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Te={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Te}getViewportRect(){const Te=this.getViewportScrollPosition(),{width:wt,height:Lt}=this.getViewportSize();return{top:Te.top,left:Te.left,bottom:Te.top+Lt,right:Te.left+wt,height:Lt,width:wt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Te=this._document,wt=this._getWindow(),Lt=Te.documentElement,qt=Lt.getBoundingClientRect();return{top:-qt.top||Te.body.scrollTop||wt.scrollY||Lt.scrollTop||0,left:-qt.left||Te.body.scrollLeft||wt.scrollX||Lt.scrollLeft||0}}change(Te=20){return Te>0?this._change.pipe(sn(Te)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Te=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Te.innerWidth,height:Te.innerHeight}:{width:0,height:0}}}return Qt.\u0275fac=function(Te){return new(Te||Qt)(f.LFG(qe.t4),f.LFG(f.R0b),f.LFG(Yt.K0,8))},Qt.\u0275prov=f.Yz7({token:Qt,factory:Qt.\u0275fac,providedIn:"root"}),Qt})(),Fn=(()=>{class Qt{}return Qt.\u0275fac=function(Te){return new(Te||Qt)},Qt.\u0275mod=f.oAB({type:Qt}),Qt.\u0275inj=f.cJS({}),Qt})(),yi=(()=>{class Qt{}return Qt.\u0275fac=function(Te){return new(Te||Qt)},Qt.\u0275mod=f.oAB({type:Qt}),Qt.\u0275inj=f.cJS({imports:[Dt.vT,Fn,Dt.vT,Fn]}),Qt})()},6895:(rn,et,T)=>{T.d(et,{Do:()=>yt,EM:()=>Ba,HT:()=>_e,JF:()=>hs,K0:()=>Fe,Mx:()=>mr,NF:()=>zs,O5:()=>Ti,PC:()=>Gs,PM:()=>ds,S$:()=>pt,V_:()=>q,Ye:()=>ot,b0:()=>_t,bD:()=>Li,ez:()=>ia,mk:()=>Xn,q:()=>P,sg:()=>qr,w_:()=>Oe});var d=T(4650);let f=null;function P(){return f}function _e(O){f||(f=O)}class Oe{}const Fe=new d.OlP("DocumentToken");let he=(()=>{class O{historyGo(N){throw new Error("Not implemented")}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=d.Yz7({token:O,factory:function(){return function Re(){return(0,d.LFG)(ue)}()},providedIn:"platform"}),O})();const q=new d.OlP("Location Initialized");let ue=(()=>{class O extends he{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(N){const fe=P().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("popstate",N,!1),()=>fe.removeEventListener("popstate",N)}onHashChange(N){const fe=P().getGlobalEventTarget(this._doc,"window");return fe.addEventListener("hashchange",N,!1),()=>fe.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,fe,$e){ye()?this._history.pushState(N,fe,$e):this.location.hash=$e}replaceState(N,fe,$e){ye()?this._history.replaceState(N,fe,$e):this.location.hash=$e}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return O.\u0275fac=function(N){return new(N||O)(d.LFG(Fe))},O.\u0275prov=d.Yz7({token:O,factory:function(){return function tt(){return new ue((0,d.LFG)(Fe))}()},providedIn:"platform"}),O})();function ye(){return!!window.history.pushState}function dt(O,X){if(0==O.length)return X;if(0==X.length)return O;let N=0;return O.endsWith("/")&&N++,X.startsWith("/")&&N++,2==N?O+X.substring(1):1==N?O+X:O+"/"+X}function Ye(O){const X=O.match(/#|\?|$/),N=X&&X.index||O.length;return O.slice(0,N-("/"===O[N-1]?1:0))+O.slice(N)}function Ft(O){return O&&"?"!==O[0]?"?"+O:O}let pt=(()=>{class O{historyGo(N){throw new Error("Not implemented")}}return O.\u0275fac=function(N){return new(N||O)},O.\u0275prov=d.Yz7({token:O,factory:function(){return(0,d.f3M)(_t)},providedIn:"root"}),O})();const ze=new d.OlP("appBaseHref");let _t=(()=>{class O extends pt{constructor(N,fe){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=fe??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return dt(this._baseHref,N)}path(N=!1){const fe=this._platformLocation.pathname+Ft(this._platformLocation.search),$e=this._platformLocation.hash;return $e&&N?`${fe}${$e}`:fe}pushState(N,fe,$e,Rt){const Gt=this.prepareExternalUrl($e+Ft(Rt));this._platformLocation.pushState(N,fe,Gt)}replaceState(N,fe,$e,Rt){const Gt=this.prepareExternalUrl($e+Ft(Rt));this._platformLocation.replaceState(N,fe,Gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return O.\u0275fac=function(N){return new(N||O)(d.LFG(he),d.LFG(ze,8))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),yt=(()=>{class O extends pt{constructor(N,fe){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=fe&&(this._baseHref=fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let fe=this._platformLocation.hash;return null==fe&&(fe="#"),fe.length>0?fe.substring(1):fe}prepareExternalUrl(N){const fe=dt(this._baseHref,N);return fe.length>0?"#"+fe:fe}pushState(N,fe,$e,Rt){let Gt=this.prepareExternalUrl($e+Ft(Rt));0==Gt.length&&(Gt=this._platformLocation.pathname),this._platformLocation.pushState(N,fe,Gt)}replaceState(N,fe,$e,Rt){let Gt=this.prepareExternalUrl($e+Ft(Rt));0==Gt.length&&(Gt=this._platformLocation.pathname),this._platformLocation.replaceState(N,fe,Gt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return O.\u0275fac=function(N){return new(N||O)(d.LFG(he),d.LFG(ze,8))},O.\u0275prov=d.Yz7({token:O,factory:O.\u0275fac}),O})(),ot=(()=>{class O{constructor(N){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const fe=this._locationStrategy.getBaseHref();this._baseHref=Ye(mt(fe)),this._locationStrategy.onPopState($e=>{this._subject.emit({url:this.path(!0),pop:!0,state:$e.state,type:$e.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,fe=""){return this.path()==this.normalize(N+Ft(fe))}normalize(N){return O.stripTrailingSlash(function Xe(O,X){return O&&X.startsWith(O)?X.substring(O.length):X}(this._baseHref,mt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,fe="",$e=null){this._locationStrategy.pushState($e,"",N,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ft(fe)),$e)}replaceState(N,fe="",$e=null){this._locationStrategy.replaceState($e,"",N,fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ft(fe)),$e)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(fe=>{this._notifyUrlChangeListeners(fe.url,fe.state)})),()=>{const fe=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(fe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",fe){this._urlChangeListeners.forEach($e=>$e(N,fe))}subscribe(N,fe,$e){return this._subject.subscribe({next:N,error:fe,complete:$e})}}return O.normalizeQueryParams=Ft,O.joinWithSlash=dt,O.stripTrailingSlash=Ye,O.\u0275fac=function(N){return new(N||O)(d.LFG(pt))},O.\u0275prov=d.Yz7({token:O,factory:function(){return function Ue(){return new ot((0,d.LFG)(pt))}()},providedIn:"root"}),O})();function mt(O){return O.replace(/\/index.html$/,"")}function mr(O,X){X=encodeURIComponent(X);for(const N of O.split(";")){const fe=N.indexOf("="),[$e,Rt]=-1==fe?[N,""]:[N.slice(0,fe),N.slice(fe+1)];if($e.trim()===X)return decodeURIComponent(Rt)}return null}let Xn=(()=>{class O{constructor(N,fe,$e,Rt){this._iterableDiffers=N,this._keyValueDiffers=fe,this._ngEl=$e,this._renderer=Rt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),N.forEachChangedItem(fe=>this._toggleClass(fe.key,fe.currentValue)),N.forEachRemovedItem(fe=>{fe.previousValue&&this._toggleClass(fe.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(fe=>{if("string"!=typeof fe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(fe.item)}`);this._toggleClass(fe.item,!0)}),N.forEachRemovedItem(fe=>this._toggleClass(fe.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(fe=>this._toggleClass(fe,!0)):Object.keys(N).forEach(fe=>this._toggleClass(fe,!!N[fe])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(fe=>this._toggleClass(fe,!1)):Object.keys(N).forEach(fe=>this._toggleClass(fe,!1)))}_toggleClass(N,fe){(N=N.trim())&&N.split(/\s+/g).forEach($e=>{fe?this._renderer.addClass(this._ngEl.nativeElement,$e):this._renderer.removeClass(this._ngEl.nativeElement,$e)})}}return O.\u0275fac=function(N){return new(N||O)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},O.\u0275dir=d.lG2({type:O,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),O})();class Fr{constructor(X,N,fe,$e){this.$implicit=X,this.ngForOf=N,this.index=fe,this.count=$e}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qr=(()=>{class O{constructor(N,fe,$e){this._viewContainer=N,this._template=fe,this._differs=$e,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const fe=this._viewContainer;N.forEachOperation(($e,Rt,Gt)=>{if(null==$e.previousIndex)fe.createEmbeddedView(this._template,new Fr($e.item,this._ngForOf,-1,-1),null===Gt?void 0:Gt);else if(null==Gt)fe.remove(null===Rt?void 0:Rt);else if(null!==Rt){const Pn=fe.get(Rt);fe.move(Pn,Gt),Ai(Pn,$e)}});for(let $e=0,Rt=fe.length;$e<Rt;$e++){const Pn=fe.get($e).context;Pn.index=$e,Pn.count=Rt,Pn.ngForOf=this._ngForOf}N.forEachIdentityChange($e=>{Ai(fe.get($e.currentIndex),$e)})}static ngTemplateContextGuard(N,fe){return!0}}return O.\u0275fac=function(N){return new(N||O)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},O.\u0275dir=d.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),O})();function Ai(O,X){O.context.$implicit=X.item}let Ti=(()=>{class O{constructor(N,fe){this._viewContainer=N,this._context=new Cs,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=fe}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){or("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){or("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,fe){return!0}}return O.\u0275fac=function(N){return new(N||O)(d.Y36(d.s_b),d.Y36(d.Rgc))},O.\u0275dir=d.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),O})();class Cs{constructor(){this.$implicit=null,this.ngIf=null}}function or(O,X){if(X&&!X.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,d.AaK)(X)}'.`)}let Gs=(()=>{class O{constructor(N,fe,$e){this._ngEl=N,this._differs=fe,this._renderer=$e,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,fe){const[$e,Rt]=N.split("."),Gt=-1===$e.indexOf("-")?void 0:d.JOm.DashCase;null!=fe?this._renderer.setStyle(this._ngEl.nativeElement,$e,Rt?`${fe}${Rt}`:fe,Gt):this._renderer.removeStyle(this._ngEl.nativeElement,$e,Gt)}_applyChanges(N){N.forEachRemovedItem(fe=>this._setStyle(fe.key,null)),N.forEachAddedItem(fe=>this._setStyle(fe.key,fe.currentValue)),N.forEachChangedItem(fe=>this._setStyle(fe.key,fe.currentValue))}}return O.\u0275fac=function(N){return new(N||O)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},O.\u0275dir=d.lG2({type:O,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),O})(),ia=(()=>{class O{}return O.\u0275fac=function(N){return new(N||O)},O.\u0275mod=d.oAB({type:O}),O.\u0275inj=d.cJS({}),O})();const Li="browser";function zs(O){return O===Li}function ds(O){return"server"===O}let Ba=(()=>{class O{}return O.\u0275prov=(0,d.Yz7)({token:O,providedIn:"root",factory:()=>new ll((0,d.LFG)(Fe),window)}),O})();class ll{constructor(X,N){this.document=X,this.window=N,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const N=function Ar(O,X){const N=O.getElementById(X)||O.getElementsByName(X)[0];if(N)return N;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const fe=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let $e=fe.currentNode;for(;$e;){const Rt=$e.shadowRoot;if(Rt){const Gt=Rt.getElementById(X)||Rt.querySelector(`[name="${X}"]`);if(Gt)return Gt}$e=fe.nextNode()}}return null}(this.document,X);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=X)}}scrollToElement(X){const N=X.getBoundingClientRect(),fe=N.left+this.window.pageXOffset,$e=N.top+this.window.pageYOffset,Rt=this.offset();this.window.scrollTo(fe-Rt[0],$e-Rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Lr(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}class hs{}},4650:(rn,et,T)=>{T.d(et,{$8M:()=>qi,$Z:()=>Yg,AFp:()=>Bb,AaK:()=>he,CHM:()=>Go,CRH:()=>gb,CZH:()=>n_,CqO:()=>Am,D6c:()=>OC,EJc:()=>KE,EiD:()=>y,EpF:()=>Kd,F$t:()=>km,F4k:()=>Im,FYo:()=>rh,FiY:()=>In,G48:()=>pC,Gf:()=>fb,GfV:()=>wd,Gpc:()=>ue,Hsn:()=>Pm,Ikx:()=>ny,JOm:()=>we,JVY:()=>Hu,KtG:()=>So,L6k:()=>kl,LAX:()=>Gu,LFG:()=>Er,LSH:()=>vn,Lbi:()=>GE,Lck:()=>Pw,MAs:()=>Wf,MMx:()=>hy,NdJ:()=>Yf,OlP:()=>Zi,PXZ:()=>lC,Q6J:()=>Ph,QGY:()=>au,QP$:()=>Ge,QbO:()=>$E,Qsj:()=>vl,R0b:()=>Fc,RDi:()=>_c,Rgc:()=>Sg,SBq:()=>vu,Sil:()=>qE,Suo:()=>pb,TTD:()=>_a,TgZ:()=>cd,Udp:()=>Nh,WFA:()=>dd,X6Q:()=>fC,XFs:()=>en,Xpm:()=>J,Xts:()=>sl,Y36:()=>ed,YKP:()=>Kv,YNc:()=>hg,Yjl:()=>at,Yz7:()=>$t,Z0I:()=>xi,ZZ4:()=>Ly,_Bn:()=>Wv,_UZ:()=>ud,_Vd:()=>vd,_c5:()=>MC,_uU:()=>Xt,aQg:()=>Ny,c2e:()=>zE,cJS:()=>Nn,cg1:()=>ry,d8E:()=>iy,dDg:()=>rC,dqk:()=>wt,eBb:()=>Zl,eFA:()=>Qb,ekj:()=>wg,eoX:()=>Yb,f3M:()=>F,g9A:()=>Ub,h0i:()=>ep,hGG:()=>RC,hij:()=>On,iGM:()=>hb,ifc:()=>Te,ip1:()=>Nb,jDz:()=>qv,kL8:()=>yv,kYT:()=>nn,lG2:()=>dn,lqb:()=>yl,lri:()=>Wb,mCW:()=>Jl,n5z:()=>_n,n_E:()=>Qm,oAB:()=>it,oxw:()=>Rm,pB0:()=>Ql,q3G:()=>re,q4F:()=>Zh,qLn:()=>oo,qOj:()=>Hf,qZA:()=>Fh,qzn:()=>ql,rWj:()=>Kb,s9C:()=>qf,sBO:()=>gC,sIi:()=>jd,s_b:()=>Jm,soG:()=>i_,tb:()=>jb,tp0:()=>wi,uIk:()=>Oc,vHH:()=>Ye,vpe:()=>Lu,wAp:()=>Di,xp6:()=>mf,z2F:()=>r_,z3N:()=>Jo,zSh:()=>gu,zs3:()=>Du});var d=T(7579),f=T(727),P=T(9751),B=T(6451),_e=T(3099);function Oe(t){for(let i in t)if(t[i]===Oe)return i;throw Error("Could not find renamed property on target object.")}function Fe(t,i){for(const s in i)i.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=i[s])}function he(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(he).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function Re(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const q=Oe({__forward_ref__:Oe});function ue(t){return t.__forward_ref__=ue,t.toString=function(){return he(this())},t}function ye(t){return tt(t)?t():t}function tt(t){return"function"==typeof t&&t.hasOwnProperty(q)&&t.__forward_ref__===ue}class Ye extends Error{constructor(i,s){super(function Ft(t,i){return`NG0${Math.abs(t)}${i?": "+i.trim():""}`}(i,s)),this.code=i}}function pt(t){return"string"==typeof t?t:null==t?"":String(t)}function Ue(t,i){throw new Ye(-201,!1)}function Jt(t,i){null==t&&function qe(t,i,s,l){throw new Error(`ASSERTION ERROR: ${t}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,t,null,"!=")}function $t(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Nn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hn(t){return Gn(t,ii)||Gn(t,qn)}function xi(t){return null!==Hn(t)}function Gn(t,i){return t.hasOwnProperty(i)?t[i]:null}function Wn(t){return t&&(t.hasOwnProperty(zt)||t.hasOwnProperty(ei))?t[zt]:null}const ii=Oe({\u0275prov:Oe}),zt=Oe({\u0275inj:Oe}),qn=Oe({ngInjectableDef:Oe}),ei=Oe({ngInjectorDef:Oe});var en=(()=>((en=en||{})[en.Default=0]="Default",en[en.Host=1]="Host",en[en.Self=2]="Self",en[en.SkipSelf=4]="SkipSelf",en[en.Optional=8]="Optional",en))();let $n;function fi(t){const i=$n;return $n=t,i}function Pi(t,i,s){const l=Hn(t);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&en.Optional?null:void 0!==i?i:void Ue(he(t))}function Fn(t){return{toString:t}.toString()}var yi=(()=>((yi=yi||{})[yi.OnPush=0]="OnPush",yi[yi.Default=1]="Default",yi))(),Te=(()=>{return(t=Te||(Te={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Te;var t})();const wt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Cn={},je=[],It=Oe({\u0275cmp:Oe}),$=Oe({\u0275dir:Oe}),ee=Oe({\u0275pipe:Oe}),se=Oe({\u0275mod:Oe}),Q=Oe({\u0275fac:Oe}),de=Oe({__NG_ELEMENT_ID__:Oe});let ve=0;function J(t){return Fn(()=>{const s=!0===t.standalone,l={},h={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===yi.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||je,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Te.Emulated,id:"c"+ve++,styles:t.styles||je,_:null,setInput:null,schemas:t.schemas||null,tView:null},_=t.dependencies,w=t.features;return h.inputs=fn(t.inputs,l),h.outputs=fn(t.outputs),w&&w.forEach(S=>S(h)),h.directiveDefs=_?()=>("function"==typeof _?_():_).map(Ie).filter(Je):null,h.pipeDefs=_?()=>("function"==typeof _?_():_).map(Tt).filter(Je):null,h})}function Ie(t){return ke(t)||He(t)}function Je(t){return null!==t}function it(t){return Fn(()=>({type:t.type,bootstrap:t.bootstrap||je,declarations:t.declarations||je,imports:t.imports||je,exports:t.exports||je,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nn(t,i){return Fn(()=>{const s=Le(t,!0);s.declarations=i.declarations||je,s.imports=i.imports||je,s.exports=i.exports||je})}function fn(t,i){if(null==t)return Cn;const s={};for(const l in t)if(t.hasOwnProperty(l)){let h=t[l],_=h;Array.isArray(h)&&(_=h[1],h=h[0]),s[h]=l,i&&(i[h]=_)}return s}const dn=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ke(t){return t[It]||null}function He(t){return t[$]||null}function Tt(t){return t[ee]||null}function Ge(t){const i=ke(t)||He(t)||Tt(t);return null!==i&&i.standalone}function Le(t,i){const s=t[se]||null;if(!s&&!0===i)throw new Error(`Type ${he(t)} does not have '\u0275mod' property.`);return s}const Z=11;function or(t){return Array.isArray(t)&&"object"==typeof t[1]}function is(t){return Array.isArray(t)&&!0===t[1]}function Do(t){return 0!=(8&t.flags)}function jo(t){return 2==(2&t.flags)}function Xs(t){return 1==(1&t.flags)}function Vi(t){return null!==t.template}function Ho(t){return 0!=(256&t[2])}function Hr(t,i){return t.hasOwnProperty(Q)?t[Q]:null}class Io{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function _a(){return Qr}function Qr(t){return t.type.prototype.ngOnChanges&&(t.setInput=$s),xs}function xs(){const t=us(this),i=t?.current;if(i){const s=t.previous;if(s===Cn)t.previous=i;else for(let l in i)s[l]=i[l];t.current=null,this.ngOnChanges(i)}}function $s(t,i,s,l){const h=us(t)||function ia(t,i){return t[Ps]=i}(t,{previous:Cn,current:null}),_=h.current||(h.current={}),w=h.previous,S=this.declaredInputs[s],R=w[S];_[S]=new Io(R&&R.currentValue,i,w===Cn),t[l]=i}_a.ngInherit=!0;const Ps="__ngSimpleChanges__";function us(t){return t[Ps]||null}function ur(t){for(;Array.isArray(t);)t=t[0];return t}function Lr(t,i){return ur(i[t])}function Ar(t,i){return ur(i[t.index])}function hs(t,i){return t.data[i]}function Ni(t,i){const s=i[t];return or(s)?s:s[0]}function Nr(t){return 4==(4&t[2])}function Gr(t){return 64==(64&t[2])}function ss(t,i){return null==i?null:t[i]}function fo(t){t[18]=0}function dr(t,i){t[5]+=i;let s=t,l=t[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const mi={lFrame:Ea(null),bindingsEnabled:!0};function $r(){return mi.bindingsEnabled}function tn(){return mi.lFrame.lView}function vi(){return mi.lFrame.tView}function Go(t){return mi.lFrame.contextLView=t,t[8]}function So(t){return mi.lFrame.contextLView=null,t}function vr(){let t=G();for(;null!==t&&64===t.type;)t=t.parent;return t}function G(){return mi.lFrame.currentTNode}function L(t,i){const s=mi.lFrame;s.currentTNode=t,s.isParent=i}function pe(){return mi.lFrame.isParent}function Bt(){mi.lFrame.isParent=!1}function go(){return mi.lFrame.bindingIndex++}function Lc(t,i){const s=mi.lFrame;s.bindingIndex=s.bindingRootIndex=t,$o(i)}function $o(t){mi.lFrame.currentDirectiveIndex=t}function zo(t){const i=mi.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}function Mo(){return mi.lFrame.currentQueryIndex}function mo(t){mi.lFrame.currentQueryIndex=t}function _o(t){const i=t[1];return 2===i.type?i.declTNode:1===i.type?t[6]:null}function cl(t,i,s){if(s&en.SkipSelf){let h=i,_=t;for(;!(h=h.parent,null!==h||s&en.Host||(h=_o(_),null===h||(_=_[15],10&h.type))););if(null===h)return!1;i=h,t=_}const l=mi.lFrame=fc();return l.currentTNode=i,l.lView=t,!0}function Ro(t){const i=fc(),s=t[1];mi.lFrame=i,i.currentTNode=s.firstChild,i.lView=t,i.tView=s,i.contextLView=t,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function fc(){const t=mi.lFrame,i=null===t?null:t.child;return null===i?Ea(t):i}function Ea(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function Wo(){const t=mi.lFrame;return mi.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const O=Wo;function X(){const t=Wo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $e(){return mi.lFrame.selectedIndex}function Rt(t){mi.lFrame.selectedIndex=t}function Gt(){const t=mi.lFrame;return hs(t.tView,t.selectedIndex)}function Gi(t,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const _=t.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:R,ngAfterViewChecked:W,ngOnDestroy:ge}=_;w&&(t.contentHooks||(t.contentHooks=[])).push(-s,w),S&&((t.contentHooks||(t.contentHooks=[])).push(s,S),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,S)),R&&(t.viewHooks||(t.viewHooks=[])).push(-s,R),W&&((t.viewHooks||(t.viewHooks=[])).push(s,W),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,W)),null!=ge&&(t.destroyHooks||(t.destroyHooks=[])).push(s,ge)}}function Ri(t,i,s){Xr(t,i,3,s)}function Ws(t,i,s,l){(3&t[2])===s&&Xr(t,i,s,l)}function gs(t,i){let s=t[2];(3&s)===i&&(s&=2047,s+=1,t[2]=s)}function Xr(t,i,s,l){const _=l??-1,w=i.length-1;let S=0;for(let R=void 0!==l?65535&t[18]:0;R<w;R++)if("number"==typeof i[R+1]){if(S=i[R],null!=l&&S>=l)break}else i[R]<0&&(t[18]+=65536),(S<_||-1==_)&&(Ks(t,s,i,R),t[18]=(4294901760&t[18])+R+2),R++}function Ks(t,i,s,l){const h=s[l]<0,_=s[l+1],S=t[h?-s[l]:s[l]];if(h){if(t[2]>>11<t[18]>>16&&(3&t[2])===i){t[2]+=2048;try{_.call(S)}finally{}}}else try{_.call(S)}finally{}}class Bs{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Oo(t,i,s){let l=0;for(;l<s.length;){const h=s[l];if("number"==typeof h){if(0!==h)break;l++;const _=s[l++],w=s[l++],S=s[l++];t.setAttribute(i,w,S,_)}else{const _=h,w=s[++l];hl(_)?t.setProperty(i,_,w):t.setAttribute(i,_,w),l++}}return l}function Br(t){return 3===t||4===t||6===t}function hl(t){return 64===t.charCodeAt(0)}function xa(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const h=i[l];"number"==typeof h?s=h:0===s||on(t,s,h,null,-1===s||2===s?i[++l]:null)}}return t}function on(t,i,s,l,h){let _=0,w=t.length;if(-1===i)w=-1;else for(;_<t.length;){const S=t[_++];if("number"==typeof S){if(S===i){w=-1;break}if(S>i){w=_-1;break}}}for(;_<t.length;){const S=t[_];if("number"==typeof S)break;if(S===s){if(null===l)return void(null!==h&&(t[_+1]=h));if(l===t[_+1])return void(t[_+2]=h)}_++,null!==l&&_++,null!==h&&_++}-1!==w&&(t.splice(w,0,i),_=w+1),t.splice(_++,0,s),null!==l&&t.splice(_++,0,l),null!==h&&t.splice(_++,0,h)}function br(t){return-1!==t}function pr(t){return 32767&t}function kn(t,i){let s=function Ua(t){return t>>16}(t),l=i;for(;s>0;)l=l[15],s--;return l}let _i=!0;function Dl(t){const i=_i;return _i=t,i}let Jr=0;const Vs={};function Us(t,i){const s=ko(t,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(t.injectorIndex=i.length,ja(l.data,t),ja(i,null),ja(l.blueprint,null));const h=Ha(t,i),_=t.injectorIndex;if(br(h)){const w=pr(h),S=kn(h,i),R=S[1].data;for(let W=0;W<8;W++)i[_+W]=S[w+W]|R[w+W]}return i[_+8]=h,_}function ja(t,i){t.push(0,0,0,0,0,0,0,0,i)}function ko(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function Ha(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,l=null,h=i;for(;null!==h;){if(l=ms(h),null===l)return-1;if(s++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function Da(t,i,s){!function aa(t,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(de)&&(l=s[de]),null==l&&(l=s[de]=Jr++);const h=255&l;i.data[t+(h>>5)]|=1<<h}(t,i,s)}function Ga(t,i,s){if(s&en.Optional)return t;Ue()}function Ia(t,i,s,l){if(s&en.Optional&&void 0===l&&(l=null),0==(s&(en.Self|en.Host))){const h=t[9],_=fi(void 0);try{return h?h.get(i,l,s&en.Optional):Pi(i,l,s&en.Optional)}finally{fi(_)}}return Ga(l,0,s)}function $a(t,i,s,l=en.Default,h){if(null!==t){if(1024&i[2]){const w=function vo(t,i,s,l,h){let _=t,w=i;for(;null!==_&&null!==w&&1024&w[2]&&!(256&w[2]);){const S=Bn(_,w,s,l|en.Self,Vs);if(S!==Vs)return S;let R=_.parent;if(!R){const W=w[21];if(W){const ge=W.get(s,Vs,l);if(ge!==Vs)return ge}R=ms(w),w=w[15]}_=R}return h}(t,i,s,l,Vs);if(w!==Vs)return w}const _=Bn(t,i,s,l,Vs);if(_!==Vs)return _}return Ia(i,s,l,h)}function Bn(t,i,s,l,h){const _=function Vn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(de)?t[de]:void 0;return"number"==typeof i?i>=0?255&i:Ji:i}(s);if("function"==typeof _){if(!cl(i,t,l))return l&en.Host?Ga(h,0,l):Ia(i,s,l,h);try{const w=_(l);if(null!=w||l&en.Optional)return w;Ue()}finally{O()}}else if("number"==typeof _){let w=null,S=ko(t,i),R=-1,W=l&en.Host?i[16][6]:null;for((-1===S||l&en.SkipSelf)&&(R=-1===S?Ha(t,i):i[S+8],-1!==R&&Oi(l,!1)?(w=i[1],S=pr(R),i=kn(R,i)):S=-1);-1!==S;){const ge=i[1];if(la(_,S,ge.data)){const Me=Po(S,i,s,w,l,W);if(Me!==Vs)return Me}R=i[S+8],-1!==R&&Oi(l,i[1].data[S+8]===W)&&la(_,S,i)?(w=ge,S=pr(R),i=kn(R,i)):S=-1}}return h}function Po(t,i,s,l,h,_){const w=i[1],S=w.data[t+8],ge=to(S,w,s,null==l?jo(S)&&_i:l!=w&&0!=(3&S.type),h&en.Host&&_===S);return null!==ge?Ci(i,w,ge,S):Vs}function to(t,i,s,l,h){const _=t.providerIndexes,w=i.data,S=1048575&_,R=t.directiveStart,ge=_>>20,ut=h?S+ge:t.directiveEnd;for(let At=l?S:S+ge;At<ut;At++){const ln=w[At];if(At<R&&s===ln||At>=R&&ln.type===s)return At}if(h){const At=w[R];if(At&&Vi(At)&&At.type===s)return R}return null}function Ci(t,i,s,l){let h=t[s];const _=i.data;if(function Va(t){return t instanceof Bs}(h)){const w=h;w.resolving&&function _t(t,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Ye(-200,`Circular dependency in DI detected for ${t}${s}`)}(function ze(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pt(t)}(_[s]));const S=Dl(w.canSeeViewProviders);w.resolving=!0;const R=w.injectImpl?fi(w.injectImpl):null;cl(t,l,en.Default);try{h=t[s]=w.factory(void 0,_,t,l),i.firstCreatePass&&s>=l.directiveStart&&function hr(t,i,s){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:_}=i.type.prototype;if(l){const w=Qr(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,w)}h&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,h),_&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,_))}(s,_[s],i)}finally{null!==R&&fi(R),Dl(S),w.resolving=!1,O()}}return h}function la(t,i,s){return!!(s[i+(t>>5)]&1<<t)}function Oi(t,i){return!(t&en.Self||t&en.Host&&i)}class yo{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,l){return $a(this._tNode,this._lView,i,l,s)}}function Ji(){return new yo(vr(),tn())}function _n(t){return Fn(()=>{const i=t.prototype.constructor,s=i[Q]||ca(i),l=Object.prototype;let h=Object.getPrototypeOf(t.prototype).constructor;for(;h&&h!==l;){const _=h[Q]||ca(h);if(_&&_!==s)return _;h=Object.getPrototypeOf(h)}return _=>new _})}function ca(t){return tt(t)?()=>{const i=ca(ye(t));return i&&i()}:Hr(t)}function ms(t){const i=t[1],s=i.type;return 2===s?i.declTNode:1===s?t[6]:null}function qi(t){return function Nc(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const s=t.attrs;if(s){const l=s.length;let h=0;for(;h<l;){const _=s[h];if(Br(_))break;if(0===_)h+=2;else if("number"==typeof _)for(h++;h<l&&"string"==typeof s[h];)h++;else{if(_===i)return s[h+1];h+=2}}}return null}(vr(),t)}const _s="__parameters__";function er(t,i,s){return Fn(()=>{const l=function Il(t){return function(...s){if(t){const l=t(...s);for(const h in l)this[h]=l[h]}}}(i);function h(..._){if(this instanceof h)return l.apply(this,_),this;const w=new h(..._);return S.annotation=w,S;function S(R,W,ge){const Me=R.hasOwnProperty(_s)?R[_s]:Object.defineProperty(R,_s,{value:[]})[_s];for(;Me.length<=ge;)Me.push(null);return(Me[ge]=Me[ge]||[]).push(w),R}}return s&&(h.prototype=Object.create(s.prototype)),h.prototype.ngMetadataName=t,h.annotationCls=h,h})}class Zi{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=$t({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function js(t,i){void 0===i&&(i=t);for(let s=0;s<t.length;s++){let l=t[s];Array.isArray(l)?(i===t&&(i=t.slice(0,s)),js(l,i)):i!==t&&i.push(l)}return i}function as(t,i){t.forEach(s=>Array.isArray(s)?as(s,i):i(s))}function pl(t,i,s){i>=t.length?t.push(s):t.splice(i,0,s)}function wr(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function D(t,i){const s=[];for(let l=0;l<t;l++)s.push(i);return s}function Pe(t,i,s){let l=mn(t,i);return l>=0?t[1|l]=s:(l=~l,function k(t,i,s,l){let h=t.length;if(h==i)t.push(s,l);else if(1===h)t.push(l,t[0]),t[0]=s;else{for(h--,t.push(t[h-1],t[h]);h>i;)t[h]=t[h-2],h--;t[i]=s,t[i+1]=l}}(t,l,i,s)),l}function Ut(t,i){const s=mn(t,i);if(s>=0)return t[1|s]}function mn(t,i){return function Mn(t,i,s){let l=0,h=t.length>>s;for(;h!==l;){const _=l+(h-l>>1),w=t[_<<s];if(i===w)return _<<s;w>i?h=_:l=_+1}return~(h<<s)}(t,i,1)}const Sa={},Yo="__NG_DI_FLAG__",bo="ngTempTokenPath",qo=/\n/gm,Sl="__source";let Qa;function Lo(t){const i=Qa;return Qa=t,i}function da(t,i=en.Default){if(void 0===Qa)throw new Ye(-203,!1);return null===Qa?Pi(t,void 0,i):Qa.get(t,i&en.Optional?null:void 0,i)}function Er(t,i=en.Default){return(function ti(){return $n}()||da)(ye(t),i)}function F(t,i=en.Default){return"number"!=typeof i&&(i=0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)),Er(t,i)}function H(t){const i=[];for(let s=0;s<t.length;s++){const l=ye(t[s]);if(Array.isArray(l)){if(0===l.length)throw new Ye(900,!1);let h,_=en.Default;for(let w=0;w<l.length;w++){const S=l[w],R=Ve(S);"number"==typeof R?-1===R?h=S.token:_|=R:h=S}i.push(Er(h,_))}else i.push(Er(l))}return i}function le(t,i){return t[Yo]=i,t.prototype[Yo]=i,t}function Ve(t){return t[Yo]}const In=le(er("Optional"),8),wi=le(er("SkipSelf"),4);let Xo,Rl;function _c(t){Xo=t}function Ma(t){return function Yl(){if(void 0===Rl&&(Rl=null,wt.trustedTypes))try{Rl=wt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rl}()?.createHTML(t)||t}class tl{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ol extends tl{getTypeName(){return"HTML"}}class gd extends tl{getTypeName(){return"Style"}}class ju extends tl{getTypeName(){return"Script"}}class Xd extends tl{getTypeName(){return"URL"}}class Vc extends tl{getTypeName(){return"ResourceURL"}}function Jo(t){return t instanceof tl?t.changingThisBreaksApplicationSecurity:t}function ql(t,i){const s=function Gh(t){return t instanceof tl&&t.getTypeName()||null}(t);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Hu(t){return new Ol(t)}function kl(t){return new gd(t)}function Zl(t){return new ju(t)}function Gu(t){return new Xd(t)}function Ql(t){return new Vc(t)}class ml{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Ma(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch{return null}}}class Uc{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Ma(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=Ma(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let h=s.length-1;0<h;h--){const w=s.item(h).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&i.removeAttribute(w)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const bc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Jl(t){return(t=String(t)).match(bc)?t:"unsafe:"+t}function Yi(t){const i={};for(const s of t.split(","))i[s]=!0;return i}function Ra(...t){const i={};for(const s of t)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const Hc=Yi("area,br,col,hr,img,wbr"),ec=Yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gc=Yi("rp,rt"),il=Ra(Hc,Ra(ec,Yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ra(Gc,Yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ra(Gc,ec)),fa=Yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Co=Yi("srcset"),Fl=Ra(fa,Co,Yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$c=Yi("script,style,template");class md{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let h=this.checkClobberedElement(s,s.nextSibling);if(h){s=h;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!il.hasOwnProperty(s))return this.sanitizedSomething=!0,!$c.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let h=0;h<l.length;h++){const _=l.item(h),w=_.name,S=w.toLowerCase();if(!Fl.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let R=_.value;fa[S]&&(R=Jl(R)),Co[S]&&(t=R,R=(t=String(t)).split(",").map(i=>Jl(i.trim())).join(", ")),this.buf.push(" ",w,'="',C(R),'"')}var t;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();il.hasOwnProperty(s)&&!Hc.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(C(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Wr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Wi=/([^\#-~ |!])/g;function C(t){return t.replace(/&/g,"&amp;").replace(Wr,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Wi,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let g;function y(t,i){let s=null;try{g=g||function Xl(t){const i=new Uc(t);return function jc(){try{return!!(new window.DOMParser).parseFromString(Ma(""),"text/html")}catch{return!1}}()?new ml(i):i}(t);let l=i?String(i):"";s=g.getInertBodyElement(l);let h=5,_=l;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,l=_,_=s.innerHTML,s=g.getInertBodyElement(l)}while(l!==_);return Ma((new md).sanitizeChildren(A(s)||s))}finally{if(s){const l=A(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function A(t){return"content"in t&&function Y(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var re=(()=>((re=re||{})[re.NONE=0]="NONE",re[re.HTML=1]="HTML",re[re.STYLE=2]="STYLE",re[re.SCRIPT=3]="SCRIPT",re[re.URL=4]="URL",re[re.RESOURCE_URL=5]="RESOURCE_URL",re))();function vn(t){const i=function rl(){const t=tn();return t&&t[12]}();return i?i.sanitize(re.URL,t)||"":ql(t,"URL")?Jo(t):Jl(pt(t))}const sl=new Zi("ENVIRONMENT_INITIALIZER"),Ll=new Zi("INJECTOR",-1),zc=new Zi("INJECTOR_DEF_TYPES");class Wc{get(i,s=Sa){if(s===Sa){const l=new Error(`NullInjectorError: No provider for ${he(i)}!`);throw l.name="NullInjectorError",l}return s}}function zu(...t){return{\u0275providers:xc(0,t)}}function xc(t,...i){const s=[],l=new Set;let h;return as(i,_=>{const w=_;Kc(w,s,[],l)&&(h||(h=[]),h.push(w))}),void 0!==h&&pu(h,s),s}function pu(t,i){for(let s=0;s<t.length;s++){const{providers:h}=t[s];as(h,_=>{i.push(_)})}}function Kc(t,i,s,l){if(!(t=ye(t)))return!1;let h=null,_=Wn(t);const w=!_&&ke(t);if(_||w){if(w&&!w.standalone)return!1;h=t}else{const R=t.ngModule;if(_=Wn(R),!_)return!1;h=R}const S=l.has(h);if(w){if(S)return!1;if(l.add(h),w.dependencies){const R="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const W of R)Kc(W,i,s,l)}}else{if(!_)return!1;{if(null!=_.imports&&!S){let W;l.add(h);try{as(_.imports,ge=>{Kc(ge,i,s,l)&&(W||(W=[]),W.push(ge))})}finally{}void 0!==W&&pu(W,i)}if(!S){const W=Hr(h)||(()=>new h);i.push({provide:h,useFactory:W,deps:je},{provide:zc,useValue:h,multi:!0},{provide:sl,useValue:()=>Er(h),multi:!0})}const R=_.providers;null==R||S||as(R,ge=>{i.push(ge)})}}return h!==t&&void 0!==t.providers}const ip=Oe({provide:String,useValue:Oe});function Yc(t){return null!==t&&"object"==typeof t&&ip in t}function xr(t){return"function"==typeof t}const gu=new Zi("Set Injector scope."),_l={},Nl={};let Ku;function Yu(){return void 0===Ku&&(Ku=new Wc),Ku}class yl{}class eh extends yl{constructor(i,s,l,h){super(),this.parent=s,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_u(i,w=>this.processProvider(w)),this.records.set(Ll,ka(void 0,this)),h.has("environment")&&this.records.set(yl,ka(void 0,this));const _=this.records.get(gu);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(zc.multi,je,en.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const s=Lo(this),l=fi(void 0);try{return i()}finally{Lo(s),fi(l)}}get(i,s=Sa,l=en.Default){this.assertNotDestroyed();const h=Lo(this),_=fi(void 0);try{if(!(l&en.SkipSelf)){let S=this.records.get(i);if(void 0===S){const R=function Yh(t){return"function"==typeof t||"object"==typeof t&&t instanceof Zi}(i)&&Hn(i);S=R&&this.injectableDefInScope(R)?ka(mu(i),_l):null,this.records.set(i,S)}if(null!=S)return this.hydrate(i,S)}return(l&en.Self?Yu():this.parent).get(i,s=l&en.Optional&&s===Sa?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[bo]=w[bo]||[]).unshift(he(i)),h)throw w;return function bt(t,i,s,l){const h=t[bo];throw i[Sl]&&h.unshift(i[Sl]),t.message=function Nt(t,i,s,l=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let h=he(i);if(Array.isArray(i))h=i.map(he).join(" -> ");else if("object"==typeof i){let _=[];for(let w in i)if(i.hasOwnProperty(w)){let S=i[w];_.push(w+":"+("string"==typeof S?JSON.stringify(S):he(S)))}h=`{${_.join(", ")}}`}return`${s}${l?"("+l+")":""}[${h}]: ${t.replace(qo,"\n  ")}`}("\n"+t.message,h,s,l),t.ngTokenPath=h,t[bo]=null,t}(w,i,"R3InjectorError",this.source)}throw w}finally{fi(_),Lo(h)}}resolveInjectorInitializers(){const i=Lo(this),s=fi(void 0);try{const l=this.get(sl.multi,je,en.Self);for(const h of l)h()}finally{Lo(i),fi(s)}}toString(){const i=[],s=this.records;for(const l of s.keys())i.push(he(l));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ye(205,!1)}processProvider(i){let s=xr(i=ye(i))?i:ye(i&&i.provide);const l=function _d(t){return Yc(t)?ka(void 0,t.useValue):ka(yd(t),_l)}(i);if(xr(i)||!0!==i.multi)this.records.get(s);else{let h=this.records.get(s);h||(h=ka(void 0,_l,!0),h.factory=()=>H(h.multi),this.records.set(s,h)),s=i,h.multi.push(i)}this.records.set(s,l)}hydrate(i,s){return s.value===_l&&(s.value=Nl,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Kh(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ye(i.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function mu(t){const i=Hn(t),s=null!==i?i.factory:Hr(t);if(null!==s)return s;if(t instanceof Zi)throw new Ye(204,!1);if(t instanceof Function)return function Wh(t){const i=t.length;if(i>0)throw D(i,"?"),new Ye(204,!1);const s=function jn(t){const i=t&&(t[ii]||t[qn]);if(i){const s=function Ii(t){if(t.hasOwnProperty("name"))return t.name;const i=(""+t).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ye(204,!1)}function yd(t,i,s){let l;if(xr(t)){const h=ye(t);return Hr(h)||mu(h)}if(Yc(t))l=()=>ye(t.useValue);else if(function zh(t){return!(!t||!t.useFactory)}(t))l=()=>t.useFactory(...H(t.deps||[]));else if(function Jd(t){return!(!t||!t.useExisting)}(t))l=()=>Er(ye(t.useExisting));else{const h=ye(t&&(t.useClass||t.provide));if(!function th(t){return!!t.deps}(t))return Hr(h)||mu(h);l=()=>new h(...H(t.deps))}return l}function ka(t,i,s=!1){return{factory:t,value:i,multi:s?[]:void 0}}function rp(t){return!!t.\u0275providers}function _u(t,i){for(const s of t)Array.isArray(s)?_u(s,i):rp(s)?_u(s.\u0275providers,i):i(s)}class nh{}class Zc{resolveComponentFactory(i){throw function sp(t){const i=Error(`No component factory found for ${he(t)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=t,i}(i)}}let vd=(()=>{class t{}return t.NULL=new Zc,t})();function op(){return yu(vr(),tn())}function yu(t,i){return new vu(Ar(t,i))}let vu=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=op,t})();function ea(t){return t instanceof vu?t.nativeElement:t}class rh{}let vl=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function qh(){const t=tn(),s=Ni(vr().index,t);return(or(s)?s:t)[Z]}(),t})(),bd=(()=>{class t{}return t.\u0275prov=$t({token:t,providedIn:"root",factory:()=>null}),t})();class wd{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Zh=new wd("14.2.0"),qu={};function Ms(t){return t.ngOriginalError}class oo{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i);this._console.error("ERROR",i),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Ms(i);for(;s&&Ms(s);)s=Ms(s);return s||null}}const nc=new Map;let ic=0;const Qu="__ngContext__";function Zs(t,i){or(i)?(t[Qu]=i[20],function uh(t){nc.set(t[20],t)}(i)):t[Qu]=i}function Bl(t){const i=t[Qu];return"number"==typeof i?function Sd(t){return nc.get(t)||null}(i):i||null}function rc(t){const i=Bl(t);return i?or(i)?i:i.lView:null}function b(t){return t instanceof Function?t():t}var we=(()=>((we=we||{})[we.Important=1]="Important",we[we.DashCase=2]="DashCase",we))();function Mt(t,i){return undefined(t,i)}function li(t){const i=t[3];return is(i)?i[3]:i}function tr(t){return ws(t[13])}function Qi(t){return ws(t[4])}function ws(t){for(;null!==t&&!is(t);)t=t[4];return t}function Tr(t,i,s,l,h){if(null!=l){let _,w=!1;is(l)?_=l:or(l)&&(w=!0,l=l[0]);const S=ur(l);0===t&&null!==s?null==h?Ui(i,s,S):Vo(i,s,S,h||null,!0):1===t&&null!==s?Vo(i,s,S,h||null,!0):2===t?function df(t,i,s){const l=jl(t,i);l&&function pp(t,i,s,l){t.removeChild(i,s,l)}(t,l,i,s)}(i,S,w):3===t&&i.destroyNode(S),null!=_&&function mp(t,i,s,l,h){const _=s[7];_!==ur(s)&&Tr(i,t,l,_,h);for(let S=10;S<s.length;S++){const R=s[S];mh(R[1],R,t,i,l,_)}}(i,t,_,s,h)}}function wl(t,i,s){return t.createElement(i,s)}function oc(t,i){const s=t[9],l=s.indexOf(i),h=i[3];512&i[2]&&(i[2]&=-513,dr(h,-1)),s.splice(l,1)}function Yn(t,i){if(t.length<=10)return;const s=10+i,l=t[s];if(l){const h=l[17];null!==h&&h!==t&&oc(h,l),i>0&&(t[s-1][4]=l[4]);const _=wr(t,10+i);!function ol(t,i){mh(t,i,i[Z],2,null,null),i[0]=null,i[6]=null}(l[1],l);const w=_[19];null!==w&&w.detachView(_[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function gi(t,i){if(!(128&i[2])){const s=i[Z];s.destroyNode&&mh(t,i,s,3,null,null),function Cu(t){let i=t[13];if(!i)return bi(t[1],t);for(;i;){let s=null;if(or(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==t;)or(i)&&bi(i[1],i),i=i[3];null===i&&(i=t),or(i)&&bi(i[1],i),s=i&&i[4]}i=s}}(i)}}function bi(t,i){if(!(128&i[2])){i[2]&=-65,i[2]|=128,function Qs(t,i){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let l=0;l<s.length;l+=2){const h=i[s[l]];if(!(h instanceof Bs)){const _=s[l+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const S=h[_[w]],R=_[w+1];try{R.call(S)}finally{}}else try{_.call(h)}finally{}}}}(t,i),function rr(t,i){const s=t.cleanup,l=i[7];let h=-1;if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const w=s[_+1],S="function"==typeof w?w(i):ur(i[w]),R=l[h=s[_+2]],W=s[_+3];"boolean"==typeof W?S.removeEventListener(s[_],R,W):W>=0?l[h=W]():l[h=-W].unsubscribe(),_+=2}else{const w=l[h=s[_+1]];s[_].call(w)}if(null!==l){for(let _=h+1;_<l.length;_++)(0,l[_])();i[7]=null}}(t,i),1===i[1].type&&i[Z].destroy();const s=i[17];if(null!==s&&is(i[3])){s!==i[3]&&oc(s,i);const l=i[19];null!==l&&l.detachView(t)}!function dh(t){nc.delete(t[20])}(i)}}function El(t,i,s){return function ga(t,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const h=t.data[l.directiveStart].encapsulation;if(h===Te.None||h===Te.Emulated)return null}return Ar(l,s)}(t,i.parent,s)}function Vo(t,i,s,l,h){t.insertBefore(i,s,l,h)}function Ui(t,i,s){t.appendChild(i,s)}function fh(t,i,s,l,h){null!==l?Vo(t,i,s,l,h):Ui(t,i,s)}function jl(t,i){return t.parentNode(i)}function Xu(t,i,s){return Lg(t,i,s)}let Lg=function eu(t,i,s){return 40&t.type?Ar(t,s):null};function Md(t,i,s,l){const h=El(t,l,i),_=i[Z],S=Xu(l.parent||i[6],l,i);if(null!=h)if(Array.isArray(s))for(let R=0;R<s.length;R++)fh(_,h,s[R],S,!1);else fh(_,h,s,S,!1)}function xu(t,i){if(null!==i){const s=i.type;if(3&s)return Ar(i,t);if(4&s)return gh(-1,t[i.index]);if(8&s){const l=i.child;if(null!==l)return xu(t,l);{const h=t[i.index];return is(h)?gh(-1,h):ur(h)}}if(32&s)return Mt(i,t)()||ur(t[i.index]);{const l=ph(t,i);return null!==l?Array.isArray(l)?l[0]:xu(li(t[16]),l):xu(t,i.next)}}return null}function ph(t,i){return null!==i?t[16][6].projection[i.projection]:null}function gh(t,i){const s=10+t+1;if(s<i.length){const l=i[s],h=l[1].firstChild;if(null!==h)return xu(l,h)}return i[7]}function hf(t,i,s,l,h,_,w){for(;null!=s;){const S=l[s.index],R=s.type;if(w&&0===i&&(S&&Zs(ur(S),l),s.flags|=4),64!=(64&s.flags))if(8&R)hf(t,i,s.child,l,h,_,!1),Tr(i,t,h,S,_);else if(32&R){const W=Mt(s,l);let ge;for(;ge=W();)Tr(i,t,h,ge,_);Tr(i,t,h,S,_)}else 16&R?gp(t,i,l,s,h,_):Tr(i,t,h,S,_);s=w?s.projectionNext:s.next}}function mh(t,i,s,l,h,_){hf(s,l,t.firstChild,i,h,_,!1)}function gp(t,i,s,l,h,_){const w=s[16],R=w[6].projection[l.projection];if(Array.isArray(R))for(let W=0;W<R.length;W++)Tr(i,t,h,R[W],_);else hf(t,i,R,w[3],h,_,!0)}function _p(t,i,s){t.setAttribute(i,"style",s)}function yp(t,i,s){""===s?t.removeAttribute(i,"class"):t.setAttribute(i,"class",s)}function vp(t,i,s){let l=t.length;for(;;){const h=t.indexOf(i,s);if(-1===h)return h;if(0===h||t.charCodeAt(h-1)<=32){const _=i.length;if(h+_===l||t.charCodeAt(h+_)<=32)return h}s=h+1}}const Ju="ng-template";function Rd(t,i,s){let l=0;for(;l<t.length;){let h=t[l++];if(s&&"class"===h){if(h=t[l],-1!==vp(h.toLowerCase(),i,0))return!0}else if(1===h){for(;l<t.length&&"string"==typeof(h=t[l++]);)if(h.toLowerCase()===i)return!0;return!1}}return!1}function ff(t){return 4===t.type&&t.value!==Ju}function pf(t,i,s){return i===(4!==t.type||s?t.value:Ju)}function Bg(t,i,s){let l=4;const h=t.attrs||[],_=function c_(t){for(let i=0;i<t.length;i++)if(Br(t[i]))return i;return t.length}(h);let w=!1;for(let S=0;S<i.length;S++){const R=i[S];if("number"!=typeof R){if(!w)if(4&l){if(l=2|1&l,""!==R&&!pf(t,R,s)||""===R&&1===i.length){if(Hl(l))return!1;w=!0}}else{const W=8&l?R:i[++S];if(8&l&&null!==t.attrs){if(!Rd(t.attrs,W,s)){if(Hl(l))return!1;w=!0}continue}const Me=Vg(8&l?"class":R,h,ff(t),s);if(-1===Me){if(Hl(l))return!1;w=!0;continue}if(""!==W){let ut;ut=Me>_?"":h[Me+1].toLowerCase();const At=8&l?ut:null;if(At&&-1!==vp(At,W,0)||2&l&&W!==ut){if(Hl(l))return!1;w=!0}}}}else{if(!w&&!Hl(l)&&!Hl(R))return!1;if(w&&Hl(R))continue;w=!1,l=R|1&l}}return Hl(l)||w}function Hl(t){return 0==(1&t)}function Vg(t,i,s,l){if(null===i)return-1;let h=0;if(l||!s){let _=!1;for(;h<i.length;){const w=i[h];if(w===t)return h;if(3===w||6===w)_=!0;else{if(1===w||2===w){let S=i[++h];for(;"string"==typeof S;)S=i[++h];continue}if(4===w)break;if(0===w){h+=4;continue}}h+=_?1:2}return-1}return function wp(t,i){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const l=t[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,t)}function Ug(t,i,s=!1){for(let l=0;l<i.length;l++)if(Bg(t,i[l],s))return!0;return!1}function jg(t,i){e:for(let s=0;s<i.length;s++){const l=i[s];if(t.length===l.length){for(let h=0;h<t.length;h++)if(t[h]!==l[h])continue e;return!0}}return!1}function Ep(t,i){return t?":not("+i.trim()+")":i}function Cp(t){let i=t[0],s=1,l=2,h="",_=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&l){const S=t[++s];h+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&l?h+="."+w:4&l&&(h+=" "+w);else""!==h&&!Hl(w)&&(i+=Ep(_,h),h=""),l=w,_=_||!Hl(l);s++}return""!==h&&(i+=Ep(_,h)),i}const ki={};function mf(t){_f(vi(),tn(),$e()+t,!1)}function _f(t,i,s,l){if(!l)if(3==(3&i[2])){const _=t.preOrderCheckHooks;null!==_&&Ri(i,_,s)}else{const _=t.preOrderHooks;null!==_&&Ws(i,_,0,s)}Rt(s)}function Od(t,i=null,s=null,l){const h=vf(t,i,s,l);return h.resolveInjectorInitializers(),h}function vf(t,i=null,s=null,l,h=new Set){const _=[s||je,zu(t)];return l=l||("object"==typeof t?void 0:he(t)),new eh(_,i||Yu(),l||null,h)}let Du=(()=>{class t{static create(s,l){if(Array.isArray(s))return Od({name:""},l,s,"");{const h=s.name??"";return Od({name:h},s.parent,s.providers,h)}}}return t.THROW_IF_NOT_FOUND=Sa,t.NULL=new Wc,t.\u0275prov=$t({token:t,providedIn:"any",factory:()=>Er(Ll)}),t.__NG_ELEMENT_ID__=-1,t})();function ed(t,i=en.Default){const s=tn();return null===s?Er(t,i):$a(vr(),s,ye(t),i)}function Yg(){throw new Error("invalid")}function Af(t,i){return t<<17|i<<2}function Cl(t){return t>>17&32767}function Fp(t){return 2|t}function ac(t){return(131068&t)>>2}function Sf(t,i){return-131069&t|i<<2}function vh(t){return 1|t}function rm(t,i){const s=t.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const h=s[l],_=s[l+1];if(-1!==_){const w=t.data[_];mo(h),w.contentQueries(2,i[_],_)}}}function Ld(t,i,s,l,h,_,w,S,R,W,ge){const Me=i.blueprint.slice();return Me[0]=h,Me[2]=76|l,(null!==ge||t&&1024&t[2])&&(Me[2]|=1024),fo(Me),Me[3]=Me[15]=t,Me[8]=s,Me[10]=w||t&&t[10],Me[Z]=S||t&&t[Z],Me[12]=R||t&&t[12]||null,Me[9]=W||t&&t[9]||null,Me[6]=_,Me[20]=function Zu(){return ic++}(),Me[21]=ge,Me[16]=2==i.type?t[16]:Me,Me}function Ou(t,i,s,l,h){let _=t.data[i];if(null===_)_=function Eh(t,i,s,l,h){const _=G(),w=pe(),R=t.data[i]=function R_(t,i,s,l,h,_){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,s,i,l,h);return null===t.firstChild&&(t.firstChild=R),null!==_&&(w?null==_.child&&null!==R.parent&&(_.child=R):null===_.next&&(_.next=R)),R}(t,i,s,l,h),function To(){return mi.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=s,_.value=l,_.attrs=h;const w=function V(){const t=mi.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return L(_,!0),_}function lc(t,i,s,l){if(0===s)return-1;const h=i.length;for(let _=0;_<s;_++)i.push(l),t.blueprint.push(l),t.data.push(null);return h}function Ch(t,i,s){Ro(i);try{const l=t.viewQuery;null!==l&&ag(1,l,s);const h=t.template;null!==h&&Pf(t,i,h,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rm(t,i),t.staticViewQueries&&ag(2,t.viewQuery,s);const _=t.components;null!==_&&function A_(t,i){for(let s=0;s<i.length;s++)sg(t,i[s])}(i,_)}catch(l){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),l}finally{i[2]&=-5,X()}}function id(t,i,s,l){const h=i[2];if(128!=(128&h)){Ro(i);try{fo(i),function oa(t){return mi.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Pf(t,i,s,2,l);const w=3==(3&h);if(w){const W=t.preOrderCheckHooks;null!==W&&Ri(i,W,null)}else{const W=t.preOrderHooks;null!==W&&Ws(i,W,0,null),gs(i,0)}if(function ig(t){for(let i=tr(t);null!==i;i=Qi(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const h=s[l],_=h[3];0==(512&h[2])&&dr(_,1),h[2]|=512}}}(i),function ng(t){for(let i=tr(t);null!==i;i=Qi(i))for(let s=10;s<i.length;s++){const l=i[s],h=l[1];Gr(l)&&id(h,l,h.template,l[8])}}(i),null!==t.contentQueries&&rm(t,i),w){const W=t.contentCheckHooks;null!==W&&Ri(i,W)}else{const W=t.contentHooks;null!==W&&Ws(i,W,1),gs(i,1)}!function Gp(t,i){const s=t.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const h=s[l];if(h<0)Rt(~h);else{const _=h,w=s[++l],S=s[++l];Lc(w,_),S(2,i[_])}}}finally{Rt(-1)}}(t,i);const S=t.components;null!==S&&function $p(t,i){for(let s=0;s<i.length;s++)rg(t,i[s])}(i,S);const R=t.viewQuery;if(null!==R&&ag(2,R,l),w){const W=t.viewCheckHooks;null!==W&&Ri(i,W)}else{const W=t.viewHooks;null!==W&&Ws(i,W,2),gs(i,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[2]&=-41,512&i[2]&&(i[2]&=-513,dr(i[3],-1))}finally{X()}}}function S_(t,i,s,l){const h=i[10],w=Nr(i);try{!w&&h.begin&&h.begin(),w&&Ch(t,i,l),id(t,i,s,l)}finally{!w&&h.end&&h.end()}}function Pf(t,i,s,l,h){const _=$e(),w=2&l;try{Rt(-1),w&&i.length>22&&_f(t,i,22,!1),s(l,h)}finally{Rt(_)}}function xh(t,i,s){!$r()||(function qp(t,i,s,l){const h=s.directiveStart,_=s.directiveEnd;t.firstCreatePass||Us(s,i),Zs(l,i);const w=s.initialInputs;for(let S=h;S<_;S++){const R=t.data[S],W=Vi(R);W&&P_(i,s,R);const ge=Ci(i,t,S,s);Zs(ge,i),null!==w&&F_(0,S-h,ge,R,0,w),W&&(Ni(s.index,i)[8]=ge)}}(t,i,s,Ar(s,i)),128==(128&s.flags)&&function Zp(t,i,s){const l=s.directiveStart,h=s.directiveEnd,_=s.index,w=function wa(){return mi.lFrame.currentDirectiveIndex}();try{Rt(_);for(let S=l;S<h;S++){const R=t.data[S],W=i[S];$o(S),(null!==R.hostBindings||0!==R.hostVars||null!==R.hostAttrs)&&cm(R,W)}}finally{Rt(-1),$o(w)}}(t,i,s))}function zp(t,i,s=Ar){const l=i.localNames;if(null!==l){let h=i.index+1;for(let _=0;_<l.length;_+=2){const w=l[_+1],S=-1===w?s(i,t):t[w];t[h++]=S}}}function Ff(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=Wp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):i}function Wp(t,i,s,l,h,_,w,S,R,W){const ge=22+l,Me=ge+h,ut=function T_(t,i){const s=[];for(let l=0;l<i;l++)s.push(l<t?null:ki);return s}(ge,Me),At="function"==typeof W?W():W;return ut[1]={type:t,blueprint:ut,template:s,queries:null,viewQuery:S,declTNode:i,data:ut.slice().fill(null,ge),bindingStartIndex:ge,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:R,consts:At,incompleteFirstPass:!1}}function Lf(t,i,s,l){const h=pm(i);null===s?h.push(l):(h.push(s),t.firstCreatePass&&lg(t).push(l,h.length-1))}function Nf(t,i,s){for(let l in t)if(t.hasOwnProperty(l)){const h=t[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,h):s[l]=[i,h]}return s}function om(t,i){const l=i.directiveEnd,h=t.data,_=i.attrs,w=[];let S=null,R=null;for(let W=i.directiveStart;W<l;W++){const ge=h[W],Me=ge.inputs,ut=null===_||ff(i)?null:dm(Me,_);w.push(ut),S=Nf(Me,W,S),R=Nf(ge.outputs,W,R)}null!==S&&(S.hasOwnProperty("class")&&(i.flags|=16),S.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=w,i.inputs=S,i.outputs=R}function al(t,i,s,l,h,_,w,S){const R=Ar(i,s);let ge,W=i.inputs;!S&&null!=W&&(ge=W[l])?(cg(t,s,ge,l,h),jo(i)&&Bf(s,i.index)):3&i.type&&(l=function Kp(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(l),h=null!=w?w(h,i.value||"",l):h,_.setProperty(R,l,h))}function Bf(t,i){const s=Ni(i,t);16&s[2]||(s[2]|=32)}function Dh(t,i,s,l){let h=!1;if($r()){const _=function um(t,i,s){const l=t.directiveRegistry;let h=null;if(l)for(let _=0;_<l.length;_++){const w=l[_];Ug(s,w.selectors,!1)&&(h||(h=[]),Da(Us(s,i),t,w.type),Vi(w)?(Qp(t,s),h.unshift(w)):h.push(w))}return h}(t,i,s),w=null===l?null:{"":-1};if(null!==_){h=!0,Jp(s,t.data.length,_.length);for(let ge=0;ge<_.length;ge++){const Me=_[ge];Me.providersResolver&&Me.providersResolver(Me)}let S=!1,R=!1,W=lc(t,i,_.length,null);for(let ge=0;ge<_.length;ge++){const Me=_[ge];s.mergedAttrs=xa(s.mergedAttrs,Me.hostAttrs),Ih(t,s,i,W,Me),Xp(W,Me,w),null!==Me.contentQueries&&(s.flags|=8),(null!==Me.hostBindings||null!==Me.hostAttrs||0!==Me.hostVars)&&(s.flags|=128);const ut=Me.type.prototype;!S&&(ut.ngOnChanges||ut.ngOnInit||ut.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),S=!0),!R&&(ut.ngOnChanges||ut.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),R=!0),W++}om(t,s)}w&&function k_(t,i,s){if(i){const l=t.localNames=[];for(let h=0;h<i.length;h+=2){const _=s[i[h+1]];if(null==_)throw new Ye(-301,!1);l.push(i[h],_)}}}(s,l,w)}return s.mergedAttrs=xa(s.mergedAttrs,s.attrs),h}function lm(t,i,s,l,h,_){const w=_.hostBindings;if(w){let S=t.hostBindingOpCodes;null===S&&(S=t.hostBindingOpCodes=[]);const R=~i.index;(function Yp(t){let i=t.length;for(;i>0;){const s=t[--i];if("number"==typeof s&&s<0)return s}return 0})(S)!=R&&S.push(R),S.push(l,h,w)}}function cm(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Qp(t,i){i.flags|=2,(t.components||(t.components=[])).push(i.index)}function Xp(t,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=t;Vi(i)&&(s[""]=t)}}function Jp(t,i,s){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+s,t.providerIndexes=i}function Ih(t,i,s,l,h){t.data[l]=h;const _=h.factory||(h.factory=Hr(h.type)),w=new Bs(_,Vi(h),ed);t.blueprint[l]=w,s[l]=w,lm(t,i,0,l,lc(t,s,h.hostVars,ki),h)}function P_(t,i,s){const l=Ar(i,t),h=Ff(s),_=t[10],w=rd(t,Ld(t,h,null,s.onPush?32:16,l,i,_,_.createRenderer(l,s),null,null,null));t[i.index]=w}function Mc(t,i,s,l,h,_){const w=Ar(t,i);!function eg(t,i,s,l,h,_,w){if(null==_)t.removeAttribute(i,h,s);else{const S=null==w?pt(_):w(_,l||"",h);t.setAttribute(i,h,S,s)}}(i[Z],w,_,t.value,s,l,h)}function F_(t,i,s,l,h,_){const w=_[i];if(null!==w){const S=l.setInput;for(let R=0;R<w.length;){const W=w[R++],ge=w[R++],Me=w[R++];null!==S?l.setInput(s,Me,W,ge):s[ge]=Me}}}function dm(t,i){let s=null,l=0;for(;l<i.length;){const h=i[l];if(0!==h)if(5!==h){if("number"==typeof h)break;t.hasOwnProperty(h)&&(null===s&&(s=[]),s.push(h,t[h],i[l+1])),l+=2}else l+=2;else l+=4}return s}function tg(t,i,s,l){return new Array(t,!0,!1,i,null,0,l,s,null,null)}function rg(t,i){const s=Ni(i,t);if(Gr(s)){const l=s[1];48&s[2]?id(l,s,l.template,s[8]):s[5]>0&&Nd(s)}}function Nd(t){for(let l=tr(t);null!==l;l=Qi(l))for(let h=10;h<l.length;h++){const _=l[h];if(Gr(_))if(512&_[2]){const w=_[1];id(w,_,w.template,_[8])}else _[5]>0&&Nd(_)}const s=t[1].components;if(null!==s)for(let l=0;l<s.length;l++){const h=Ni(s[l],t);Gr(h)&&h[5]>0&&Nd(h)}}function sg(t,i){const s=Ni(i,t),l=s[1];(function fm(t,i){for(let s=i.length;s<t.blueprint.length;s++)i.push(t.blueprint[s])})(l,s),Ch(l,s,s[8])}function rd(t,i){return t[13]?t[14][4]=i:t[13]=i,t[14]=i,i}function Vf(t){for(;t;){t[2]|=32;const i=li(t);if(Ho(t)&&!i)return t;t=i}return null}function ag(t,i,s){mo(0),i(t,s)}function pm(t){return t[7]||(t[7]=[])}function lg(t){return t.cleanup||(t.cleanup=[])}function gm(t,i,s){return(null===t||Vi(t))&&(s=function Ba(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[i.index])),s[Z]}function mm(t,i){const s=t[9],l=s?s.get(oo,null):null;l&&l.handleError(i)}function cg(t,i,s,l,h){for(let _=0;_<s.length;){const w=s[_++],S=s[_++],R=i[w],W=t.data[w];null!==W.setInput?W.setInput(R,h,l,S):R[S]=h}}function Ah(t,i,s){let l=s?t.styles:null,h=s?t.classes:null,_=0;if(null!==i)for(let w=0;w<i.length;w++){const S=i[w];"number"==typeof S?_=S:1==_?h=Re(h,S):2==_&&(l=Re(l,S+": "+i[++w]+";"))}s?t.styles=l:t.stylesWithoutHost=l,s?t.classes=h:t.classesWithoutHost=h}function Bd(t,i,s,l,h=!1){for(;null!==s;){const _=i[s.index];if(null!==_&&l.push(ur(_)),is(_))for(let S=10;S<_.length;S++){const R=_[S],W=R[1].firstChild;null!==W&&Bd(R[1],R,W,l)}const w=s.type;if(8&w)Bd(t,i,s.child,l);else if(32&w){const S=Mt(s,i);let R;for(;R=S();)l.push(R)}else if(16&w){const S=ph(i,s);if(Array.isArray(S))l.push(...S);else{const R=li(i[16]);Bd(R[1],R,S,l,!0)}}s=h?s.projectionNext:s.next}return l}class Vd{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Bd(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(is(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(Yn(i,l),wr(s,l))}this._attachedToViewContainer=!1}gi(this._lView[1],this._lView)}onDestroy(i){Lf(this._lView[1],this._lView,null,i)}markForCheck(){Vf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function ku(t,i,s){const l=i[10];l.begin&&l.begin();try{id(t,i,t.template,s)}catch(h){throw mm(i,h),h}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ye(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lf(t,i){mh(t,i,i[Z],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ye(902,!1);this._appRef=i}}class _m extends Vd{constructor(i){super(i),this._view=i}detectChanges(){!function Uf(t){!function og(t){for(let i=0;i<t.components.length;i++){const s=t.components[i],l=rc(s);if(null!==l){const h=l[1];S_(h,l,h.template,s)}}}(t[8])}(this._view)}checkNoChanges(){}get context(){return null}}class jf extends vd{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=ke(i);return new Ud(s,this.ngModule)}}function Sh(t){const i=[];for(let s in t)t.hasOwnProperty(s)&&i.push({propName:t[s],templateName:s});return i}class ym{constructor(i,s){this.injector=i,this.parentInjector=s}get(i,s,l){const h=this.injector.get(i,qu,l);return h!==qu||s===qu?h:this.parentInjector.get(i,s,l)}}class Ud extends nh{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function gf(t){return t.map(Cp).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Sh(this.componentDef.inputs)}get outputs(){return Sh(this.componentDef.outputs)}create(i,s,l,h){let _=(h=h||this.ngModule)instanceof yl?h:h?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new ym(i,_):i,S=w.get(rh,null);if(null===S)throw new Ye(407,!1);const R=w.get(bd,null),W=S.createRenderer(null,this.componentDef),ge=this.componentDef.selectors[0][0]||"div",Me=l?function M_(t,i,s){return t.selectRootElement(i,s===Te.ShadowDom)}(W,l,this.componentDef.encapsulation):wl(S.createRenderer(null,this.componentDef),ge,function sr(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(ge)),ut=this.componentDef.onPush?288:272,At={components:[]},ln=Wp(0,null,null,1,0,null,null,null,null,null),wn=Ld(null,ln,At,ut,null,null,S,W,R,w,null);let Ln,ni;Ro(wn);try{const Si=function Rc(t,i,s,l,h,_){const w=s[1];s[22]=t;const R=Ou(w,22,2,"#host",null),W=R.mergedAttrs=i.hostAttrs;null!==W&&(Ah(R,W,!0),null!==t&&(Oo(h,t,W),null!==R.classes&&yp(h,t,R.classes),null!==R.styles&&_p(h,t,R.styles)));const ge=l.createRenderer(t,i),Me=Ld(s,Ff(i),null,i.onPush?32:16,s[22],R,l,ge,_||null,null,null);return w.firstCreatePass&&(Da(Us(R,s),w,i.type),Qp(w,R),Jp(R,s.length,1)),rd(s,Me),s[22]=Me}(Me,this.componentDef,wn,S,W);if(Me)if(l)Oo(W,Me,["ng-version",Zh.full]);else{const{attrs:gn,classes:Ei}=function _h(t){const i=[],s=[];let l=1,h=2;for(;l<t.length;){let _=t[l];if("string"==typeof _)2===h?""!==_&&i.push(_,t[++l]):8===h&&s.push(_);else{if(!Hl(h))break;h=_}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);gn&&Oo(W,Me,gn),Ei&&Ei.length>0&&yp(W,Me,Ei.join(" "))}if(ni=hs(ln,22),void 0!==s){const gn=ni.projection=[];for(let Ei=0;Ei<this.ngContentSelectors.length;Ei++){const cr=s[Ei];gn.push(null!=cr?Array.from(cr):null)}}Ln=function N_(t,i,s,l,h){const _=s[1],w=function O_(t,i,s){const l=vr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Ih(t,l,i,lc(t,i,1,null),s),om(t,l));const h=Ci(i,t,l.directiveStart,l);Zs(h,i);const _=Ar(l,i);return _&&Zs(_,i),h}(_,s,i);if(l.components.push(w),t[8]=w,null!==h)for(const R of h)R(w,i);if(i.contentQueries){const R=vr();i.contentQueries(1,w,R.directiveStart)}const S=vr();return!_.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Rt(S.index),lm(s[1],S,0,S.directiveStart,S.directiveEnd,i),cm(i,w)),w}(Si,this.componentDef,wn,At,[vm]),Ch(ln,wn,null)}finally{X()}return new Hs(this.componentType,Ln,yu(ni,wn),wn,ni)}}class Hs extends class Mg{}{constructor(i,s,l,h,_){super(),this.location=l,this._rootLView=h,this._tNode=_,this.instance=s,this.hostView=this.changeDetectorRef=new _m(h),this.componentType=i}setInput(i,s){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[i])){const _=this._rootLView;cg(_[1],_,h,i,s),Bf(_,this._tNode.index)}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function vm(){const t=vr();Gi(tn()[1],t)}function Hf(t){let i=function bm(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const l=[t];for(;i;){let h;if(Vi(t))h=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ye(903,!1);h=i.\u0275dir}if(h){if(s){l.push(h);const w=t;w.inputs=Mh(t.inputs),w.declaredInputs=Mh(t.declaredInputs),w.outputs=Mh(t.outputs);const S=h.hostBindings;S&&Es(t,S);const R=h.viewQuery,W=h.contentQueries;if(R&&U_(t,R),W&&j_(t,W),Fe(t.inputs,h.inputs),Fe(t.declaredInputs,h.declaredInputs),Fe(t.outputs,h.outputs),Vi(h)&&h.data.animation){const ge=t.data;ge.animation=(ge.animation||[]).concat(h.data.animation)}}const _=h.features;if(_)for(let w=0;w<_.length;w++){const S=_[w];S&&S.ngInherit&&S(t),S===Hf&&(s=!1)}}i=Object.getPrototypeOf(i)}!function V_(t){let i=0,s=null;for(let l=t.length-1;l>=0;l--){const h=t[l];h.hostVars=i+=h.hostVars,h.hostAttrs=xa(h.hostAttrs,s=xa(s,h.hostAttrs))}}(l)}function Mh(t){return t===Cn?{}:t===je?[]:t}function U_(t,i){const s=t.viewQuery;t.viewQuery=s?(l,h)=>{i(l,h),s(l,h)}:i}function j_(t,i){const s=t.contentQueries;t.contentQueries=s?(l,h,_)=>{i(l,h,_),s(l,h,_)}:i}function Es(t,i){const s=t.hostBindings;t.hostBindings=s?(l,h)=>{i(l,h),s(l,h)}:i}let Rh=null;function sd(){if(!Rh){const t=wt.Symbol;if(t&&t.iterator)Rh=t.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Rh=l)}}}return Rh}function jd(t){return!!ug(t)&&(Array.isArray(t)||!(t instanceof Map)&&sd()in t)}function ug(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ma(t,i,s){return!Object.is(t[i],s)&&(t[i]=s,!0)}function Oc(t,i,s,l){const h=tn();return ma(h,go(),i)&&(vi(),Mc(Gt(),h,t,i,s,l)),Oc}function ru(t,i,s,l){return ma(t,go(),s)?i+pt(s)+l:ki}function hg(t,i,s,l,h,_,w,S){const R=tn(),W=vi(),ge=t+22,Me=W.firstCreatePass?function ld(t,i,s,l,h,_,w,S,R){const W=i.consts,ge=Ou(i,t,4,w||null,ss(W,S));Dh(i,s,ge,ss(W,R)),Gi(i,ge);const Me=ge.tViews=Wp(2,ge,l,h,_,i.directiveRegistry,i.pipeRegistry,null,i.schemas,W);return null!==i.queries&&(i.queries.template(i,ge),Me.queries=i.queries.embeddedTView(ge)),ge}(ge,W,R,i,s,l,h,_,w):W.data[ge];L(Me,!1);const ut=R[Z].createComment("");Md(W,R,ut,Me),Zs(ut,R),rd(R,R[ge]=tg(ut,R,ut,Me)),Xs(Me)&&xh(W,R,Me),null!=w&&zp(R,Me,S)}function Wf(t){return function ho(t,i){return t[i]}(function lr(){return mi.lFrame.contextLView}(),22+t)}function Ph(t,i,s){const l=tn();return ma(l,go(),i)&&al(vi(),Gt(),l,t,i,l[Z],s,!1),Ph}function fg(t,i,s,l,h){const w=h?"class":"style";cg(t,s,i.inputs[w],w,l)}function cd(t,i,s,l){const h=tn(),_=vi(),w=22+t,S=h[Z],R=h[w]=wl(S,i,function Bi(){return mi.lFrame.currentNamespace}()),W=_.firstCreatePass?function Kf(t,i,s,l,h,_,w){const S=i.consts,W=Ou(i,t,2,h,ss(S,_));return Dh(i,s,W,ss(S,w)),null!==W.attrs&&Ah(W,W.attrs,!1),null!==W.mergedAttrs&&Ah(W,W.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,W),W}(w,_,h,0,i,s,l):_.data[w];L(W,!0);const ge=W.mergedAttrs;null!==ge&&Oo(S,R,ge);const Me=W.classes;null!==Me&&yp(S,R,Me);const ut=W.styles;return null!==ut&&_p(S,R,ut),64!=(64&W.flags)&&Md(_,h,R,W),0===function po(){return mi.lFrame.elementDepthCount}()&&Zs(R,h),function sa(){mi.lFrame.elementDepthCount++}(),Xs(W)&&(xh(_,h,W),function Tc(t,i,s){if(Do(i)){const h=i.directiveEnd;for(let _=i.directiveStart;_<h;_++){const w=t.data[_];w.contentQueries&&w.contentQueries(1,s[_],_)}}}(_,W,h)),null!==l&&zp(h,W),cd}function Fh(){let t=vr();pe()?Bt():(t=t.parent,L(t,!1));const i=t;!function Ls(){mi.lFrame.elementDepthCount--}();const s=vi();return s.firstCreatePass&&(Gi(s,t),Do(t)&&s.queries.elementEnd(t)),null!=i.classesWithoutHost&&function dl(t){return 0!=(16&t.flags)}(i)&&fg(s,i,tn(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function pc(t){return 0!=(32&t.flags)}(i)&&fg(s,i,tn(),i.stylesWithoutHost,!1),Fh}function ud(t,i,s,l){return cd(t,i,s,l),Fh(),ud}function Kd(){return tn()}function au(t){return!!t&&"function"==typeof t.then}function Im(t){return!!t&&"function"==typeof t.subscribe}const Am=Im;function Yf(t,i,s,l){const h=tn(),_=vi(),w=vr();return Sm(_,h,h[Z],w,t,i,0,l),Yf}function dd(t,i){const s=vr(),l=tn(),h=vi();return Sm(h,l,gm(zo(h.data),s,l),s,t,i),dd}function Sm(t,i,s,l,h,_,w,S){const R=Xs(l),ge=t.firstCreatePass&&lg(t),Me=i[8],ut=pm(i);let At=!0;if(3&l.type||S){const Ln=Ar(l,i),ni=S?S(Ln):Ln,Si=ut.length,gn=S?cr=>S(ur(cr[l.index])):l.index;let Ei=null;if(!S&&R&&(Ei=function W_(t,i,s,l){const h=t.cleanup;if(null!=h)for(let _=0;_<h.length-1;_+=2){const w=h[_];if(w===s&&h[_+1]===l){const S=i[7],R=h[_+2];return S.length>R?S[R]:null}"string"==typeof w&&(_+=2)}return null}(t,i,h,l.index)),null!==Ei)(Ei.__ngLastListenerFn__||Ei).__ngNextListenerFn__=_,Ei.__ngLastListenerFn__=_,At=!1;else{_=Mm(l,i,Me,_,!1);const cr=s.listen(ni,h,_);ut.push(_,cr),ge&&ge.push(h,gn,Si,Si+1)}}else _=Mm(l,i,Me,_,!1);const ln=l.outputs;let wn;if(At&&null!==ln&&(wn=ln[h])){const Ln=wn.length;if(Ln)for(let ni=0;ni<Ln;ni+=2){const Rs=i[wn[ni]][wn[ni+1]].subscribe(_),jh=ut.length;ut.push(_,Rs),ge&&ge.push(h,l.index,jh,-(jh+1))}}}function Tm(t,i,s,l){try{return!1!==s(l)}catch(h){return mm(t,h),!1}}function Mm(t,i,s,l,h){return function _(w){if(w===Function)return l;Vf(2&t.flags?Ni(t.index,i):i);let R=Tm(i,0,l,w),W=_.__ngNextListenerFn__;for(;W;)R=Tm(i,0,W,w)&&R,W=W.__ngNextListenerFn__;return h&&!1===R&&(w.preventDefault(),w.returnValue=!1),R}}function Rm(t=1){return function N(t){return(mi.lFrame.contextLView=function fe(t,i){for(;t>0;)i=i[15],t--;return i}(t,mi.lFrame.contextLView))[8]}(t)}function Om(t,i){let s=null;const l=function bp(t){const i=t.attrs;if(null!=i){const s=i.indexOf(5);if(0==(1&s))return i[s+1]}return null}(t);for(let h=0;h<i.length;h++){const _=i[h];if("*"!==_){if(null===l?Ug(t,_,!0):jg(l,_))return h}else s=h}return s}function km(t){const i=tn()[16][6];if(!i.projection){const l=i.projection=D(t?t.length:1,null),h=l.slice();let _=i.child;for(;null!==_;){const w=t?Om(_,t):0;null!==w&&(h[w]?h[w].projectionNext=_:l[w]=_,h[w]=_),_=_.next}}}function Pm(t,i=0,s){const l=tn(),h=vi(),_=Ou(h,22+t,16,null,s||null);null===_.projection&&(_.projection=i),Bt(),64!=(64&_.flags)&&function Ng(t,i,s){gp(i[Z],0,i,s,El(t,s,i),Xu(s.parent||i[6],s,i))}(h,l,_)}function qf(t,i,s){return pg(t,"",i,"",s),qf}function pg(t,i,s,l,h){const _=tn(),w=ru(_,i,s,l);return w!==ki&&al(vi(),Gt(),_,t,w,_[Z],h,!1),pg}function Bm(t,i,s,l,h){const _=t[s+1],w=null===i;let S=l?Cl(_):ac(_),R=!1;for(;0!==S&&(!1===R||w);){const ge=t[S+1];Vm(t[S],i)&&(R=!0,t[S+1]=l?vh(ge):Fp(ge)),S=l?Cl(ge):ac(ge)}R&&(t[s+1]=l?Fp(_):vh(_))}function Vm(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&mn(t,i)>=0}function Nh(t,i,s){return dc(t,i,s,!1),Nh}function wg(t,i){return dc(t,i,null,!0),wg}function dc(t,i,s,l){const h=tn(),_=vi(),w=function As(t){const i=mi.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,s}(2);_.firstUpdatePass&&function ty(t,i,s,l){const h=t.data;if(null===h[s+1]){const _=h[$e()],w=function ey(t,i){return i>=t.expandoStartIndex}(t,s);(function kt(t,i){return 0!=(t.flags&(i?16:32))})(_,l)&&null===i&&!w&&(i=!1),i=function Wm(t,i,s,l){const h=zo(t);let _=l?i.residualClasses:i.residualStyles;if(null===h)0===(l?i.classBindings:i.styleBindings)&&(s=c(s=o(null,t,i,s,l),i.attrs,l),_=null);else{const w=i.directiveStylingLast;if(-1===w||t[w]!==h)if(s=o(h,t,i,s,l),null===_){let R=function r(t,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==ac(l))return t[Cl(l)]}(t,i,l);void 0!==R&&Array.isArray(R)&&(R=o(null,t,i,R[1],l),R=c(R,i.attrs,l),function e(t,i,s,l){t[Cl(s?i.classBindings:i.styleBindings)]=l}(t,i,l,R))}else _=function n(t,i,s){let l;const h=i.directiveEnd;for(let _=1+i.directiveStylingLast;_<h;_++)l=c(l,t[_].hostAttrs,s);return c(l,i.attrs,s)}(t,i,l)}return void 0!==_&&(l?i.residualClasses=_:i.residualStyles=_),s}(h,_,i,l),function bg(t,i,s,l,h,_){let w=_?i.classBindings:i.styleBindings,S=Cl(w),R=ac(w);t[l]=s;let ge,W=!1;if(Array.isArray(s)){const Me=s;ge=Me[1],(null===ge||mn(Me,ge)>0)&&(W=!0)}else ge=s;if(h)if(0!==R){const ut=Cl(t[S+1]);t[l+1]=Af(ut,S),0!==ut&&(t[ut+1]=Sf(t[ut+1],l)),t[S+1]=function Pp(t,i){return 131071&t|i<<17}(t[S+1],l)}else t[l+1]=Af(S,0),0!==S&&(t[S+1]=Sf(t[S+1],l)),S=l;else t[l+1]=Af(R,0),0===S?S=l:t[R+1]=Sf(t[R+1],l),R=l;W&&(t[l+1]=Fp(t[l+1])),Bm(t,ge,l,!0),Bm(t,ge,l,!1),function Zf(t,i,s,l,h){const _=h?t.residualClasses:t.residualStyles;null!=_&&"string"==typeof i&&mn(_,i)>=0&&(s[l+1]=vh(s[l+1]))}(i,ge,t,l,_),w=Af(S,R),_?i.classBindings=w:i.styleBindings=w}(h,_,i,s,w,l)}}(_,t,w,l),i!==ki&&ma(h,w,i)&&function z(t,i,s,l,h,_,w,S){if(!(3&i.type))return;const R=t.data,W=R[S+1];xe(function Tf(t){return 1==(1&t)}(W)?ne(R,i,s,h,ac(W),w):void 0)||(xe(_)||function qg(t){return 2==(2&t)}(W)&&(_=ne(R,null,s,h,S,w)),function l_(t,i,s,l,h){if(i)h?t.addClass(s,l):t.removeClass(s,l);else{let _=-1===l.indexOf("-")?void 0:we.DashCase;null==h?t.removeStyle(s,l,_):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),_|=we.Important),t.setStyle(s,l,h,_))}}(l,w,Lr($e(),s),h,_))}(_,_.data[$e()],h,h[Z],t,h[w+1]=function Ke(t,i){return null==t||("string"==typeof i?t+=i:"object"==typeof t&&(t=he(Jo(t)))),t}(i,s),l,w)}function o(t,i,s,l,h){let _=null;const w=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<w&&(_=i[S],l=c(l,_.hostAttrs,h),_!==t);)S++;return null!==t&&(s.directiveStylingLast=S),l}function c(t,i,s){const l=s?1:2;let h=-1;if(null!==i)for(let _=0;_<i.length;_++){const w=i[_];"number"==typeof w?h=w:h===l&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Pe(t,w,!!s||i[++_]))}return void 0===t?null:t}function ne(t,i,s,l,h,_){const w=null===i;let S;for(;h>0;){const R=t[h],W=Array.isArray(R),ge=W?R[1]:R,Me=null===ge;let ut=s[h+1];ut===ki&&(ut=Me?je:void 0);let At=Me?Ut(ut,l):ge===l?ut:void 0;if(W&&!xe(At)&&(At=Ut(R,l)),xe(At)&&(S=At,w))return S;const ln=t[h+1];h=w?Cl(ln):ac(ln)}if(null!==i){let R=_?i.residualClasses:i.residualStyles;null!=R&&(S=Ut(R,l))}return S}function xe(t){return void 0!==t}function Xt(t,i=""){const s=tn(),l=vi(),h=t+22,_=l.firstCreatePass?Ou(l,h,1,i,null):l.data[h],w=s[h]=function pa(t,i){return t.createText(i)}(s[Z],i);Md(l,s,w,_),L(_,!1)}function On(t,i,s){const l=tn(),h=ru(l,t,i,s);return h!==ki&&function nu(t,i,s){const l=Lr(i,t);!function Pa(t,i,s){t.setValue(i,s)}(t[Z],l,s)}(l,$e(),h),On}function ny(t,i,s){const l=tn();return ma(l,go(),i)&&al(vi(),Gt(),l,t,i,l[Z],s,!0),ny}function iy(t,i,s){const l=tn();if(ma(l,go(),i)){const _=vi(),w=Gt();al(_,w,l,t,i,gm(zo(_.data),w,l),s,!0)}return iy}const Vh=void 0;var F0=["en",[["a","p"],["AM","PM"],Vh],[["AM","PM"],Vh,Vh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vh,"{1} 'at' {0}",Vh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P0(t){const s=Math.floor(Math.abs(t)),l=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===l?1:5}];let Qf={};function ry(t){const i=function L0(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=vv(i);if(s)return s;const l=i.split("-")[0];if(s=vv(l),s)return s;if("en"===l)return F0;throw new Ye(701,!1)}function yv(t){return ry(t)[Di.PluralCase]}function vv(t){return t in Qf||(Qf[t]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[t]),Qf[t]}var Di=(()=>((Di=Di||{})[Di.LocaleId=0]="LocaleId",Di[Di.DayPeriodsFormat=1]="DayPeriodsFormat",Di[Di.DayPeriodsStandalone=2]="DayPeriodsStandalone",Di[Di.DaysFormat=3]="DaysFormat",Di[Di.DaysStandalone=4]="DaysStandalone",Di[Di.MonthsFormat=5]="MonthsFormat",Di[Di.MonthsStandalone=6]="MonthsStandalone",Di[Di.Eras=7]="Eras",Di[Di.FirstDayOfWeek=8]="FirstDayOfWeek",Di[Di.WeekendRange=9]="WeekendRange",Di[Di.DateFormat=10]="DateFormat",Di[Di.TimeFormat=11]="TimeFormat",Di[Di.DateTimeFormat=12]="DateTimeFormat",Di[Di.NumberSymbols=13]="NumberSymbols",Di[Di.NumberFormats=14]="NumberFormats",Di[Di.CurrencyCode=15]="CurrencyCode",Di[Di.CurrencySymbol=16]="CurrencySymbol",Di[Di.CurrencyName=17]="CurrencyName",Di[Di.Currencies=18]="Currencies",Di[Di.Directionality=19]="Directionality",Di[Di.PluralCase=20]="PluralCase",Di[Di.ExtraData=21]="ExtraData",Di))();const Xf="en-US";let bv=Xf;function ay(t,i,s,l,h){if(t=ye(t),Array.isArray(t))for(let _=0;_<t.length;_++)ay(t[_],i,s,l,h);else{const _=vi(),w=tn();let S=xr(t)?t:ye(t.provide),R=yd(t);const W=vr(),ge=1048575&W.providerIndexes,Me=W.directiveStart,ut=W.providerIndexes>>20;if(xr(t)||!t.multi){const At=new Bs(R,h,ed),ln=cy(S,i,h?ge:ge+ut,Me);-1===ln?(Da(Us(W,w),_,S),ly(_,t,i.length),i.push(S),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),s.push(At),w.push(At)):(s[ln]=At,w[ln]=At)}else{const At=cy(S,i,ge+ut,Me),ln=cy(S,i,ge,ge+ut),wn=At>=0&&s[At],Ln=ln>=0&&s[ln];if(h&&!Ln||!h&&!wn){Da(Us(W,w),_,S);const ni=function kw(t,i,s,l,h){const _=new Bs(t,s,ed);return _.multi=[],_.index=i,_.componentProviders=0,zv(_,h,l&&!s),_}(h?Ow:Rw,s.length,h,l,R);!h&&Ln&&(s[ln].providerFactory=ni),ly(_,t,i.length,0),i.push(S),W.directiveStart++,W.directiveEnd++,h&&(W.providerIndexes+=1048576),s.push(ni),w.push(ni)}else ly(_,t,At>-1?At:ln,zv(s[h?ln:At],R,!h&&l));!h&&l&&Ln&&s[ln].componentProviders++}}}function ly(t,i,s,l){const h=xr(i),_=function Wu(t){return!!t.useClass}(i);if(h||_){const R=(_?ye(i.useClass):i).prototype.ngOnDestroy;if(R){const W=t.destroyHooks||(t.destroyHooks=[]);if(!h&&i.multi){const ge=W.indexOf(s);-1===ge?W.push(s,[l,R]):W[ge+1].push(l,R)}else W.push(s,R)}}}function zv(t,i,s){return s&&t.componentProviders++,t.multi.push(i)-1}function cy(t,i,s,l){for(let h=s;h<l;h++)if(i[h]===t)return h;return-1}function Rw(t,i,s,l){return uy(this.multi,[])}function Ow(t,i,s,l){const h=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=Ci(s,s[1],this.providerFactory.index,l);_=S.slice(0,w),uy(h,_);for(let R=w;R<S.length;R++)_.push(S[R])}else _=[],uy(h,_);return _}function uy(t,i){for(let s=0;s<t.length;s++)i.push((0,t[s])());return i}function Wv(t,i=[]){return s=>{s.providersResolver=(l,h)=>function Mw(t,i,s){const l=vi();if(l.firstCreatePass){const h=Vi(t);ay(s,l.data,l.blueprint,h,!0),ay(i,l.data,l.blueprint,h,!1)}}(l,h?h(t):t,i)}}class ep{}class Kv{}function Pw(t,i){return new Yv(t,i??null)}class Yv extends ep{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jf(this);const l=Le(i);this._bootstrapComponents=b(l.bootstrap),this._r3Injector=vf(i,s,[{provide:ep,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],he(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class dy extends Kv{constructor(i){super(),this.moduleType=i}create(i){return new Yv(this.moduleType,i)}}class Fw extends ep{constructor(i,s,l){super(),this.componentFactoryResolver=new jf(this),this.instance=null;const h=new eh([...i,{provide:ep,useValue:this},{provide:vd,useValue:this.componentFactoryResolver}],s||Yu(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function hy(t,i,s=null){return new Fw(t,i,s).injector}let Lw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const l=xc(0,s.type),h=l.length>0?hy([l],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,h)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=$t({token:t,providedIn:"environment",factory:()=>new t(Er(yl))}),t})();function qv(t){t.getStandaloneInjector=i=>i.get(Lw).getOrCreateStandaloneInjector(t)}function py(t){return i=>{setTimeout(t,void 0,i)}}const Lu=class lE extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){let h=i,_=s||(()=>null),w=l;if(i&&"object"==typeof i){const R=i;h=R.next?.bind(R),_=R.error?.bind(R),w=R.complete?.bind(R)}this.__isAsync&&(_=py(_),h&&(h=py(h)),w&&(w=py(w)));const S=super.subscribe({next:h,error:_,complete:w});return i instanceof f.w0&&i.add(S),S}};function cE(){return this._results[sd()]()}class Qm{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=sd(),l=Qm.prototype;l[s]||(l[s]=cE)}get changes(){return this._changes||(this._changes=new Lu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const h=js(i);(this._changesDetected=!function Ss(t,i,s){if(t.length!==i.length)return!1;for(let l=0;l<t.length;l++){let h=t[l],_=i[l];if(s&&(h=s(h),_=s(_)),_!==h)return!1}return!0}(l._results,h,s))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sg=(()=>{class t{}return t.__NG_ELEMENT_ID__=hE,t})();const uE=Sg,dE=class extends uE{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i,s){const l=this._declarationTContainer.tViews,h=Ld(this._declarationLView,l,i,16,null,l.declTNode,null,null,null,null,s||null);h[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(h[19]=w.createEmbeddedView(l)),Ch(l,h,i),new Vd(h)}};function hE(){return Xm(vr(),tn())}function Xm(t,i){return 4&t.type?new dE(i,t,yu(t,i)):null}let Jm=(()=>{class t{}return t.__NG_ELEMENT_ID__=fE,t})();function fE(){return cb(vr(),tn())}const pE=Jm,ab=class extends pE{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const i=Ha(this._hostTNode,this._hostLView);if(br(i)){const s=kn(i,this._hostLView),l=pr(i);return new yo(s[1].data[l+8],s)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=lb(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){let h,_;"number"==typeof l?h=l:null!=l&&(h=l.index,_=l.injector);const w=i.createEmbeddedView(s||{},_);return this.insert(w,h),w}createComponent(i,s,l,h,_){const w=i&&!function Al(t){return"function"==typeof t}(i);let S;if(w)S=s;else{const Me=s||{};S=Me.index,l=Me.injector,h=Me.projectableNodes,_=Me.environmentInjector||Me.ngModuleRef}const R=w?i:new Ud(ke(i)),W=l||this.parentInjector;if(!_&&null==R.ngModule){const ut=(w?W:this.parentInjector).get(yl,null);ut&&(_=ut)}const ge=R.create(W,h,void 0,_);return this.insert(ge.hostView,S),ge}insert(i,s){const l=i._lView,h=l[1];if(function Rr(t){return is(t[3])}(l)){const ge=this.indexOf(i);if(-1!==ge)this.detach(ge);else{const Me=l[3],ut=new ab(Me,Me[6],Me[3]);ut.detach(ut.indexOf(i))}}const _=this._adjustIndex(s),w=this._lContainer;!function Jc(t,i,s,l){const h=10+l,_=s.length;l>0&&(s[h-1][4]=i),l<_-10?(i[4]=s[h],pl(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const w=i[17];null!==w&&s!==w&&function hh(t,i){const s=t[9];i[16]!==i[3][3][16]&&(t[2]=!0),null===s?t[9]=[i]:s.push(i)}(w,i);const S=i[19];null!==S&&S.insertView(t),i[2]|=64}(h,l,w,_);const S=gh(_,w),R=l[Z],W=jl(R,w[7]);return null!==W&&function Ul(t,i,s,l,h,_){l[0]=h,l[6]=i,mh(t,l,s,1,h,_)}(h,w[6],R,l,W,S),i.attachToViewContainerRef(),pl(gy(w),_,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=lb(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Yn(this._lContainer,s);l&&(wr(gy(this._lContainer),s),gi(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=Yn(this._lContainer,s);return l&&null!=wr(gy(this._lContainer),s)?new Vd(l):null}_adjustIndex(i,s=0){return i??this.length+s}};function lb(t){return t[8]}function gy(t){return t[8]||(t[8]=[])}function cb(t,i){let s;const l=i[t.index];if(is(l))s=l;else{let h;if(8&t.type)h=ur(l);else{const _=i[Z];h=_.createComment("");const w=Ar(t,i);Vo(_,jl(_,w),h,function Fa(t,i){return t.nextSibling(i)}(_,w),!1)}i[t.index]=s=tg(l,i,h,t),rd(i,s)}return new ab(s,t,i)}class my{constructor(i){this.queryList=i,this.matches=null}clone(){return new my(this.queryList)}setDirty(){this.queryList.setDirty()}}class _y{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,h=[];for(let _=0;_<l;_++){const w=s.getByIndex(_);h.push(this.queries[w.indexInDeclarationView].clone())}return new _y(h)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==yb(i,s).matches&&this.queries[s].setDirty()}}class ub{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class yy{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const h=null!==s?s.length:0,_=this.getByIndex(l).embeddedTView(i,h);_&&(_.indexInDeclarationView=l,null!==s?s.push(_):s=[_])}return null!==s?new yy(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class vy{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new vy(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const _=l[h];this.matchTNodeWithReadOption(i,s,_E(s,_)),this.matchTNodeWithReadOption(i,s,to(s,i,_,!1,!1))}else l===Sg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,to(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===vu||h===Jm||h===Sg&&4&s.type)this.addMatch(s.index,-2);else{const _=to(s,i,h,!1,!1);null!==_&&this.addMatch(s.index,_)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function _E(t,i){const s=t.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function vE(t,i,s,l){return-1===s?function yE(t,i){return 11&t.type?yu(t,i):4&t.type?Xm(t,i):null}(i,t):-2===s?function bE(t,i,s){return s===vu?yu(i,t):s===Sg?Xm(i,t):s===Jm?cb(i,t):void 0}(t,i,l):Ci(t,t[1],s,i)}function db(t,i,s,l){const h=i[19].queries[l];if(null===h.matches){const _=t.data,w=s.matches,S=[];for(let R=0;R<w.length;R+=2){const W=w[R];S.push(W<0?null:vE(i,_[W],w[R+1],s.metadata.read))}h.matches=S}return h.matches}function by(t,i,s,l){const h=t.queries.getByIndex(s),_=h.matches;if(null!==_){const w=db(t,i,h,s);for(let S=0;S<_.length;S+=2){const R=_[S];if(R>0)l.push(w[S/2]);else{const W=_[S+1],ge=i[-R];for(let Me=10;Me<ge.length;Me++){const ut=ge[Me];ut[17]===ut[3]&&by(ut[1],ut,W,l)}if(null!==ge[9]){const Me=ge[9];for(let ut=0;ut<Me.length;ut++){const At=Me[ut];by(At[1],At,W,l)}}}}}return l}function hb(t){const i=tn(),s=vi(),l=Mo();mo(l+1);const h=yb(s,l);if(t.dirty&&Nr(i)===(2==(2&h.metadata.flags))){if(null===h.matches)t.reset([]);else{const _=h.crossesNgTemplate?by(s,i,l,[]):db(s,i,h,l);t.reset(_,ea),t.notifyOnChanges()}return!0}return!1}function fb(t,i,s){const l=vi();l.firstCreatePass&&(_b(l,new ub(t,i,s),-1),2==(2&i)&&(l.staticViewQueries=!0)),mb(l,tn(),i)}function pb(t,i,s,l){const h=vi();if(h.firstCreatePass){const _=vr();_b(h,new ub(i,s,l),_.index),function EE(t,i){const s=t.contentQueries||(t.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,i)}(h,t),2==(2&s)&&(h.staticContentQueries=!0)}mb(h,tn(),s)}function gb(){return function wE(t,i){return t[19].queries[i].queryList}(tn(),Mo())}function mb(t,i,s){const l=new Qm(4==(4&s));Lf(t,i,l,l.destroy),null===i[19]&&(i[19]=new _y),i[19].queries.push(new my(l))}function _b(t,i,s){null===t.queries&&(t.queries=new yy),t.queries.track(new vy(i,s))}function yb(t,i){return t.queries.getByIndex(i)}function t_(...t){}const Nb=new Zi("Application Initializer");let n_=(()=>{class t{constructor(s){this.appInits=s,this.resolve=t_,this.reject=t_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const _=this.appInits[h]();if(au(_))s.push(_);else if(Am(_)){const w=new Promise((S,R)=>{_.subscribe({complete:S,error:R})});s.push(w)}}Promise.all(s).then(()=>{l()}).catch(h=>{this.reject(h)}),0===s.length&&l(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Er(Nb,8))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bb=new Zi("AppId",{providedIn:"root",factory:function Vb(){return`${Dy()}${Dy()}${Dy()}`}});function Dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ub=new Zi("Platform Initializer"),GE=new Zi("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jb=new Zi("appBootstrapListener"),$E=new Zi("AnimationModuleType");let zE=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const i_=new Zi("LocaleId",{providedIn:"root",factory:()=>F(i_,en.Optional|en.SkipSelf)||function WE(){return typeof $localize<"u"&&$localize.locale||Xf}()}),KE=new Zi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class YE{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let qE=(()=>{class t{compileModuleSync(s){return new dy(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const l=this.compileModuleSync(s),_=b(Le(s).declarations).reduce((w,S)=>{const R=ke(S);return R&&w.push(new Ud(R)),w},[]);return new YE(l,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const XE=(()=>Promise.resolve(0))();function Iy(t){typeof Zone>"u"?XE.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Fc{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Lu(!1),this.onMicrotaskEmpty=new Lu(!1),this.onStable=new Lu(!1),this.onError=new Lu(!1),typeof Zone>"u")throw new Ye(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const _=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new _("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&s,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function JE(){let t=wt.requestAnimationFrame,i=wt.cancelAnimationFrame;if(typeof Zone<"u"&&t&&i){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function nC(t){const i=()=>{!function tC(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(wt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Sy(t),t.isCheckStableRunning=!0,Ay(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Sy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,h,_,w,S)=>{try{return $b(t),s.invokeTask(h,_,w,S)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||t.shouldCoalesceRunChangeDetection)&&i(),zb(t)}},onInvoke:(s,l,h,_,w,S,R)=>{try{return $b(t),s.invoke(h,_,w,S,R)}finally{t.shouldCoalesceRunChangeDetection&&i(),zb(t)}},onHasTask:(s,l,h,_)=>{s.hasTask(h,_),l===h&&("microTask"==_.change?(t._hasPendingMicrotasks=_.microTask,Sy(t),Ay(t)):"macroTask"==_.change&&(t.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,l,h,_)=>(s.handleError(h,_),t.runOutsideAngular(()=>t.onError.emit(_)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fc.isInAngularZone())throw new Ye(909,!1)}static assertNotInAngularZone(){if(Fc.isInAngularZone())throw new Ye(909,!1)}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,h){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+h,i,eC,t_,t_);try{return _.runTask(w,s,l)}finally{_.cancelTask(w)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const eC={};function Ay(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Sy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function $b(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zb(t){t._nesting--,Ay(t)}class iC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Lu,this.onMicrotaskEmpty=new Lu,this.onStable=new Lu,this.onError=new Lu}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,h){return i.apply(s,l)}}const Wb=new Zi(""),Kb=new Zi("");let Ty,rC=(()=>{class t{constructor(s,l,h){this._ngZone=s,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ty||(function sC(t){Ty=t}(h),h.addToWindow(l)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fc.assertNotInAngularZone(),Iy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iy(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,h){let _=-1;l&&l>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:h})}whenStable(s,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,l,h){return[]}}return t.\u0275fac=function(s){return new(s||t)(Er(Fc),Er(Yb),Er(Kb))},t.\u0275prov=$t({token:t,factory:t.\u0275fac}),t})(),Yb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return Ty?.findTestabilityInTree(this,s,l)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),qd=null;const qb=new Zi("AllowMultipleToken"),My=new Zi("PlatformDestroyListeners");class lC{constructor(i,s){this.name=i,this.token=s}}function Qb(t,i,s=[]){const l=`Platform: ${i}`,h=new Zi(l);return(_=[])=>{let w=Ry();if(!w||w.injector.get(qb,!1)){const S=[...s,..._,{provide:h,useValue:!0}];t?t(S):function cC(t){if(qd&&!qd.get(qb,!1))throw new Ye(400,!1);qd=t;const i=t.get(Jb);(function Zb(t){const i=t.get(Ub,null);i&&i.forEach(s=>s())})(t)}(function Xb(t=[],i){return Du.create({name:i,providers:[{provide:gu,useValue:"platform"},{provide:My,useValue:new Set([()=>qd=null])},...t]})}(S,l))}return function dC(t){const i=Ry();if(!i)throw new Ye(401,!1);return i}()}}function Ry(){return qd?.get(Jb)??null}let Jb=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const h=function t0(t,i){let s;return s="noop"===t?new iC:("zone.js"===t?void 0:t)||new Fc(i),s}(l?.ngZone,function e0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(l)),_=[{provide:Fc,useValue:h}];return h.run(()=>{const w=Du.create({providers:_,parent:this.injector,name:s.moduleType.name}),S=s.create(w),R=S.injector.get(oo,null);if(!R)throw new Ye(402,!1);return h.runOutsideAngular(()=>{const W=h.onError.subscribe({next:ge=>{R.handleError(ge)}});S.onDestroy(()=>{s_(this._modules,S),W.unsubscribe()})}),function n0(t,i,s){try{const l=s();return au(l)?l.catch(h=>{throw i.runOutsideAngular(()=>t.handleError(h)),h}):l}catch(l){throw i.runOutsideAngular(()=>t.handleError(l)),l}}(R,h,()=>{const W=S.injector.get(n_);return W.runInitializers(),W.donePromise.then(()=>(function wv(t){Jt(t,"Expected localeId to be defined"),"string"==typeof t&&(bv=t.toLowerCase().replace(/_/g,"-"))}(S.injector.get(i_,Xf)||Xf),this._moduleDoBootstrap(S),S))})})}bootstrapModule(s,l=[]){const h=r0({},l);return function oC(t,i,s){const l=new dy(s);return Promise.resolve(l)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,h))}_moduleDoBootstrap(s){const l=s.injector.get(r_);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!s.instance.ngDoBootstrap)throw new Ye(403,!1);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ye(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const s=this._injector.get(My,null);s&&(s.forEach(l=>l()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Er(Du))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function r0(t,i){return Array.isArray(i)?i.reduce(r0,t):{...t,...i}}let r_=(()=>{class t{constructor(s,l,h){this._zone=s,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new P.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),w=new P.y(S=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Fc.assertNotInAngularZone(),Iy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{Fc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{R.unsubscribe(),W.unsubscribe()}});this.isStable=(0,B.T)(_,w.pipe((0,_e.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,l){const h=s instanceof nh;if(!this._injector.get(n_).done)throw!h&&Ge(s),new Ye(405,false);let w;w=h?s:this._injector.get(vd).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const S=function aC(t){return t.isBoundToModule}(w)?void 0:this._injector.get(ep),W=w.create(Du.NULL,[],l||w.selector,S),ge=W.location.nativeElement,Me=W.injector.get(Wb,null);return Me?.registerApplication(ge),W.onDestroy(()=>{this.detachView(W.hostView),s_(this.components,W),Me?.unregisterApplication(ge)}),this._loadComponent(W),W}tick(){if(this._runningTick)throw new Ye(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;s_(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(jb,[]).concat(this._bootstrapListeners).forEach(h=>h(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>s_(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ye(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Er(Fc),Er(yl),Er(oo))},t.\u0275prov=$t({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function s_(t,i){const s=t.indexOf(i);s>-1&&t.splice(s,1)}let o0=!0,a0=!1;function fC(){return a0=!0,o0}function pC(){if(a0)throw new Error("Cannot enable prod mode after platform setup.");o0=!1}let gC=(()=>{class t{}return t.__NG_ELEMENT_ID__=mC,t})();function mC(t){return function _C(t,i,s){if(jo(t)&&!s){const l=Ni(t.index,i);return new Vd(l,l)}return 47&t.type?new Vd(i[16],i):null}(vr(),tn(),16==(16&t))}class d0{constructor(){}supports(i){return jd(i)}create(i){return new CC(i)}}const EC=(t,i)=>i;class CC{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||EC}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,h=0,_=null;for(;s||l;){const w=!l||s&&s.currentIndex<f0(l,h,_)?s:l,S=f0(w,h,_),R=w.currentIndex;if(w===l)h--,l=l._nextRemoved;else if(s=s._next,null==w.previousIndex)h++;else{_||(_=[]);const W=S-h,ge=R-h;if(W!=ge){for(let ut=0;ut<W;ut++){const At=ut<_.length?_[ut]:_[ut]=0,ln=At+ut;ge<=ln&&ln<W&&(_[ut]=At+1)}_[w.previousIndex]=ge-W}}S!==R&&i(w,S,R)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!jd(i))throw new Ye(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let h,_,w,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let S=0;S<this.length;S++)_=i[S],w=this._trackByFn(S,_),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,_,w,S)),Object.is(s.item,_)||this._addIdentityChange(s,_)):(s=this._mismatch(s,_,w,S),l=!0),s=s._next}else h=0,function G_(t,i){if(Array.isArray(t))for(let s=0;s<t.length;s++)i(t[s]);else{const s=t[sd()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,S=>{w=this._trackByFn(h,S),null!==s&&Object.is(s.trackById,w)?(l&&(s=this._verifyReinsertion(s,S,w,h)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,w,h),l=!0),s=s._next,h++}),this.length=h;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,h){let _;return null===i?_=this._itTail:(_=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,_,h)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,_,h)):i=this._addAfter(new xC(s,l),_,h),i}_verifyReinsertion(i,s,l,h){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==_?i=this._reinsertAfter(_,i._prev,h):i.currentIndex!=h&&(i.currentIndex=h,this._addToMoves(i,h)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const h=i._prevRemoved,_=i._nextRemoved;return null===h?this._removalsHead=_:h._nextRemoved=_,null===_?this._removalsTail=h:_._prevRemoved=h,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const h=null===s?this._itHead:s._next;return i._next=h,i._prev=s,null===h?this._itTail=i:h._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new h0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new h0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class xC{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DC{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class h0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new DC,this.map.set(s,l)),l.add(i)}get(i,s){const h=this.map.get(i);return h?h.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function f0(t,i,s){const l=t.previousIndex;if(null===l)return l;let h=0;return s&&l<s.length&&(h=s[l]),l+i+h}class p0{constructor(){}supports(i){return i instanceof Map||ug(i)}create(){return new IC}}class IC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||ug(i)))throw new Ye(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,h)=>{if(s&&s.key===h)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const _=this._getOrCreateRecordForKey(h,l);s=this._insertBeforeOrAppend(s,_)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const h=this._records.get(i);this._maybeAddToChanges(h,s);const _=h._prev,w=h._next;return _&&(_._next=w),w&&(w._prev=_),h._next=null,h._prev=null,h}const l=new AC(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class AC{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function g0(){return new Ly([new d0])}let Ly=(()=>{class t{constructor(s){this.factories=s}static create(s,l){if(null!=l){const h=l.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||g0()),deps:[[t,new wi,new In]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(null!=l)return l;throw new Ye(901,!1)}}return t.\u0275prov=$t({token:t,providedIn:"root",factory:g0}),t})();function m0(){return new Ny([new p0])}let Ny=(()=>{class t{constructor(s){this.factories=s}static create(s,l){if(l){const h=l.factories.slice();s=s.concat(h)}return new t(s)}static extend(s){return{provide:t,useFactory:l=>t.create(s,l||m0()),deps:[[t,new wi,new In]]}}find(s){const l=this.factories.find(h=>h.supports(s));if(l)return l;throw new Ye(901,!1)}}return t.\u0275prov=$t({token:t,providedIn:"root",factory:m0}),t})();const MC=Qb(null,"core",[]);let RC=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Er(r_))},t.\u0275mod=it({type:t}),t.\u0275inj=Nn({}),t})();function OC(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},5863:(rn,et,T)=>{function d(q){for(let ue in q){let ye=q[ue]??"";switch(ue){case"display":q.display="flex"===ye?["-webkit-flex","flex"]:"inline-flex"===ye?["-webkit-inline-flex","inline-flex"]:ye;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":q["-webkit-"+ue]=ye;break;case"flex-direction":q["-webkit-flex-direction"]=ye,q["flex-direction"]=ye;break;case"order":q.order=q["-webkit-"+ue]=isNaN(+ye)?"0":ye}}return q}T.d(et,{Ar:()=>B,GK:()=>d,iQ:()=>P,kt:()=>Re,tj:()=>Oe});const f="inline",P=["row","column","row-reverse","column-reverse"];function B(q){let[ue,ye,tt]=_e(q);return function he(q,ue=null,ye=!1){return{display:ye?"inline-flex":"flex","box-sizing":"border-box","flex-direction":q,"flex-wrap":ue||null}}(ue,ye,tt)}function _e(q){q=q?.toLowerCase()??"";let[ue,ye,tt]=q.split(" ");return P.find(dt=>dt===ue)||(ue=P[0]),ye===f&&(ye=tt!==f?tt:"",tt=f),[ue,Fe(ye),!!tt]}function Oe(q){let[ue]=_e(q);return ue.indexOf("row")>-1}function Fe(q){if(q)switch(q.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":q="wrap-reverse";break;case"no":case"none":case"nowrap":q="nowrap";break;default:q="wrap"}return q}function Re(q,...ue){if(null==q)throw TypeError("Cannot convert undefined or null to object");for(let ye of ue)if(null!=ye)for(let tt in ye)ye.hasOwnProperty(tt)&&(q[tt]=ye[tt]);return q}},2233:(rn,et,T)=>{T.d(et,{Bs:()=>_t,FL:()=>Cn,IR:()=>tt,Ot:()=>wt,QI:()=>ot,RK:()=>Ue,WU:()=>pt,g5:()=>Ft,iR:()=>ti,wY:()=>ze,yB:()=>en});var d=T(4650),f=T(6895),P=T(1135),B=T(9751),_e=T(6451),Oe=T(7579),Fe=T(5863),he=T(9300),Re=T(8505);const ue={provide:d.tb,useFactory:function q(je,It){return()=>{if((0,f.NF)(It)){const $=Array.from(je.querySelectorAll(`[class*=${ye}]`)),ee=/\bflex-layout-.+?\b/g;$.forEach(se=>{se.classList.contains(`${ye}ssr`)&&se.parentNode?se.parentNode.removeChild(se):se.className.replace(ee,"")})}}},deps:[f.K0,d.Lbi],multi:!0},ye="flex-layout-";let tt=(()=>{class je{}return je.\u0275fac=function($){return new($||je)},je.\u0275mod=d.oAB({type:je}),je.\u0275inj=d.cJS({providers:[ue]}),je})();class dt{constructor(It=!1,$="all",ee="",se="",Q=0){this.matches=It,this.mediaQuery=$,this.mqAlias=ee,this.suffix=se,this.priority=Q,this.property=""}clone(){return new dt(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let Ye=(()=>{class je{constructor(){this.stylesheet=new Map}addStyleToElement($,ee,se){const Q=this.stylesheet.get($);Q?Q.set(ee,se):this.stylesheet.set($,new Map([[ee,se]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement($,ee){const se=this.stylesheet.get($);let Q="";if(se){const de=se.get(ee);("number"==typeof de||"string"==typeof de)&&(Q=de+"")}return Q}}return je.\u0275fac=function($){return new($||je)},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const Ft={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},pt=new d.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Ft}),ze=new d.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),_t=new d.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function yt(je,It){return je=je?.clone()??new dt,It&&(je.mqAlias=It.alias,je.mediaQuery=It.mediaQuery,je.suffix=It.suffix,je.priority=It.priority),je}class ot{constructor(){this.shouldCache=!0}sideEffect(It,$,ee){}}let Ue=(()=>{class je{constructor($,ee,se,Q){this._serverStylesheet=$,this._serverModuleLoaded=ee,this._platformId=se,this.layoutConfig=Q}applyStyleToElement($,ee,se=null){let Q={};"string"==typeof ee&&(Q[ee]=se,ee=Q),Q=this.layoutConfig.disableVendorPrefixes?ee:(0,Fe.GK)(ee),this._applyMultiValueStyleToElement(Q,$)}applyStyleToElements($,ee=[]){const se=this.layoutConfig.disableVendorPrefixes?$:(0,Fe.GK)($);ee.forEach(Q=>{this._applyMultiValueStyleToElement(se,Q)})}getFlowDirection($){const ee="flex-direction";let se=this.lookupStyle($,ee);return[se||"row",this.lookupInlineStyle($,ee)||(0,f.PM)(this._platformId)&&this._serverModuleLoaded?se:""]}hasWrap($){return"wrap"===this.lookupStyle($,"flex-wrap")}lookupAttributeValue($,ee){return $.getAttribute(ee)??""}lookupInlineStyle($,ee){return(0,f.NF)(this._platformId)?$.style.getPropertyValue(ee):function Xe(je,It){return nt(je)[It]??""}($,ee)}lookupStyle($,ee,se=!1){let Q="";return $&&((Q=this.lookupInlineStyle($,ee))||((0,f.NF)(this._platformId)?se||(Q=getComputedStyle($).getPropertyValue(ee)):this._serverModuleLoaded&&(Q=this._serverStylesheet.getStyleForElement($,ee)))),Q?Q.trim():""}_applyMultiValueStyleToElement($,ee){Object.keys($).sort().forEach(se=>{const Q=$[se],de=Array.isArray(Q)?Q:[Q];de.sort();for(let ve of de)ve=ve?ve+"":"",(0,f.NF)(this._platformId)||!this._serverModuleLoaded?(0,f.NF)(this._platformId)?ee.style.setProperty(se,ve):mt(ee,se,ve):this._serverStylesheet.addStyleToElement(ee,se,ve)})}}return je.\u0275fac=function($){return new($||je)(d.LFG(Ye),d.LFG(ze),d.LFG(d.Lbi),d.LFG(pt))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();function mt(je,It,$){It=It.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const ee=nt(je);ee[It]=$??"",function vt(je,It){let $="";for(const ee in It)It[ee]&&($+=`${ee}:${It[ee]};`);je.setAttribute("style",$)}(je,ee)}function nt(je){const It={},$=je.getAttribute("style");if($){const ee=$.split(/;+/g);for(let se=0;se<ee.length;se++){const Q=ee[se].trim();if(Q.length>0){const de=Q.indexOf(":");if(-1===de)throw new Error(`Invalid CSS style: ${Q}`);It[Q.substr(0,de).trim()]=Q.substr(de+1).trim()}}}return It}function Ae(je,It){return(It&&It.priority||0)-(je&&je.priority||0)}function Ze(je,It){return(je.priority||0)-(It.priority||0)}let Qe=(()=>{class je{constructor($,ee,se){this._zone=$,this._platformId=ee,this._document=se,this.source=new P.X(new dt(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const $=[];return this.registry.forEach((ee,se)=>{ee.matches&&$.push(se)}),$}isActive($){return this.registry.get($)?.matches??this.registerQuery($).some(se=>se.matches)}observe($,ee=!1){if($&&$.length){const se=this._observable$.pipe((0,he.h)(de=>!ee||$.indexOf(de.mediaQuery)>-1)),Q=new B.y(de=>{const ve=this.registerQuery($);if(ve.length){const J=ve.pop();ve.forEach(Ce=>{de.next(Ce)}),this.source.next(J)}de.complete()});return(0,_e.T)(Q,se)}return this._observable$}registerQuery($){const ee=Array.isArray($)?$:[$],se=[];return function Et(je,It){const $=je.filter(ee=>!Ct[ee]);if($.length>0){const ee=$.join(", ");try{const se=It.createElement("style");se.setAttribute("type","text/css"),se.styleSheet||se.appendChild(It.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${ee} {.fx-query-test{ }}\n`)),It.head.appendChild(se),$.forEach(Q=>Ct[Q]=se)}catch(se){console.error(se)}}}(ee,this._document),ee.forEach(Q=>{const de=J=>{this._zone.run(()=>this.source.next(new dt(J.matches,Q)))};let ve=this.registry.get(Q);ve||(ve=this.buildMQL(Q),ve.addListener(de),this.pendingRemoveListenerFns.push(()=>ve.removeListener(de)),this.registry.set(Q,ve)),ve.matches&&se.push(new dt(!0,Q))}),se}ngOnDestroy(){let $;for(;$=this.pendingRemoveListenerFns.pop();)$()}buildMQL($){return function Pt(je,It){return It&&window.matchMedia("all").addListener?window.matchMedia(je):{matches:"all"===je||""===je,media:je,addListener:()=>{},removeListener:()=>{},onchange:null,addEventListener(){},removeEventListener(){},dispatchEvent:()=>!1}}($,(0,f.NF)(this._platformId))}}return je.\u0275fac=function($){return new($||je)(d.LFG(d.R0b),d.LFG(d.Lbi),d.LFG(f.K0))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const Ct={},En=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],sn="(orientation: portrait) and (max-width: 599.98px)",Rn="(orientation: landscape) and (max-width: 959.98px)",Jt="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",qe="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",Yt="(orientation: portrait) and (min-width: 840px)",Dt="(orientation: landscape) and (min-width: 1280px)",jt={HANDSET:`${sn}, ${Rn}`,TABLET:`${Jt} , ${qe}`,WEB:`${Yt}, ${Dt} `,HANDSET_PORTRAIT:`${sn}`,TABLET_PORTRAIT:`${Jt} `,WEB_PORTRAIT:`${Yt}`,HANDSET_LANDSCAPE:`${Rn}`,TABLET_LANDSCAPE:`${qe}`,WEB_LANDSCAPE:`${Dt}`},$t=[{alias:"handset",priority:2e3,mediaQuery:jt.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:jt.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:jt.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:jt.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:jt.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:jt.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:jt.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:jt.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:jt.WEB_PORTRAIT,overlapping:!0}],An=/(\.|-|_)/g;function Nn(je){let It=je.length>0?je.charAt(0):"",$=je.length>1?je.slice(1):"";return It.toUpperCase()+$}const jn=new d.OlP("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const je=(0,d.f3M)(_t),It=(0,d.f3M)(pt),$=[].concat.apply([],(je||[]).map(se=>Array.isArray(se)?se:[se]));return function Gn(je,It=[]){const $={};return je.forEach(ee=>{$[ee.alias]=ee}),It.forEach(ee=>{$[ee.alias]?(0,Fe.kt)($[ee.alias],ee):$[ee.alias]=ee}),function xi(je){return je.forEach(It=>{It.suffix||(It.suffix=function Hn(je){return je.replace(An,"|").split("|").map(Nn).join("")}(It.alias),It.overlapping=!!It.overlapping)}),je}(Object.keys($).map(ee=>$[ee]))}((It.disableDefaultBps?[]:En).concat(It.addOrientationBps?$t:[]),$)}});let Ii=(()=>{class je{constructor($){this.findByMap=new Map,this.items=[...$].sort(Ze)}findByAlias($){return $?this.findWithPredicate($,ee=>ee.alias===$):null}findByQuery($){return this.findWithPredicate($,ee=>ee.mediaQuery===$)}get overlappings(){return this.items.filter($=>$.overlapping)}get aliases(){return this.items.map($=>$.alias)}get suffixes(){return this.items.map($=>$?.suffix??"")}findWithPredicate($,ee){let se=this.findByMap.get($);return se||(se=this.items.find(ee)??null,this.findByMap.set($,se)),se??null}}return je.\u0275fac=function($){return new($||je)(d.LFG(jn))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();const Wn="print",ii={alias:Wn,mediaQuery:Wn,priority:1e3};let zt=(()=>{class je{constructor($,ee,se){this.breakpoints=$,this.layoutConfig=ee,this._document=se,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new qn,this.deactivations=[]}withPrintQuery($){return[...$,Wn]}isPrintEvent($){return $.mediaQuery.startsWith(Wn)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map($=>this.breakpoints.findByAlias($)).filter($=>null!==$)}getEventBreakpoints({mediaQuery:$}){const ee=this.breakpoints.findByQuery($);return(ee?[...this.printBreakPoints,ee]:this.printBreakPoints).sort(Ae)}updateEvent($){let ee=this.breakpoints.findByQuery($.mediaQuery);return this.isPrintEvent($)&&(ee=this.getEventBreakpoints($)[0],$.mediaQuery=ee?.mediaQuery??""),yt($,ee)}registerBeforeAfterPrintHooks($){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const ee=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting($,this.getEventBreakpoints(new dt(!0,Wn))),$.updateStyles())},se=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting($),$.updateStyles())};this._document.defaultView.addEventListener("beforeprint",ee),this._document.defaultView.addEventListener("afterprint",se),this.beforePrintEventListeners.push(ee),this.afterPrintEventListeners.push(se)}interceptEvents($){return ee=>{this.isPrintEvent(ee)?ee.matches&&!this.isPrinting?(this.startPrinting($,this.getEventBreakpoints(ee)),$.updateStyles()):!ee.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting($),$.updateStyles()):this.collectActivations($,ee)}}blockPropagation(){return $=>!(this.isPrinting||this.isPrintEvent($))}startPrinting($,ee){this.isPrinting=!0,this.formerActivations=$.activatedBreakpoints,$.activatedBreakpoints=this.queue.addPrintBreakpoints(ee)}stopPrinting($){$.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations($,ee){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!ee.matches){const se=this.breakpoints.findByQuery(ee.mediaQuery);if(se){const Q=this.formerActivations&&this.formerActivations.includes(se),de=!this.formerActivations&&$.activatedBreakpoints.includes(se);(Q||de)&&(this.deactivations.push(se),this.deactivations.sort(Ae))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach($=>this._document.defaultView.removeEventListener("beforeprint",$)),this.afterPrintEventListeners.forEach($=>this._document.defaultView.removeEventListener("afterprint",$)))}}return je.\u0275fac=function($){return new($||je)(d.LFG(Ii),d.LFG(pt),d.LFG(f.K0))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();class qn{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(It){return It.push(ii),It.sort(Ae),It.forEach($=>this.addBreakpoint($)),this.printBreakpoints}addBreakpoint(It){It&&void 0===this.printBreakpoints.find(ee=>ee.mediaQuery===It.mediaQuery)&&(this.printBreakpoints=function ei(je){return je?.mediaQuery.startsWith(Wn)??!1}(It)?[It,...this.printBreakpoints]:[...this.printBreakpoints,It])}clear(){this.printBreakpoints=[]}}let en=(()=>{class je{constructor($,ee,se){this.matchMedia=$,this.breakpoints=ee,this.hook=se,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new Oe.x,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints($){this._activatedBreakpoints=[...$]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks($){this._useFallbacks=$}onMediaChange($){const ee=this.findByQuery($.mediaQuery);if(ee){$=yt($,ee);const se=this.activatedBreakpoints.indexOf(ee);$.matches&&-1===se?(this._activatedBreakpoints.push(ee),this._activatedBreakpoints.sort(Ae),this.updateStyles()):!$.matches&&-1!==se&&(this._activatedBreakpoints.splice(se,1),this._activatedBreakpoints.sort(Ae),this.updateStyles())}}init($,ee,se,Q,de=[]){$n(this.updateMap,$,ee,se),$n(this.clearMap,$,ee,Q),this.buildElementKeyMap($,ee),this.watchExtraTriggers($,ee,de)}getValue($,ee,se){const Q=this.elementMap.get($);if(Q){const de=void 0!==se?Q.get(se):this.getActivatedValues(Q,ee);if(de)return de.get(ee)}}hasValue($,ee){const se=this.elementMap.get($);if(se){const Q=this.getActivatedValues(se,ee);if(Q)return void 0!==Q.get(ee)||!1}return!1}setValue($,ee,se,Q){let de=this.elementMap.get($);if(de){const J=(de.get(Q)??new Map).set(ee,se);de.set(Q,J),this.elementMap.set($,de)}else de=(new Map).set(Q,(new Map).set(ee,se)),this.elementMap.set($,de);const ve=this.getValue($,ee);void 0!==ve&&this.updateElement($,ee,ve)}trackValue($,ee){return this.subject.asObservable().pipe((0,he.h)(se=>se.element===$&&se.key===ee))}updateStyles(){this.elementMap.forEach(($,ee)=>{const se=new Set(this.elementKeyMap.get(ee));let Q=this.getActivatedValues($);Q&&Q.forEach((de,ve)=>{this.updateElement(ee,ve,de),se.delete(ve)}),se.forEach(de=>{if(Q=this.getActivatedValues($,de),Q){const ve=Q.get(de);this.updateElement(ee,de,ve)}else this.clearElement(ee,de)})})}clearElement($,ee){const se=this.clearMap.get($);if(se){const Q=se.get(ee);Q&&(Q(),this.subject.next({element:$,key:ee,value:""}))}}updateElement($,ee,se){const Q=this.updateMap.get($);if(Q){const de=Q.get(ee);de&&(de(se),this.subject.next({element:$,key:ee,value:se}))}}releaseElement($){const ee=this.watcherMap.get($);ee&&(ee.forEach(Q=>Q.unsubscribe()),this.watcherMap.delete($));const se=this.elementMap.get($);se&&(se.forEach((Q,de)=>se.delete(de)),this.elementMap.delete($))}triggerUpdate($,ee){const se=this.elementMap.get($);if(se){const Q=this.getActivatedValues(se,ee);Q&&(ee?this.updateElement($,ee,Q.get(ee)):Q.forEach((de,ve)=>this.updateElement($,ve,de)))}}buildElementKeyMap($,ee){let se=this.elementKeyMap.get($);se||(se=new Set,this.elementKeyMap.set($,se)),se.add(ee)}watchExtraTriggers($,ee,se){if(se&&se.length){let Q=this.watcherMap.get($);if(Q||(Q=new Map,this.watcherMap.set($,Q)),!Q.get(ee)){const ve=(0,_e.T)(...se).subscribe(()=>{const J=this.getValue($,ee);this.updateElement($,ee,J)});Q.set(ee,ve)}}}findByQuery($){return this.breakpoints.findByQuery($)}getActivatedValues($,ee){for(let Q=0;Q<this.activatedBreakpoints.length;Q++){const ve=$.get(this.activatedBreakpoints[Q].alias);if(ve&&(void 0===ee||ve.has(ee)&&null!=ve.get(ee)))return ve}if(!this._useFallbacks)return;const se=$.get("");return void 0===ee||se&&se.has(ee)?se:void 0}observeActivations(){const $=this.breakpoints.items.map(ee=>ee.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery($)).pipe((0,Re.b)(this.hook.interceptEvents(this)),(0,he.h)(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return je.\u0275fac=function($){return new($||je)(d.LFG(Qe),d.LFG(Ii),d.LFG(zt))},je.\u0275prov=d.Yz7({token:je,factory:je.\u0275fac,providedIn:"root"}),je})();function $n(je,It,$,ee){if(void 0!==ee){const se=je.get(It)??new Map;se.set($,ee),je.set(It,se)}}let ti=(()=>{class je{constructor($,ee,se,Q){this.elementRef=$,this.styleBuilder=ee,this.styler=se,this.marshal=Q,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new Oe.x,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue($){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,$,this.marshal.activatedAlias)}ngOnChanges($){Object.keys($).forEach(ee=>{if(-1!==this.inputs.indexOf(ee)){const se=ee.split(".").slice(1).join(".");this.setValue($[ee].currentValue,se)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init($=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),$)}addStyles($,ee){const se=this.styleBuilder,Q=se.shouldCache;let de=this.styleCache.get($);(!de||!Q)&&(de=se.buildStyles($,ee),Q&&this.styleCache.set($,de)),this.mru={...de},this.applyStyleToElement(de),se.sideEffect($,de,ee)}clearStyles(){Object.keys(this.mru).forEach($=>{this.mru[$]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection($,ee=!1){if($){const[se,Q]=this.styler.getFlowDirection($);if(!Q&&ee){const de=(0,Fe.Ar)(se);this.styler.applyStyleToElements(de,[$])}return se.trim()}return"row"}hasWrap($){return this.styler.hasWrap($)}applyStyleToElement($,ee,se=this.nativeElement){this.styler.applyStyleToElement(se,$,ee)}setValue($,ee){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,$,ee)}updateWithValue($){this.currentValue!==$&&(this.addStyles($),this.currentValue=$)}}return je.\u0275fac=function($){return new($||je)(d.Y36(d.SBq),d.Y36(ot),d.Y36(Ue),d.Y36(en))},je.\u0275dir=d.lG2({type:je,features:[d.TTD]}),je})();function wt(je,It="1",$="1"){let ee=[It,$,je],se=je.indexOf("calc");if(se>0){ee[2]=Lt(je.substring(se).trim());let Q=je.substr(0,se).trim().split(" ");2==Q.length&&(ee[0]=Q[0],ee[1]=Q[1])}else if(0==se)ee[2]=Lt(je.trim());else{let Q=je.split(" ");ee=3===Q.length?Q:[It,$,je]}return ee}function Lt(je){return je.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function Cn(je,It){if(void 0===It)return je;const $=ee=>{const se=+ee.slice(0,-"x".length);return je.endsWith("x")&&!isNaN(se)?`${se*It.value}${It.unit}`:je};return je.includes(" ")?je.split(" ").map($).join(" "):$(je)}},5829:(rn,et,T)=>{T.d(et,{aT:()=>Jt,b8:()=>Ue});var d=T(4650),f=T(2233),P=T(6895),B=T(1281),_e=T(2722);T(1481);let pt=(()=>{class qe extends f.QI{buildStyles(Dt,jt){return{display:"true"===Dt?jt.display||(jt.isServer?"initial":""):"none"}}}return qe.\u0275fac=function(){let Yt;return function(jt){return(Yt||(Yt=d.n5z(qe)))(jt||qe)}}(),qe.\u0275prov=d.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe})(),ze=(()=>{class qe extends f.iR{constructor(Dt,jt,$t,An,Nn,Hn,xi){super(Dt,jt,$t,An),this.layoutConfig=Nn,this.platformId=Hn,this.serverModuleLoaded=xi,this.DIRECTIVE_KEY="show-hide",this.display="",this.hasLayout=!1,this.hasFlexChild=!1}ngAfterViewInit(){this.trackExtraTriggers();const Dt=Array.from(this.nativeElement.children);for(let $t=0;$t<Dt.length;$t++)if(this.marshal.hasValue(Dt[$t],"flex")){this.hasFlexChild=!0;break}_t.has(this.nativeElement)?this.display=_t.get(this.nativeElement):(this.display=this.getDisplayStyle(),_t.set(this.nativeElement,this.display)),this.init();const jt=this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY,"");void 0===jt||""===jt?this.setValue(!0,""):this.triggerUpdate()}ngOnChanges(Dt){Object.keys(Dt).forEach(jt=>{if(-1!==this.inputs.indexOf(jt)){const $t=jt.split("."),An=$t.slice(1).join("."),Nn=Dt[jt].currentValue;let Hn=""===Nn||0!==Nn&&(0,B.Ig)(Nn);"fxHide"===$t[0]&&(Hn=!Hn),this.setValue(Hn,An)}})}trackExtraTriggers(){this.hasLayout=this.marshal.hasValue(this.nativeElement,"layout"),["layout","layout-align"].forEach(Dt=>{this.marshal.trackValue(this.nativeElement,Dt).pipe((0,_e.R)(this.destroySubject)).subscribe(this.triggerUpdate.bind(this))})}getDisplayStyle(){return this.hasLayout||this.hasFlexChild&&this.layoutConfig.addFlexToParent?"flex":this.styler.lookupStyle(this.nativeElement,"display",!0)}updateWithValue(Dt=!0){if(""===Dt)return;const jt=(0,P.PM)(this.platformId);this.addStyles(Dt?"true":"false",{display:this.display,isServer:jt}),jt&&this.serverModuleLoaded&&this.nativeElement.style.setProperty("display",""),this.marshal.triggerUpdate(this.parentElement,"layout-gap")}}return qe.\u0275fac=function(Dt){return new(Dt||qe)(d.Y36(d.SBq),d.Y36(pt),d.Y36(f.RK),d.Y36(f.yB),d.Y36(f.WU),d.Y36(d.Lbi),d.Y36(f.wY))},qe.\u0275dir=d.lG2({type:qe,features:[d.qOj,d.TTD]}),qe})();const _t=new WeakMap,yt=["fxShow","fxShow.print","fxShow.xs","fxShow.sm","fxShow.md","fxShow.lg","fxShow.xl","fxShow.lt-sm","fxShow.lt-md","fxShow.lt-lg","fxShow.lt-xl","fxShow.gt-xs","fxShow.gt-sm","fxShow.gt-md","fxShow.gt-lg","fxHide","fxHide.print","fxHide.xs","fxHide.sm","fxHide.md","fxHide.lg","fxHide.xl","fxHide.lt-sm","fxHide.lt-md","fxHide.lt-lg","fxHide.lt-xl","fxHide.gt-xs","fxHide.gt-sm","fxHide.gt-md","fxHide.gt-lg"];let Ue=(()=>{class qe extends ze{constructor(){super(...arguments),this.inputs=yt}}return qe.\u0275fac=function(){let Yt;return function(jt){return(Yt||(Yt=d.n5z(qe)))(jt||qe)}}(),qe.\u0275dir=d.lG2({type:qe,selectors:[["","fxShow",""],["","fxShow.print",""],["","fxShow.xs",""],["","fxShow.sm",""],["","fxShow.md",""],["","fxShow.lg",""],["","fxShow.xl",""],["","fxShow.lt-sm",""],["","fxShow.lt-md",""],["","fxShow.lt-lg",""],["","fxShow.lt-xl",""],["","fxShow.gt-xs",""],["","fxShow.gt-sm",""],["","fxShow.gt-md",""],["","fxShow.gt-lg",""],["","fxHide",""],["","fxHide.print",""],["","fxHide.xs",""],["","fxHide.sm",""],["","fxHide.md",""],["","fxHide.lg",""],["","fxHide.xl",""],["","fxHide.lt-sm",""],["","fxHide.lt-md",""],["","fxHide.lt-lg",""],["","fxHide.lt-xl",""],["","fxHide.gt-xs",""],["","fxHide.gt-sm",""],["","fxHide.gt-md",""],["","fxHide.gt-lg",""]],inputs:{fxShow:"fxShow","fxShow.print":"fxShow.print","fxShow.xs":"fxShow.xs","fxShow.sm":"fxShow.sm","fxShow.md":"fxShow.md","fxShow.lg":"fxShow.lg","fxShow.xl":"fxShow.xl","fxShow.lt-sm":"fxShow.lt-sm","fxShow.lt-md":"fxShow.lt-md","fxShow.lt-lg":"fxShow.lt-lg","fxShow.lt-xl":"fxShow.lt-xl","fxShow.gt-xs":"fxShow.gt-xs","fxShow.gt-sm":"fxShow.gt-sm","fxShow.gt-md":"fxShow.gt-md","fxShow.gt-lg":"fxShow.gt-lg",fxHide:"fxHide","fxHide.print":"fxHide.print","fxHide.xs":"fxHide.xs","fxHide.sm":"fxHide.sm","fxHide.md":"fxHide.md","fxHide.lg":"fxHide.lg","fxHide.xl":"fxHide.xl","fxHide.lt-sm":"fxHide.lt-sm","fxHide.lt-md":"fxHide.lt-md","fxHide.lt-lg":"fxHide.lt-lg","fxHide.lt-xl":"fxHide.lt-xl","fxHide.gt-xs":"fxHide.gt-xs","fxHide.gt-sm":"fxHide.gt-sm","fxHide.gt-md":"fxHide.gt-md","fxHide.gt-lg":"fxHide.gt-lg"},features:[d.qOj]}),qe})(),Jt=(()=>{class qe{}return qe.\u0275fac=function(Dt){return new(Dt||qe)},qe.\u0275mod=d.oAB({type:qe}),qe.\u0275inj=d.cJS({imports:[f.IR]}),qe})()},1576:(rn,et,T)=>{T.d(et,{Wh:()=>Lt,ae:()=>ve,s9:()=>Fn,xw:()=>ue,yH:()=>Pt});var d=T(4650),f=T(445),P=T(2233),B=T(5863),Oe=(T(7579),T(2722));let Fe=(()=>{class J extends P.QI{buildStyles(Ie,{display:Je}){const it=(0,B.Ar)(Ie);return{...it,display:"none"===Je?Je:it.display}}}return J.\u0275fac=function(){let Ce;return function(Je){return(Ce||(Ce=d.n5z(J)))(Je||J)}}(),J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const he=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let q=(()=>{class J extends P.iR{constructor(Ie,Je,it,nn,fn){super(Ie,it,Je,nn),this._config=fn,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(Ie){const it=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=ye.get(it)??new Map,ye.set(it,this.styleCache),this.currentValue!==Ie&&(this.addStyles(Ie,{display:it}),this.currentValue=Ie)}}return J.\u0275fac=function(Ie){return new(Ie||J)(d.Y36(d.SBq),d.Y36(P.RK),d.Y36(Fe),d.Y36(P.yB),d.Y36(P.WU))},J.\u0275dir=d.lG2({type:J,features:[d.qOj]}),J})(),ue=(()=>{class J extends q{constructor(){super(...arguments),this.inputs=he}}return J.\u0275fac=function(){let Ce;return function(Je){return(Ce||(Ce=d.n5z(J)))(Je||J)}}(),J.\u0275dir=d.lG2({type:J,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[d.qOj]}),J})();const ye=new Map;let Ze=(()=>{class J extends P.QI{constructor(Ie){super(),this.layoutConfig=Ie}buildStyles(Ie,Je){let[it,nn,...fn]=Ie.split(" "),dn=fn.join(" ");const at=Je.direction.indexOf("column")>-1?"column":"row",ke=(0,B.tj)(at)?"max-width":"max-height",He=(0,B.tj)(at)?"min-width":"min-height",Tt=String(dn).indexOf("calc")>-1,Ge=Tt||"auto"===dn,Le=String(dn).indexOf("%")>-1&&!Tt,be=String(dn).indexOf("px")>-1||String(dn).indexOf("rem")>-1||String(dn).indexOf("em")>-1||String(dn).indexOf("vw")>-1||String(dn).indexOf("vh")>-1;let te=Tt||be;it="0"==it?0:it,nn="0"==nn?0:nn;const oe=!it&&!nn;let ae={};const Be={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(dn||""){case"":const lt=!1!==this.layoutConfig.useColumnBasisZero;dn="row"===at?"0%":lt?"0.000000001px":"auto";break;case"initial":case"nogrow":it=0,dn="auto";break;case"grow":dn="100%";break;case"noshrink":nn=0,dn="auto";break;case"auto":break;case"none":it=0,nn=0,dn="auto";break;default:!te&&!Le&&!isNaN(dn)&&(dn+="%"),"0%"===dn&&(te=!0),"0px"===dn&&(dn="0%"),ae=(0,B.kt)(Be,Tt?{"flex-grow":it,"flex-shrink":nn,"flex-basis":te?dn:"100%"}:{flex:`${it} ${nn} ${te?dn:"100%"}`})}return ae.flex||ae["flex-grow"]||(ae=(0,B.kt)(Be,Tt?{"flex-grow":it,"flex-shrink":nn,"flex-basis":dn}:{flex:`${it} ${nn} ${dn}`})),"0%"!==dn&&"0px"!==dn&&"0.000000001px"!==dn&&"auto"!==dn&&(ae[He]=oe||te&&it?dn:null,ae[ke]=oe||!Ge&&nn?dn:null),ae[He]||ae[ke]?Je.hasWrap&&(ae[Tt?"flex-basis":"flex"]=ae[ke]?Tt?ae[ke]:`${it} ${nn} ${ae[ke]}`:Tt?ae[He]:`${it} ${nn} ${ae[He]}`):ae=(0,B.kt)(Be,Tt?{"flex-grow":it,"flex-shrink":nn,"flex-basis":dn}:{flex:`${it} ${nn} ${dn}`}),(0,B.kt)(ae,{"box-sizing":"border-box"})}}return J.\u0275fac=function(Ie){return new(Ie||J)(d.LFG(P.WU))},J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const Qe=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let Et=(()=>{class J extends P.iR{constructor(Ie,Je,it,nn,fn){super(Ie,nn,Je,fn),this.layoutConfig=it,this.marshal=fn,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(Ie){this.flexShrink=Ie||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(Ie){this.flexGrow=Ie||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe((0,Oe.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe((0,Oe.R)(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(Ie){const it=Ie.value.split(" ");this.direction=it[0],this.wrap=void 0!==it[1]&&"wrap"===it[1],this.triggerUpdate()}updateWithValue(Ie){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const it=this.direction,nn=it.startsWith("row"),fn=this.wrap;nn&&fn?this.styleCache=Rn:nn&&!fn?this.styleCache=En:!nn&&fn?this.styleCache=Jt:!nn&&!fn&&(this.styleCache=sn);const dn=String(Ie).replace(";",""),at=(0,P.Ot)(dn,this.flexGrow,this.flexShrink);this.addStyles(at.join(" "),{direction:it,hasWrap:fn})}triggerReflow(){const Ie=this.activatedValue;if(void 0!==Ie){const Je=(0,P.Ot)(Ie+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,Je.join(" "))}}}return J.\u0275fac=function(Ie){return new(Ie||J)(d.Y36(d.SBq),d.Y36(P.RK),d.Y36(P.WU),d.Y36(Ze),d.Y36(P.yB))},J.\u0275dir=d.lG2({type:J,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[d.qOj]}),J})(),Pt=(()=>{class J extends Et{constructor(){super(...arguments),this.inputs=Qe}}return J.\u0275fac=function(){let Ce;return function(Je){return(Ce||(Ce=d.n5z(J)))(Je||J)}}(),J.\u0275dir=d.lG2({type:J,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[d.qOj]}),J})();const En=new Map,sn=new Map,Rn=new Map,Jt=new Map,Pi={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"};let zi=(()=>{class J extends P.QI{buildStyles(Ie){return Pi}}return J.\u0275fac=function(){let Ce;return function(Je){return(Ce||(Ce=d.n5z(J)))(Je||J)}}(),J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),Fn=(()=>{class J extends P.iR{constructor(Ie,Je,it,nn){super(Ie,it,Je,nn),this.styleCache=yi,this.addStyles("")}}return J.\u0275fac=function(Ie){return new(Ie||J)(d.Y36(d.SBq),d.Y36(P.RK),d.Y36(zi),d.Y36(P.yB))},J.\u0275dir=d.lG2({type:J,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[d.qOj]}),J})();const yi=new Map;let Qt=(()=>{class J extends P.QI{buildStyles(Ie,Je){const it={},[nn,fn]=Ie.split(" ");switch(nn){case"center":it["justify-content"]="center";break;case"space-around":it["justify-content"]="space-around";break;case"space-between":it["justify-content"]="space-between";break;case"space-evenly":it["justify-content"]="space-evenly";break;case"end":case"flex-end":it["justify-content"]="flex-end";break;default:it["justify-content"]="flex-start"}switch(fn){case"start":case"flex-start":it["align-items"]=it["align-content"]="flex-start";break;case"center":it["align-items"]=it["align-content"]="center";break;case"end":case"flex-end":it["align-items"]=it["align-content"]="flex-end";break;case"space-between":it["align-content"]="space-between",it["align-items"]="stretch";break;case"space-around":it["align-content"]="space-around",it["align-items"]="stretch";break;case"baseline":it["align-content"]="stretch",it["align-items"]="baseline";break;default:it["align-items"]=it["align-content"]="stretch"}return(0,B.kt)(it,{display:Je.inline?"inline-flex":"flex","flex-direction":Je.layout,"box-sizing":"border-box","max-width":"stretch"===fn?(0,B.tj)(Je.layout)?null:"100%":null,"max-height":"stretch"===fn&&(0,B.tj)(Je.layout)?"100%":null})}}return J.\u0275fac=function(){let Ce;return function(Je){return(Ce||(Ce=d.n5z(J)))(Je||J)}}(),J.\u0275prov=d.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})();const gt=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];let wt=(()=>{class J extends P.iR{constructor(Ie,Je,it,nn){super(Ie,it,Je,nn),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe((0,Oe.R)(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(Ie){const Je=this.layout||"row",it=this.inline;"row"===Je&&it?this.styleCache=$:"row"!==Je||it?"row-reverse"===Je&&it?this.styleCache=se:"row-reverse"!==Je||it?"column"===Je&&it?this.styleCache=ee:"column"!==Je||it?"column-reverse"===Je&&it?this.styleCache=Q:"column-reverse"===Je&&!it&&(this.styleCache=It):this.styleCache=Cn:this.styleCache=je:this.styleCache=qt,this.addStyles(Ie,{layout:Je,inline:it})}onLayoutChange(Ie){const Je=Ie.value.split(" ");this.layout=Je[0],this.inline=Ie.value.includes("inline"),B.iQ.find(it=>it===this.layout)||(this.layout="row"),this.triggerUpdate()}}return J.\u0275fac=function(Ie){return new(Ie||J)(d.Y36(d.SBq),d.Y36(P.RK),d.Y36(Qt),d.Y36(P.yB))},J.\u0275dir=d.lG2({type:J,features:[d.qOj]}),J})(),Lt=(()=>{class J extends wt{constructor(){super(...arguments),this.inputs=gt}}return J.\u0275fac=function(){let Ce;return function(Je){return(Ce||(Ce=d.n5z(J)))(Je||J)}}(),J.\u0275dir=d.lG2({type:J,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[d.qOj]}),J})();const qt=new Map,Cn=new Map,je=new Map,It=new Map,$=new Map,ee=new Map,se=new Map,Q=new Map;let ve=(()=>{class J{}return J.\u0275fac=function(Ie){return new(Ie||J)},J.\u0275mod=d.oAB({type:J}),J.\u0275inj=d.cJS({imports:[P.IR,f.vT]}),J})()},9814:(rn,et,T)=>{T.d(et,{o9:()=>Ee});var d=T(4650),f=T(2233),P=T(5829),B=T(1576);T(1281);let rt=(()=>{class K{}return K.\u0275fac=function(Se){return new(Se||K)},K.\u0275mod=d.oAB({type:K}),K.\u0275inj=d.cJS({imports:[f.IR]}),K})();var ie=T(6895);let Ee=(()=>{class K{constructor(Se,st){(0,ie.PM)(st)&&!Se&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(Se,st=[]){return{ngModule:K,providers:Se.serverLoaded?[{provide:f.WU,useValue:{...f.g5,...Se}},{provide:f.Bs,useValue:st,multi:!0},{provide:f.wY,useValue:!0}]:[{provide:f.WU,useValue:{...f.g5,...Se}},{provide:f.Bs,useValue:st,multi:!0}]}}}return K.\u0275fac=function(Se){return new(Se||K)(d.LFG(f.wY),d.LFG(d.Lbi))},K.\u0275mod=d.oAB({type:K}),K.\u0275inj=d.cJS({imports:[B.ae,P.aT,rt,B.ae,P.aT,rt]}),K})()},4006:(rn,et,T)=>{T.d(et,{F:()=>Mr,Fj:()=>dt,JJ:()=>en,JL:()=>$n,JU:()=>he,On:()=>Gs,_Y:()=>uo,u5:()=>sa});var d=T(4650),f=T(6895),P=T(8996),B=T(4128),_e=T(4004);let Oe=(()=>{class G{constructor(L,pe){this._renderer=L,this._elementRef=pe,this.onChange=Bt=>{},this.onTouched=()=>{}}setProperty(L,pe){this._renderer.setProperty(this._elementRef.nativeElement,L,pe)}registerOnTouched(L){this.onTouched=L}registerOnChange(L){this.onChange=L}setDisabledState(L){this.setProperty("disabled",L)}}return G.\u0275fac=function(L){return new(L||G)(d.Y36(d.Qsj),d.Y36(d.SBq))},G.\u0275dir=d.lG2({type:G}),G})(),Fe=(()=>{class G extends Oe{}return G.\u0275fac=function(){let V;return function(pe){return(V||(V=d.n5z(G)))(pe||G)}}(),G.\u0275dir=d.lG2({type:G,features:[d.qOj]}),G})();const he=new d.OlP("NgValueAccessor"),ue={provide:he,useExisting:(0,d.Gpc)(()=>dt),multi:!0},tt=new d.OlP("CompositionEventMode");let dt=(()=>{class G extends Oe{constructor(L,pe,Bt){super(L,pe),this._compositionMode=Bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ye(){const G=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(G.toLowerCase())}())}writeValue(L){this.setProperty("value",L??"")}_handleInput(L){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(L)}_compositionStart(){this._composing=!0}_compositionEnd(L){this._composing=!1,this._compositionMode&&this.onChange(L)}}return G.\u0275fac=function(L){return new(L||G)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(tt,8))},G.\u0275dir=d.lG2({type:G,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(L,pe){1&L&&d.NdJ("input",function(Zn){return pe._handleInput(Zn.target.value)})("blur",function(){return pe.onTouched()})("compositionstart",function(){return pe._compositionStart()})("compositionend",function(Zn){return pe._compositionEnd(Zn.target.value)})},features:[d._Bn([ue]),d.qOj]}),G})();const ze=new d.OlP("NgValidators"),_t=new d.OlP("NgAsyncValidators");function Et(G){return null!=G}function Pt(G){return(0,d.QGY)(G)?(0,P.D)(G):G}function En(G){let V={};return G.forEach(L=>{V=null!=L?{...V,...L}:V}),0===Object.keys(V).length?null:V}function sn(G,V){return V.map(L=>L(G))}function Jt(G){return G.map(V=>function Rn(G){return!G.validate}(V)?V:L=>V.validate(L))}function Yt(G){return null!=G?function qe(G){if(!G)return null;const V=G.filter(Et);return 0==V.length?null:function(L){return En(sn(L,V))}}(Jt(G)):null}function jt(G){return null!=G?function Dt(G){if(!G)return null;const V=G.filter(Et);return 0==V.length?null:function(L){const pe=sn(L,V).map(Pt);return(0,B.D)(pe).pipe((0,_e.U)(En))}}(Jt(G)):null}function $t(G,V){return null===G?[V]:Array.isArray(G)?[...G,V]:[G,V]}function Hn(G){return G?Array.isArray(G)?G:[G]:[]}function xi(G,V){return Array.isArray(G)?G.includes(V):G===V}function Gn(G,V){const L=Hn(V);return Hn(G).forEach(Bt=>{xi(L,Bt)||L.push(Bt)}),L}function jn(G,V){return Hn(V).filter(L=>!xi(G,L))}class Ii{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Yt(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,L){return!!this.control&&this.control.hasError(V,L)}getError(V,L){return this.control?this.control.getError(V,L):null}}class Wn extends Ii{get formDirective(){return null}get path(){return null}}class ii extends Ii{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zt{constructor(V){this._cd=V}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let en=(()=>{class G extends zt{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(d.Y36(ii,2))},G.\u0275dir=d.lG2({type:G,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(L,pe){2&L&&d.ekj("ng-untouched",pe.isUntouched)("ng-touched",pe.isTouched)("ng-pristine",pe.isPristine)("ng-dirty",pe.isDirty)("ng-valid",pe.isValid)("ng-invalid",pe.isInvalid)("ng-pending",pe.isPending)},features:[d.qOj]}),G})(),$n=(()=>{class G extends zt{constructor(L){super(L)}}return G.\u0275fac=function(L){return new(L||G)(d.Y36(Wn,10))},G.\u0275dir=d.lG2({type:G,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(L,pe){2&L&&d.ekj("ng-untouched",pe.isUntouched)("ng-touched",pe.isTouched)("ng-pristine",pe.isPristine)("ng-dirty",pe.isDirty)("ng-valid",pe.isValid)("ng-invalid",pe.isInvalid)("ng-pending",pe.isPending)("ng-submitted",pe.isSubmitted)},features:[d.qOj]}),G})();const Q="VALID",de="INVALID",ve="PENDING",J="DISABLED";function Ce(G){return(nn(G)?G.validators:G)||null}function Ie(G){return Array.isArray(G)?Yt(G):G||null}function Je(G,V){return(nn(V)?V.asyncValidators:G)||null}function it(G){return Array.isArray(G)?jt(G):G||null}function nn(G){return null!=G&&!Array.isArray(G)&&"object"==typeof G}class at{constructor(V,L){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=L,this._composedValidatorFn=Ie(this._rawValidators),this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===Q}get invalid(){return this.status===de}get pending(){return this.status==ve}get disabled(){return this.status===J}get enabled(){return this.status!==J}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=Ie(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=it(V)}addValidators(V){this.setValidators(Gn(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Gn(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(jn(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(jn(V,this._rawAsyncValidators))}hasValidator(V){return xi(this._rawValidators,V)}hasAsyncValidator(V){return xi(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(L=>{L.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(L=>{L.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=ve,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const L=this._parentMarkedDirty(V.onlySelf);this.status=J,this.errors=null,this._forEachChild(pe=>{pe.disable({...V,onlySelf:!0})}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:L}),this._onDisabledChange.forEach(pe=>pe(!0))}enable(V={}){const L=this._parentMarkedDirty(V.onlySelf);this.status=Q,this._forEachChild(pe=>{pe.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:L}),this._onDisabledChange.forEach(pe=>pe(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Q||this.status===ve)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(L=>L._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?J:Q}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=ve,this._hasOwnPendingAsyncValidator=!0;const L=Pt(this.asyncValidator(this));this._asyncValidationSubscription=L.subscribe(pe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(pe,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,L={}){this.errors=V,this._updateControlsErrors(!1!==L.emitEvent)}get(V){let L=V;return null==L||(Array.isArray(L)||(L=L.split(".")),0===L.length)?null:L.reduce((pe,Bt)=>pe&&pe._find(Bt),this)}getError(V,L){const pe=L?this.get(L):this;return pe&&pe.errors?pe.errors[V]:null}hasError(V,L){return!!this.getError(V,L)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?J:this.errors?de:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ve)?ve:this._anyControlsHaveStatus(de)?de:Q}_anyControlsHaveStatus(V){return this._anyControls(L=>L.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){nn(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}}class ke extends at{constructor(V,L,pe){super(Ce(L),Je(pe,L)),this.controls=V,this._initObservables(),this._setUpdateStrategy(L),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,L){return this.controls[V]?this.controls[V]:(this.controls[V]=L,L.setParent(this),L._registerOnCollectionChange(this._onCollectionChange),L)}addControl(V,L,pe={}){this.registerControl(V,L),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}removeControl(V,L={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:L.emitEvent}),this._onCollectionChange()}setControl(V,L,pe={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],L&&this.registerControl(V,L),this.updateValueAndValidity({emitEvent:pe.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,L={}){(function dn(G,V,L){G._forEachChild((pe,Bt)=>{if(void 0===L[Bt])throw new d.vHH(1002,"")})})(this,0,V),Object.keys(V).forEach(pe=>{(function fn(G,V,L){const pe=G.controls;if(!(V?Object.keys(pe):pe).length)throw new d.vHH(1e3,"");if(!pe[L])throw new d.vHH(1001,"")})(this,!0,pe),this.controls[pe].setValue(V[pe],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L)}patchValue(V,L={}){null!=V&&(Object.keys(V).forEach(pe=>{const Bt=this.controls[pe];Bt&&Bt.patchValue(V[pe],{onlySelf:!0,emitEvent:L.emitEvent})}),this.updateValueAndValidity(L))}reset(V={},L={}){this._forEachChild((pe,Bt)=>{pe.reset(V[Bt],{onlySelf:!0,emitEvent:L.emitEvent})}),this._updatePristine(L),this._updateTouched(L),this.updateValueAndValidity(L)}getRawValue(){return this._reduceChildren({},(V,L,pe)=>(V[pe]=L.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(L,pe)=>!!pe._syncPendingControls()||L);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(L=>{const pe=this.controls[L];pe&&V(pe,L)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[L,pe]of Object.entries(this.controls))if(this.contains(L)&&V(pe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(L,pe,Bt)=>((pe.enabled||this.disabled)&&(L[Bt]=pe.value),L))}_reduceChildren(V,L){let pe=V;return this._forEachChild((Bt,Zn)=>{pe=L(pe,Bt,Zn)}),pe}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}function te(G,V){lt(G,V),V.valueAccessor.writeValue(G.value),G.disabled&&V.valueAccessor.setDisabledState?.(!0),function Sn(G,V){V.valueAccessor.registerOnChange(L=>{G._pendingValue=L,G._pendingChange=!0,G._pendingDirty=!0,"change"===G.updateOn&&rt(G,V)})}(G,V),function ie(G,V){const L=(pe,Bt)=>{V.valueAccessor.writeValue(pe),Bt&&V.viewToModelUpdate(pe)};G.registerOnChange(L),V._registerOnDestroy(()=>{G._unregisterOnChange(L)})}(G,V),function oi(G,V){V.valueAccessor.registerOnTouched(()=>{G._pendingTouched=!0,"blur"===G.updateOn&&G._pendingChange&&rt(G,V),"submit"!==G.updateOn&&G.markAsTouched()})}(G,V),function Be(G,V){if(V.valueAccessor.setDisabledState){const L=pe=>{V.valueAccessor.setDisabledState(pe)};G.registerOnDisabledChange(L),V._registerOnDestroy(()=>{G._unregisterOnDisabledChange(L)})}}(G,V)}function ae(G,V){G.forEach(L=>{L.registerOnValidatorChange&&L.registerOnValidatorChange(V)})}function lt(G,V){const L=function An(G){return G._rawValidators}(G);null!==V.validator?G.setValidators($t(L,V.validator)):"function"==typeof L&&G.setValidators([L]);const pe=function Nn(G){return G._rawAsyncValidators}(G);null!==V.asyncValidator?G.setAsyncValidators($t(pe,V.asyncValidator)):"function"==typeof pe&&G.setAsyncValidators([pe]);const Bt=()=>G.updateValueAndValidity();ae(V._rawValidators,Bt),ae(V._rawAsyncValidators,Bt)}function rt(G,V){G._pendingDirty&&G.markAsDirty(),G.setValue(G._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(G._pendingValue),G._pendingChange=!1}const Dr={provide:Wn,useExisting:(0,d.Gpc)(()=>Mr)},Ki=(()=>Promise.resolve(null))();let Mr=(()=>{class G extends Wn{constructor(L,pe){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new ke({},Yt(L),jt(pe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(L){Ki.then(()=>{const pe=this._findContainer(L.path);L.control=pe.registerControl(L.name,L.control),te(L.control,L),L.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(L)})}getControl(L){return this.form.get(L.path)}removeControl(L){Ki.then(()=>{const pe=this._findContainer(L.path);pe&&pe.removeControl(L.name),this._directives.delete(L)})}addFormGroup(L){Ki.then(()=>{const pe=this._findContainer(L.path),Bt=new ke({});(function Z(G,V){lt(G,V)})(Bt,L),pe.registerControl(L.name,Bt),Bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(L){Ki.then(()=>{const pe=this._findContainer(L.path);pe&&pe.removeControl(L.name)})}getFormGroup(L){return this.form.get(L.path)}updateModel(L,pe){Ki.then(()=>{this.form.get(L.path).setValue(pe)})}setValue(L){this.control.setValue(L)}onSubmit(L){return this.submitted=!0,function xn(G,V){G._syncPendingControls(),V.forEach(L=>{const pe=L.control;"submit"===pe.updateOn&&pe._pendingChange&&(L.viewToModelUpdate(pe._pendingValue),pe._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(L),!1}onReset(){this.resetForm()}resetForm(L){this.form.reset(L),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(L){return L.pop(),L.length?this.form.get(L):this.form}}return G.\u0275fac=function(L){return new(L||G)(d.Y36(ze,10),d.Y36(_t,10))},G.\u0275dir=d.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(L,pe){1&L&&d.NdJ("submit",function(Zn){return pe.onSubmit(Zn)})("reset",function(){return pe.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Dr]),d.qOj]}),G})();function Fr(G,V){const L=G.indexOf(V);L>-1&&G.splice(L,1)}function qr(G){return"object"==typeof G&&null!==G&&2===Object.keys(G).length&&"value"in G&&"disabled"in G}const Ai=class extends at{constructor(V=null,L,pe){super(Ce(L),Je(pe,L)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(L),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nn(L)&&(L.nonNullable||L.initialValueIsDefault)&&(this.defaultValue=qr(V)?V.value:V)}setValue(V,L={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==L.emitModelToViewChange&&this._onChange.forEach(pe=>pe(this.value,!1!==L.emitViewToModelChange)),this.updateValueAndValidity(L)}patchValue(V,L={}){this.setValue(V,L)}reset(V=this.defaultValue,L={}){this._applyFormState(V),this.markAsPristine(L),this.markAsUntouched(L),this.setValue(this.value,L),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){Fr(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){Fr(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){qr(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}},Ho={provide:ii,useExisting:(0,d.Gpc)(()=>Gs)},na=(()=>Promise.resolve(null))();let Gs=(()=>{class G extends ii{constructor(L,pe,Bt,Zn,lr){super(),this._changeDetectorRef=lr,this.control=new Ai,this._registered=!1,this.update=new d.vpe,this._parent=L,this._setValidators(pe),this._setAsyncValidators(Bt),this.valueAccessor=function Jn(G,V){if(!V)return null;let L,pe,Bt;return Array.isArray(V),V.forEach(Zn=>{Zn.constructor===dt?L=Zn:function pn(G){return Object.getPrototypeOf(G.constructor)===Fe}(Zn)?pe=Zn:Bt=Zn}),Bt||pe||L||null}(0,Zn)}ngOnChanges(L){if(this._checkForErrors(),!this._registered||"name"in L){if(this._registered&&(this._checkName(),this.formDirective)){const pe=L.name.previousValue;this.formDirective.removeControl({name:pe,path:this._getPath(pe)})}this._setUpControl()}"isDisabled"in L&&this._updateDisabled(L),function Kt(G,V){if(!G.hasOwnProperty("model"))return!1;const L=G.model;return!!L.isFirstChange()||!Object.is(V,L.currentValue)}(L,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(L){this.viewModel=L,this.update.emit(L)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){te(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(L){na.then(()=>{this.control.setValue(L,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(L){const pe=L.isDisabled.currentValue,Bt=0!==pe&&(0,d.D6c)(pe);na.then(()=>{Bt&&!this.control.disabled?this.control.disable():!Bt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(L){return this._parent?function be(G,V){return[...V.path,G]}(L,this._parent):[L]}}return G.\u0275fac=function(L){return new(L||G)(d.Y36(Wn,9),d.Y36(ze,10),d.Y36(_t,10),d.Y36(he,10),d.Y36(d.sBO,8))},G.\u0275dir=d.lG2({type:G,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([Ho]),d.qOj,d.TTD]}),G})(),uo=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275dir=d.lG2({type:G,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),G})(),St=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=d.oAB({type:G}),G.\u0275inj=d.cJS({}),G})(),po=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=d.oAB({type:G}),G.\u0275inj=d.cJS({imports:[St]}),G})(),sa=(()=>{class G{}return G.\u0275fac=function(L){return new(L||G)},G.\u0275mod=d.oAB({type:G}),G.\u0275inj=d.cJS({imports:[po]}),G})()},3238:(rn,et,T)=>{T.d(et,{Y2:()=>ei,BQ:()=>_t,X2:()=>$t,uc:()=>Hn,nP:()=>ti,us:()=>fi,wG:()=>en,si:()=>$n,IR:()=>zt,pj:()=>mt,Kr:()=>vt,Id:()=>Xe,sb:()=>nt,E0:()=>An});var d=T(4650),f=T(2693),P=T(445),_e=T(6895),Oe=T(3353),Fe=T(1281),he=T(8675);const ze=new d.OlP("mat-sanity-checks",{providedIn:"root",factory:function pt(){return!0}});let _t=(()=>{class ${constructor(se,Q,de){this._sanityChecks=Q,this._document=de,this._hasDoneGlobalChecks=!1,se._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(se){return!(0,Oe.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[se])}}return $.\u0275fac=function(se){return new(se||$)(d.LFG(f.qm),d.LFG(ze,8),d.LFG(_e.K0))},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[P.vT,P.vT]}),$})();function Xe($){return class extends ${constructor(...ee){super(...ee),this._disabled=!1}get disabled(){return this._disabled}set disabled(ee){this._disabled=(0,Fe.Ig)(ee)}}}function mt($,ee){return class extends ${constructor(...se){super(...se),this.defaultColor=ee,this.color=ee}get color(){return this._color}set color(se){const Q=se||this.defaultColor;Q!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Q&&this._elementRef.nativeElement.classList.add(`mat-${Q}`),this._color=Q)}}}function vt($){return class extends ${constructor(...ee){super(...ee),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(ee){this._disableRipple=(0,Fe.Ig)(ee)}}}function nt($,ee=0){return class extends ${constructor(...se){super(...se),this._tabIndex=ee,this.defaultTabIndex=ee}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(se){this._tabIndex=null!=se?(0,Fe.su)(se):this.defaultTabIndex}}}let $t=(()=>{class ${}return $.\u0275fac=function(se){return new(se||$)},$.\u0275dir=d.lG2({type:$,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),$})();function An($,ee,se="mat"){$.changes.pipe((0,he.O)($)).subscribe(({length:Q})=>{Nn(ee,`${se}-2-line`,!1),Nn(ee,`${se}-3-line`,!1),Nn(ee,`${se}-multi-line`,!1),2===Q||3===Q?Nn(ee,`${se}-${Q}-line`,!0):Q>3&&Nn(ee,`${se}-multi-line`,!0)})}function Nn($,ee,se){$.nativeElement.classList.toggle(ee,se)}let Hn=(()=>{class ${}return $.\u0275fac=function(se){return new(se||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[_t,_t]}),$})();class xi{constructor(ee,se,Q,de=!1){this._renderer=ee,this.element=se,this.config=Q,this._animationForciblyDisabledThroughCss=de,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Gn={enterDuration:225,exitDuration:150},Ii=(0,Oe.i$)({passive:!0}),Wn=["mousedown","touchstart"],ii=["mouseup","mouseleave","touchend","touchcancel"];class zt{constructor(ee,se,Q,de){this._target=ee,this._ngZone=se,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,de.isBrowser&&(this._containerElement=(0,Fe.fI)(Q))}fadeInRipple(ee,se,Q={}){const de=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ve={...Gn,...Q.animation};Q.centered&&(ee=de.left+de.width/2,se=de.top+de.height/2);const J=Q.radius||function qn($,ee,se){const Q=Math.max(Math.abs($-se.left),Math.abs($-se.right)),de=Math.max(Math.abs(ee-se.top),Math.abs(ee-se.bottom));return Math.sqrt(Q*Q+de*de)}(ee,se,de),Ce=ee-de.left,Ie=se-de.top,Je=ve.enterDuration,it=document.createElement("div");it.classList.add("mat-ripple-element"),it.style.left=Ce-J+"px",it.style.top=Ie-J+"px",it.style.height=2*J+"px",it.style.width=2*J+"px",null!=Q.color&&(it.style.backgroundColor=Q.color),it.style.transitionDuration=`${Je}ms`,this._containerElement.appendChild(it);const nn=window.getComputedStyle(it),dn=nn.transitionDuration,at="none"===nn.transitionProperty||"0s"===dn||"0s, 0s"===dn,ke=new xi(this,it,Q,at);it.style.transform="scale3d(1, 1, 1)",ke.state=0,Q.persistent||(this._mostRecentTransientRipple=ke);let He=null;return!at&&(Je||ve.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Tt=()=>this._finishRippleTransition(ke),Ge=()=>this._destroyRipple(ke);it.addEventListener("transitionend",Tt),it.addEventListener("transitioncancel",Ge),He={onTransitionEnd:Tt,onTransitionCancel:Ge}}),this._activeRipples.set(ke,He),(at||!Je)&&this._finishRippleTransition(ke),ke}fadeOutRipple(ee){if(2===ee.state||3===ee.state)return;const se=ee.element,Q={...Gn,...ee.config.animation};se.style.transitionDuration=`${Q.exitDuration}ms`,se.style.opacity="0",ee.state=2,(ee._animationForciblyDisabledThroughCss||!Q.exitDuration)&&this._finishRippleTransition(ee)}fadeOutAll(){this._getActiveRipples().forEach(ee=>ee.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(ee=>{ee.config.persistent||ee.fadeOut()})}setupTriggerEvents(ee){const se=(0,Fe.fI)(ee);!se||se===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=se,this._registerEvents(Wn))}handleEvent(ee){"mousedown"===ee.type?this._onMousedown(ee):"touchstart"===ee.type?this._onTouchStart(ee):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(ii),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(ee){0===ee.state?this._startFadeOutTransition(ee):2===ee.state&&this._destroyRipple(ee)}_startFadeOutTransition(ee){const se=ee===this._mostRecentTransientRipple,{persistent:Q}=ee.config;ee.state=1,!Q&&(!se||!this._isPointerDown)&&ee.fadeOut()}_destroyRipple(ee){const se=this._activeRipples.get(ee)??null;this._activeRipples.delete(ee),this._activeRipples.size||(this._containerRect=null),ee===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),ee.state=3,null!==se&&(ee.element.removeEventListener("transitionend",se.onTransitionEnd),ee.element.removeEventListener("transitioncancel",se.onTransitionCancel)),ee.element.remove()}_onMousedown(ee){const se=(0,f.X6)(ee),Q=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!se&&!Q&&(this._isPointerDown=!0,this.fadeInRipple(ee.clientX,ee.clientY,this._target.rippleConfig))}_onTouchStart(ee){if(!this._target.rippleDisabled&&!(0,f.yG)(ee)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const se=ee.changedTouches;for(let Q=0;Q<se.length;Q++)this.fadeInRipple(se[Q].clientX,se[Q].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(ee=>{!ee.config.persistent&&(1===ee.state||ee.config.terminateOnPointerUp&&0===ee.state)&&ee.fadeOut()}))}_registerEvents(ee){this._ngZone.runOutsideAngular(()=>{ee.forEach(se=>{this._triggerElement.addEventListener(se,this,Ii)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Wn.forEach(ee=>{this._triggerElement.removeEventListener(ee,this,Ii)}),this._pointerUpEventsRegistered&&ii.forEach(ee=>{this._triggerElement.removeEventListener(ee,this,Ii)}))}}const ei=new d.OlP("mat-ripple-global-options");let en=(()=>{class ${constructor(se,Q,de,ve,J){this._elementRef=se,this._animationMode=J,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ve||{},this._rippleRenderer=new zt(this,Q,se,de)}get disabled(){return this._disabled}set disabled(se){se&&this.fadeOutAllNonPersistent(),this._disabled=se,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(se){this._trigger=se,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(se,Q=0,de){return"number"==typeof se?this._rippleRenderer.fadeInRipple(se,Q,{...this.rippleConfig,...de}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...se})}}return $.\u0275fac=function(se){return new(se||$)(d.Y36(d.SBq),d.Y36(d.R0b),d.Y36(Oe.t4),d.Y36(ei,8),d.Y36(d.QbO,8))},$.\u0275dir=d.lG2({type:$,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(se,Q){2&se&&d.ekj("mat-ripple-unbounded",Q.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),$})(),$n=(()=>{class ${}return $.\u0275fac=function(se){return new(se||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[_t,_t]}),$})(),ti=(()=>{class ${constructor(se){this._animationMode=se,this.state="unchecked",this.disabled=!1}}return $.\u0275fac=function(se){return new(se||$)(d.Y36(d.QbO,8))},$.\u0275cmp=d.Xpm({type:$,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(se,Q){2&se&&d.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Q.state)("mat-pseudo-checkbox-checked","checked"===Q.state)("mat-pseudo-checkbox-disabled",Q.disabled)("_mat-animation-noopable","NoopAnimations"===Q._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(se,Q){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),$})(),fi=(()=>{class ${}return $.\u0275fac=function(se){return new(se||$)},$.\u0275mod=d.oAB({type:$}),$.\u0275inj=d.cJS({imports:[_t]}),$})()},5004:(rn,et,T)=>{T.d(et,{uw:()=>te,Is:()=>oi});var d=T(2693),f=T(8605),P=T(6895),B=T(4650),_e=T(1281),Oe=T(3353),Fe=T(445),he=T(4080),Re=T(7579),q=T(727),ue=T(6451),ye=T(5698),tt=T(2722);const dt=(0,Oe.Mq)();class Ye{constructor(ie,Z){this._viewportRuler=ie,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=Z}attach(){}enable(){if(this._canBeEnabled()){const ie=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=ie.style.left||"",this._previousHTMLStyles.top=ie.style.top||"",ie.style.left=(0,_e.HM)(-this._previousScrollPosition.left),ie.style.top=(0,_e.HM)(-this._previousScrollPosition.top),ie.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const ie=this._document.documentElement,Ee=ie.style,K=this._document.body.style,De=Ee.scrollBehavior||"",Se=K.scrollBehavior||"";this._isEnabled=!1,Ee.left=this._previousHTMLStyles.left,Ee.top=this._previousHTMLStyles.top,ie.classList.remove("cdk-global-scrollblock"),dt&&(Ee.scrollBehavior=K.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dt&&(Ee.scrollBehavior=De,K.scrollBehavior=Se)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const Z=this._document.body,Ee=this._viewportRuler.getViewportSize();return Z.scrollHeight>Ee.height||Z.scrollWidth>Ee.width}}class pt{constructor(ie,Z,Ee,K){this._scrollDispatcher=ie,this._ngZone=Z,this._viewportRuler=Ee,this._config=K,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(ie){this._overlayRef=ie}enable(){if(this._scrollSubscription)return;const ie=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=ie.subscribe(()=>{const Z=this._viewportRuler.getViewportScrollPosition().top;Math.abs(Z-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=ie.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ze{enable(){}disable(){}attach(){}}function _t(rt,ie){return ie.some(Z=>rt.bottom<Z.top||rt.top>Z.bottom||rt.right<Z.left||rt.left>Z.right)}function yt(rt,ie){return ie.some(Z=>rt.top<Z.top||rt.bottom>Z.bottom||rt.left<Z.left||rt.right>Z.right)}class ot{constructor(ie,Z,Ee,K){this._scrollDispatcher=ie,this._viewportRuler=Z,this._ngZone=Ee,this._config=K,this._scrollSubscription=null}attach(ie){this._overlayRef=ie}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const Z=this._overlayRef.overlayElement.getBoundingClientRect(),{width:Ee,height:K}=this._viewportRuler.getViewportSize();_t(Z,[{width:Ee,height:K,bottom:K,right:Ee,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ue=(()=>{class rt{constructor(Z,Ee,K,De){this._scrollDispatcher=Z,this._viewportRuler=Ee,this._ngZone=K,this.noop=()=>new ze,this.close=Se=>new pt(this._scrollDispatcher,this._ngZone,this._viewportRuler,Se),this.block=()=>new Ye(this._viewportRuler,this._document),this.reposition=Se=>new ot(this._scrollDispatcher,this._viewportRuler,this._ngZone,Se),this._document=De}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(f.mF),B.LFG(f.rL),B.LFG(B.R0b),B.LFG(P.K0))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})();class Xe{constructor(ie){if(this.scrollStrategy=new ze,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,ie){const Z=Object.keys(ie);for(const Ee of Z)void 0!==ie[Ee]&&(this[Ee]=ie[Ee])}}}class nt{constructor(ie,Z){this.connectionPair=ie,this.scrollableViewProperties=Z}}let Qe=(()=>{class rt{constructor(Z){this._attachedOverlays=[],this._document=Z}ngOnDestroy(){this.detach()}add(Z){this.remove(Z),this._attachedOverlays.push(Z)}remove(Z){const Ee=this._attachedOverlays.indexOf(Z);Ee>-1&&this._attachedOverlays.splice(Ee,1),0===this._attachedOverlays.length&&this.detach()}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(P.K0))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),Ct=(()=>{class rt extends Qe{constructor(Z,Ee){super(Z),this._ngZone=Ee,this._keydownListener=K=>{const De=this._attachedOverlays;for(let Se=De.length-1;Se>-1;Se--)if(De[Se]._keydownEvents.observers.length>0){const st=De[Se]._keydownEvents;this._ngZone?this._ngZone.run(()=>st.next(K)):st.next(K);break}}}add(Z){super.add(Z),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(P.K0),B.LFG(B.R0b,8))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),Et=(()=>{class rt extends Qe{constructor(Z,Ee,K){super(Z),this._platform=Ee,this._ngZone=K,this._cursorStyleIsSet=!1,this._pointerDownListener=De=>{this._pointerDownEventTarget=(0,Oe.sA)(De)},this._clickListener=De=>{const Se=(0,Oe.sA)(De),st="click"===De.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:Se;this._pointerDownEventTarget=null;const Kt=this._attachedOverlays.slice();for(let pn=Kt.length-1;pn>-1;pn--){const xn=Kt[pn];if(xn._outsidePointerEvents.observers.length<1||!xn.hasAttached())continue;if(xn.overlayElement.contains(Se)||xn.overlayElement.contains(st))break;const Jn=xn._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>Jn.next(De)):Jn.next(De)}}}add(Z){if(super.add(Z),!this._isAttached){const Ee=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(Ee)):this._addEventListeners(Ee),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=Ee.style.cursor,Ee.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const Z=this._document.body;Z.removeEventListener("pointerdown",this._pointerDownListener,!0),Z.removeEventListener("click",this._clickListener,!0),Z.removeEventListener("auxclick",this._clickListener,!0),Z.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(Z.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(Z){Z.addEventListener("pointerdown",this._pointerDownListener,!0),Z.addEventListener("click",this._clickListener,!0),Z.addEventListener("auxclick",this._clickListener,!0),Z.addEventListener("contextmenu",this._clickListener,!0)}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(P.K0),B.LFG(Oe.t4),B.LFG(B.R0b,8))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),Pt=(()=>{class rt{constructor(Z,Ee){this._platform=Ee,this._document=Z}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Z="cdk-overlay-container";if(this._platform.isBrowser||(0,Oe.Oy)()){const K=this._document.querySelectorAll(`.${Z}[platform="server"], .${Z}[platform="test"]`);for(let De=0;De<K.length;De++)K[De].remove()}const Ee=this._document.createElement("div");Ee.classList.add(Z),(0,Oe.Oy)()?Ee.setAttribute("platform","test"):this._platform.isBrowser||Ee.setAttribute("platform","server"),this._document.body.appendChild(Ee),this._containerElement=Ee}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(P.K0),B.LFG(Oe.t4))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})();class En{constructor(ie,Z,Ee,K,De,Se,st,Kt,pn,xn=!1){this._portalOutlet=ie,this._host=Z,this._pane=Ee,this._config=K,this._ngZone=De,this._keyboardDispatcher=Se,this._document=st,this._location=Kt,this._outsideClickDispatcher=pn,this._animationsDisabled=xn,this._backdropElement=null,this._backdropClick=new Re.x,this._attachments=new Re.x,this._detachments=new Re.x,this._locationChanges=q.w0.EMPTY,this._backdropClickHandler=Jn=>this._backdropClick.next(Jn),this._backdropTransitionendHandler=Jn=>{this._disposeBackdrop(Jn.target)},this._keydownEvents=new Re.x,this._outsidePointerEvents=new Re.x,K.scrollStrategy&&(this._scrollStrategy=K.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=K.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(ie){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const Z=this._portalOutlet.attach(ie);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,ye.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof Z?.onDestroy&&Z.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),Z}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const ie=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),ie}dispose(){const ie=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,ie&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(ie){ie!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=ie,this.hasAttached()&&(ie.attach(this),this.updatePosition()))}updateSize(ie){this._config={...this._config,...ie},this._updateElementSize()}setDirection(ie){this._config={...this._config,direction:ie},this._updateElementDirection()}addPanelClass(ie){this._pane&&this._toggleClasses(this._pane,ie,!0)}removePanelClass(ie){this._pane&&this._toggleClasses(this._pane,ie,!1)}getDirection(){const ie=this._config.direction;return ie?"string"==typeof ie?ie:ie.value:"ltr"}updateScrollStrategy(ie){ie!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=ie,this.hasAttached()&&(ie.attach(this),ie.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const ie=this._pane.style;ie.width=(0,_e.HM)(this._config.width),ie.height=(0,_e.HM)(this._config.height),ie.minWidth=(0,_e.HM)(this._config.minWidth),ie.minHeight=(0,_e.HM)(this._config.minHeight),ie.maxWidth=(0,_e.HM)(this._config.maxWidth),ie.maxHeight=(0,_e.HM)(this._config.maxHeight)}_togglePointerEvents(ie){this._pane.style.pointerEvents=ie?"":"none"}_attachBackdrop(){const ie="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(ie)})}):this._backdropElement.classList.add(ie)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const ie=this._backdropElement;if(ie){if(this._animationsDisabled)return void this._disposeBackdrop(ie);ie.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{ie.addEventListener("transitionend",this._backdropTransitionendHandler)}),ie.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(ie)},500))}}_toggleClasses(ie,Z,Ee){const K=(0,_e.Eq)(Z||[]).filter(De=>!!De);K.length&&(Ee?ie.classList.add(...K):ie.classList.remove(...K))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const ie=this._ngZone.onStable.pipe((0,tt.R)((0,ue.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),ie.unsubscribe())})})}_disposeScrollStrategy(){const ie=this._scrollStrategy;ie&&(ie.disable(),ie.detach&&ie.detach())}_disposeBackdrop(ie){ie&&(ie.removeEventListener("click",this._backdropClickHandler),ie.removeEventListener("transitionend",this._backdropTransitionendHandler),ie.remove(),this._backdropElement===ie&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const sn="cdk-overlay-connected-position-bounding-box",Rn=/([A-Za-z%]+)$/;class Jt{constructor(ie,Z,Ee,K,De){this._viewportRuler=Z,this._document=Ee,this._platform=K,this._overlayContainer=De,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Re.x,this._resizeSubscription=q.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(ie)}get positions(){return this._preferredPositions}attach(ie){this._validatePositions(),ie.hostElement.classList.add(sn),this._overlayRef=ie,this._boundingBox=ie.hostElement,this._pane=ie.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const ie=this._originRect,Z=this._overlayRect,Ee=this._viewportRect,K=this._containerRect,De=[];let Se;for(let st of this._preferredPositions){let Kt=this._getOriginPoint(ie,K,st),pn=this._getOverlayPoint(Kt,Z,st),xn=this._getOverlayFit(pn,Z,Ee,st);if(xn.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(st,Kt);this._canFitWithFlexibleDimensions(xn,pn,Ee)?De.push({position:st,origin:Kt,overlayRect:Z,boundingBoxRect:this._calculateBoundingBoxRect(Kt,st)}):(!Se||Se.overlayFit.visibleArea<xn.visibleArea)&&(Se={overlayFit:xn,overlayPoint:pn,originPoint:Kt,position:st,overlayRect:Z})}if(De.length){let st=null,Kt=-1;for(const pn of De){const xn=pn.boundingBoxRect.width*pn.boundingBoxRect.height*(pn.position.weight||1);xn>Kt&&(Kt=xn,st=pn)}return this._isPushed=!1,void this._applyPosition(st.position,st.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(Se.position,Se.originPoint);this._applyPosition(Se.position,Se.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&qe(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sn),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const ie=this._lastPosition;if(ie){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const Z=this._getOriginPoint(this._originRect,this._containerRect,ie);this._applyPosition(ie,Z)}else this.apply()}withScrollableContainers(ie){return this._scrollables=ie,this}withPositions(ie){return this._preferredPositions=ie,-1===ie.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(ie){return this._viewportMargin=ie,this}withFlexibleDimensions(ie=!0){return this._hasFlexibleDimensions=ie,this}withGrowAfterOpen(ie=!0){return this._growAfterOpen=ie,this}withPush(ie=!0){return this._canPush=ie,this}withLockedPosition(ie=!0){return this._positionLocked=ie,this}setOrigin(ie){return this._origin=ie,this}withDefaultOffsetX(ie){return this._offsetX=ie,this}withDefaultOffsetY(ie){return this._offsetY=ie,this}withTransformOriginOn(ie){return this._transformOriginSelector=ie,this}_getOriginPoint(ie,Z,Ee){let K,De;if("center"==Ee.originX)K=ie.left+ie.width/2;else{const Se=this._isRtl()?ie.right:ie.left,st=this._isRtl()?ie.left:ie.right;K="start"==Ee.originX?Se:st}return Z.left<0&&(K-=Z.left),De="center"==Ee.originY?ie.top+ie.height/2:"top"==Ee.originY?ie.top:ie.bottom,Z.top<0&&(De-=Z.top),{x:K,y:De}}_getOverlayPoint(ie,Z,Ee){let K,De;return K="center"==Ee.overlayX?-Z.width/2:"start"===Ee.overlayX?this._isRtl()?-Z.width:0:this._isRtl()?0:-Z.width,De="center"==Ee.overlayY?-Z.height/2:"top"==Ee.overlayY?0:-Z.height,{x:ie.x+K,y:ie.y+De}}_getOverlayFit(ie,Z,Ee,K){const De=Dt(Z);let{x:Se,y:st}=ie,Kt=this._getOffset(K,"x"),pn=this._getOffset(K,"y");Kt&&(Se+=Kt),pn&&(st+=pn);let mr=0-st,Xn=st+De.height-Ee.height,Dr=this._subtractOverflows(De.width,0-Se,Se+De.width-Ee.width),Ki=this._subtractOverflows(De.height,mr,Xn),Mr=Dr*Ki;return{visibleArea:Mr,isCompletelyWithinViewport:De.width*De.height===Mr,fitsInViewportVertically:Ki===De.height,fitsInViewportHorizontally:Dr==De.width}}_canFitWithFlexibleDimensions(ie,Z,Ee){if(this._hasFlexibleDimensions){const K=Ee.bottom-Z.y,De=Ee.right-Z.x,Se=Yt(this._overlayRef.getConfig().minHeight),st=Yt(this._overlayRef.getConfig().minWidth),pn=ie.fitsInViewportHorizontally||null!=st&&st<=De;return(ie.fitsInViewportVertically||null!=Se&&Se<=K)&&pn}return!1}_pushOverlayOnScreen(ie,Z,Ee){if(this._previousPushAmount&&this._positionLocked)return{x:ie.x+this._previousPushAmount.x,y:ie.y+this._previousPushAmount.y};const K=Dt(Z),De=this._viewportRect,Se=Math.max(ie.x+K.width-De.width,0),st=Math.max(ie.y+K.height-De.height,0),Kt=Math.max(De.top-Ee.top-ie.y,0),pn=Math.max(De.left-Ee.left-ie.x,0);let xn=0,Jn=0;return xn=K.width<=De.width?pn||-Se:ie.x<this._viewportMargin?De.left-Ee.left-ie.x:0,Jn=K.height<=De.height?Kt||-st:ie.y<this._viewportMargin?De.top-Ee.top-ie.y:0,this._previousPushAmount={x:xn,y:Jn},{x:ie.x+xn,y:ie.y+Jn}}_applyPosition(ie,Z){if(this._setTransformOrigin(ie),this._setOverlayElementStyles(Z,ie),this._setBoundingBoxStyles(Z,ie),ie.panelClass&&this._addPanelClasses(ie.panelClass),this._lastPosition=ie,this._positionChanges.observers.length){const Ee=this._getScrollVisibility(),K=new nt(ie,Ee);this._positionChanges.next(K)}this._isInitialRender=!1}_setTransformOrigin(ie){if(!this._transformOriginSelector)return;const Z=this._boundingBox.querySelectorAll(this._transformOriginSelector);let Ee,K=ie.overlayY;Ee="center"===ie.overlayX?"center":this._isRtl()?"start"===ie.overlayX?"right":"left":"start"===ie.overlayX?"left":"right";for(let De=0;De<Z.length;De++)Z[De].style.transformOrigin=`${Ee} ${K}`}_calculateBoundingBoxRect(ie,Z){const Ee=this._viewportRect,K=this._isRtl();let De,Se,st,xn,Jn,mr;if("top"===Z.overlayY)Se=ie.y,De=Ee.height-Se+this._viewportMargin;else if("bottom"===Z.overlayY)st=Ee.height-ie.y+2*this._viewportMargin,De=Ee.height-st+this._viewportMargin;else{const Xn=Math.min(Ee.bottom-ie.y+Ee.top,ie.y),Dr=this._lastBoundingBoxSize.height;De=2*Xn,Se=ie.y-Xn,De>Dr&&!this._isInitialRender&&!this._growAfterOpen&&(Se=ie.y-Dr/2)}if("end"===Z.overlayX&&!K||"start"===Z.overlayX&&K)mr=Ee.width-ie.x+this._viewportMargin,xn=ie.x-this._viewportMargin;else if("start"===Z.overlayX&&!K||"end"===Z.overlayX&&K)Jn=ie.x,xn=Ee.right-ie.x;else{const Xn=Math.min(Ee.right-ie.x+Ee.left,ie.x),Dr=this._lastBoundingBoxSize.width;xn=2*Xn,Jn=ie.x-Xn,xn>Dr&&!this._isInitialRender&&!this._growAfterOpen&&(Jn=ie.x-Dr/2)}return{top:Se,left:Jn,bottom:st,right:mr,width:xn,height:De}}_setBoundingBoxStyles(ie,Z){const Ee=this._calculateBoundingBoxRect(ie,Z);!this._isInitialRender&&!this._growAfterOpen&&(Ee.height=Math.min(Ee.height,this._lastBoundingBoxSize.height),Ee.width=Math.min(Ee.width,this._lastBoundingBoxSize.width));const K={};if(this._hasExactPosition())K.top=K.left="0",K.bottom=K.right=K.maxHeight=K.maxWidth="",K.width=K.height="100%";else{const De=this._overlayRef.getConfig().maxHeight,Se=this._overlayRef.getConfig().maxWidth;K.height=(0,_e.HM)(Ee.height),K.top=(0,_e.HM)(Ee.top),K.bottom=(0,_e.HM)(Ee.bottom),K.width=(0,_e.HM)(Ee.width),K.left=(0,_e.HM)(Ee.left),K.right=(0,_e.HM)(Ee.right),K.alignItems="center"===Z.overlayX?"center":"end"===Z.overlayX?"flex-end":"flex-start",K.justifyContent="center"===Z.overlayY?"center":"bottom"===Z.overlayY?"flex-end":"flex-start",De&&(K.maxHeight=(0,_e.HM)(De)),Se&&(K.maxWidth=(0,_e.HM)(Se))}this._lastBoundingBoxSize=Ee,qe(this._boundingBox.style,K)}_resetBoundingBoxStyles(){qe(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){qe(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(ie,Z){const Ee={},K=this._hasExactPosition(),De=this._hasFlexibleDimensions,Se=this._overlayRef.getConfig();if(K){const xn=this._viewportRuler.getViewportScrollPosition();qe(Ee,this._getExactOverlayY(Z,ie,xn)),qe(Ee,this._getExactOverlayX(Z,ie,xn))}else Ee.position="static";let st="",Kt=this._getOffset(Z,"x"),pn=this._getOffset(Z,"y");Kt&&(st+=`translateX(${Kt}px) `),pn&&(st+=`translateY(${pn}px)`),Ee.transform=st.trim(),Se.maxHeight&&(K?Ee.maxHeight=(0,_e.HM)(Se.maxHeight):De&&(Ee.maxHeight="")),Se.maxWidth&&(K?Ee.maxWidth=(0,_e.HM)(Se.maxWidth):De&&(Ee.maxWidth="")),qe(this._pane.style,Ee)}_getExactOverlayY(ie,Z,Ee){let K={top:"",bottom:""},De=this._getOverlayPoint(Z,this._overlayRect,ie);return this._isPushed&&(De=this._pushOverlayOnScreen(De,this._overlayRect,Ee)),"bottom"===ie.overlayY?K.bottom=this._document.documentElement.clientHeight-(De.y+this._overlayRect.height)+"px":K.top=(0,_e.HM)(De.y),K}_getExactOverlayX(ie,Z,Ee){let Se,K={left:"",right:""},De=this._getOverlayPoint(Z,this._overlayRect,ie);return this._isPushed&&(De=this._pushOverlayOnScreen(De,this._overlayRect,Ee)),Se=this._isRtl()?"end"===ie.overlayX?"left":"right":"end"===ie.overlayX?"right":"left","right"===Se?K.right=this._document.documentElement.clientWidth-(De.x+this._overlayRect.width)+"px":K.left=(0,_e.HM)(De.x),K}_getScrollVisibility(){const ie=this._getOriginRect(),Z=this._pane.getBoundingClientRect(),Ee=this._scrollables.map(K=>K.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:yt(ie,Ee),isOriginOutsideView:_t(ie,Ee),isOverlayClipped:yt(Z,Ee),isOverlayOutsideView:_t(Z,Ee)}}_subtractOverflows(ie,...Z){return Z.reduce((Ee,K)=>Ee-Math.max(K,0),ie)}_getNarrowedViewportRect(){const ie=this._document.documentElement.clientWidth,Z=this._document.documentElement.clientHeight,Ee=this._viewportRuler.getViewportScrollPosition();return{top:Ee.top+this._viewportMargin,left:Ee.left+this._viewportMargin,right:Ee.left+ie-this._viewportMargin,bottom:Ee.top+Z-this._viewportMargin,width:ie-2*this._viewportMargin,height:Z-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(ie,Z){return"x"===Z?ie.offsetX??this._offsetX:ie.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(ie){this._pane&&(0,_e.Eq)(ie).forEach(Z=>{""!==Z&&-1===this._appliedPanelClasses.indexOf(Z)&&(this._appliedPanelClasses.push(Z),this._pane.classList.add(Z))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(ie=>{this._pane.classList.remove(ie)}),this._appliedPanelClasses=[])}_getOriginRect(){const ie=this._origin;if(ie instanceof B.SBq)return ie.nativeElement.getBoundingClientRect();if(ie instanceof Element)return ie.getBoundingClientRect();const Z=ie.width||0,Ee=ie.height||0;return{top:ie.y,bottom:ie.y+Ee,left:ie.x,right:ie.x+Z,height:Ee,width:Z}}}function qe(rt,ie){for(let Z in ie)ie.hasOwnProperty(Z)&&(rt[Z]=ie[Z]);return rt}function Yt(rt){if("number"!=typeof rt&&null!=rt){const[ie,Z]=rt.split(Rn);return Z&&"px"!==Z?null:parseFloat(ie)}return rt||null}function Dt(rt){return{top:Math.floor(rt.top),right:Math.floor(rt.right),bottom:Math.floor(rt.bottom),left:Math.floor(rt.left),width:Math.floor(rt.width),height:Math.floor(rt.height)}}const An="cdk-global-overlay-wrapper";class Nn{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(ie){const Z=ie.getConfig();this._overlayRef=ie,this._width&&!Z.width&&ie.updateSize({width:this._width}),this._height&&!Z.height&&ie.updateSize({height:this._height}),ie.hostElement.classList.add(An),this._isDisposed=!1}top(ie=""){return this._bottomOffset="",this._topOffset=ie,this._alignItems="flex-start",this}left(ie=""){return this._xOffset=ie,this._xPosition="left",this}bottom(ie=""){return this._topOffset="",this._bottomOffset=ie,this._alignItems="flex-end",this}right(ie=""){return this._xOffset=ie,this._xPosition="right",this}start(ie=""){return this._xOffset=ie,this._xPosition="start",this}end(ie=""){return this._xOffset=ie,this._xPosition="end",this}width(ie=""){return this._overlayRef?this._overlayRef.updateSize({width:ie}):this._width=ie,this}height(ie=""){return this._overlayRef?this._overlayRef.updateSize({height:ie}):this._height=ie,this}centerHorizontally(ie=""){return this.left(ie),this._xPosition="center",this}centerVertically(ie=""){return this.top(ie),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const ie=this._overlayRef.overlayElement.style,Z=this._overlayRef.hostElement.style,Ee=this._overlayRef.getConfig(),{width:K,height:De,maxWidth:Se,maxHeight:st}=Ee,Kt=!("100%"!==K&&"100vw"!==K||Se&&"100%"!==Se&&"100vw"!==Se),pn=!("100%"!==De&&"100vh"!==De||st&&"100%"!==st&&"100vh"!==st),xn=this._xPosition,Jn=this._xOffset,mr="rtl"===this._overlayRef.getConfig().direction;let Xn="",Dr="",Ki="";Kt?Ki="flex-start":"center"===xn?(Ki="center",mr?Dr=Jn:Xn=Jn):mr?"left"===xn||"end"===xn?(Ki="flex-end",Xn=Jn):("right"===xn||"start"===xn)&&(Ki="flex-start",Dr=Jn):"left"===xn||"start"===xn?(Ki="flex-start",Xn=Jn):("right"===xn||"end"===xn)&&(Ki="flex-end",Dr=Jn),ie.position=this._cssPosition,ie.marginLeft=Kt?"0":Xn,ie.marginTop=pn?"0":this._topOffset,ie.marginBottom=this._bottomOffset,ie.marginRight=Kt?"0":Dr,Z.justifyContent=Ki,Z.alignItems=pn?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const ie=this._overlayRef.overlayElement.style,Z=this._overlayRef.hostElement,Ee=Z.style;Z.classList.remove(An),Ee.justifyContent=Ee.alignItems=ie.marginTop=ie.marginBottom=ie.marginLeft=ie.marginRight=ie.position="",this._overlayRef=null,this._isDisposed=!0}}let Hn=(()=>{class rt{constructor(Z,Ee,K,De){this._viewportRuler=Z,this._document=Ee,this._platform=K,this._overlayContainer=De}global(){return new Nn}flexibleConnectedTo(Z){return new Jt(Z,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(f.rL),B.LFG(P.K0),B.LFG(Oe.t4),B.LFG(Pt))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt})(),xi=0,Gn=(()=>{class rt{constructor(Z,Ee,K,De,Se,st,Kt,pn,xn,Jn,mr,Xn){this.scrollStrategies=Z,this._overlayContainer=Ee,this._componentFactoryResolver=K,this._positionBuilder=De,this._keyboardDispatcher=Se,this._injector=st,this._ngZone=Kt,this._document=pn,this._directionality=xn,this._location=Jn,this._outsideClickDispatcher=mr,this._animationsModuleType=Xn}create(Z){const Ee=this._createHostElement(),K=this._createPaneElement(Ee),De=this._createPortalOutlet(K),Se=new Xe(Z);return Se.direction=Se.direction||this._directionality.value,new En(De,Ee,K,Se,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(Z){const Ee=this._document.createElement("div");return Ee.id="cdk-overlay-"+xi++,Ee.classList.add("cdk-overlay-pane"),Z.appendChild(Ee),Ee}_createHostElement(){const Z=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(Z),Z}_createPortalOutlet(Z){return this._appRef||(this._appRef=this._injector.get(B.z2F)),new he.u0(Z,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(Ue),B.LFG(Pt),B.LFG(B._Vd),B.LFG(Hn),B.LFG(Ct),B.LFG(B.zs3),B.LFG(B.R0b),B.LFG(P.K0),B.LFG(Fe.Is),B.LFG(P.Ye),B.LFG(Et),B.LFG(B.QbO,8))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac}),rt})();const qn={provide:new B.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Gn],useFactory:function zt(rt){return()=>rt.scrollStrategies.reposition()}};let ei=(()=>{class rt{}return rt.\u0275fac=function(Z){return new(Z||rt)},rt.\u0275mod=B.oAB({type:rt}),rt.\u0275inj=B.cJS({providers:[Gn,qn],imports:[Fe.vT,he.eL,f.Cl,f.Cl]}),rt})();var $n=T(9521),ti=T(9770),fi=T(9646),Pi=T(8675);function zi(rt,ie){}class Fn{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Qt=(()=>{class rt extends he.en{constructor(Z,Ee,K,De,Se,st,Kt,pn){super(),this._elementRef=Z,this._focusTrapFactory=Ee,this._config=De,this._interactivityChecker=Se,this._ngZone=st,this._overlayRef=Kt,this._focusMonitor=pn,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=xn=>{this._portalOutlet.hasAttached();const Jn=this._portalOutlet.attachDomPortal(xn);return this._contentAttached(),Jn},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=K}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(Z){this._portalOutlet.hasAttached();const Ee=this._portalOutlet.attachComponentPortal(Z);return this._contentAttached(),Ee}attachTemplatePortal(Z){this._portalOutlet.hasAttached();const Ee=this._portalOutlet.attachTemplatePortal(Z);return this._contentAttached(),Ee}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Z,Ee){this._interactivityChecker.isFocusable(Z)||(Z.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const K=()=>{Z.removeEventListener("blur",K),Z.removeEventListener("mousedown",K),Z.removeAttribute("tabindex")};Z.addEventListener("blur",K),Z.addEventListener("mousedown",K)})),Z.focus(Ee)}_focusByCssSelector(Z,Ee){let K=this._elementRef.nativeElement.querySelector(Z);K&&this._forceFocus(K,Ee)}_trapFocus(){const Z=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Z.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(Ee=>{Ee||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Z=this._config.restoreFocus;let Ee=null;if("string"==typeof Z?Ee=this._document.querySelector(Z):"boolean"==typeof Z?Ee=Z?this._elementFocusedBeforeDialogWasOpened:null:Z&&(Ee=Z),this._config.restoreFocus&&Ee&&"function"==typeof Ee.focus){const K=(0,Oe.ht)(),De=this._elementRef.nativeElement;(!K||K===this._document.body||K===De||De.contains(K))&&(this._focusMonitor?(this._focusMonitor.focusVia(Ee,this._closeInteractionType),this._closeInteractionType=null):Ee.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Z=this._elementRef.nativeElement,Ee=(0,Oe.ht)();return Z===Ee||Z.contains(Ee)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,Oe.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.Y36(B.SBq),B.Y36(d.qV),B.Y36(P.K0,8),B.Y36(Fn),B.Y36(d.ic),B.Y36(B.R0b),B.Y36(En),B.Y36(d.tE))},rt.\u0275cmp=B.Xpm({type:rt,selectors:[["cdk-dialog-container"]],viewQuery:function(Z,Ee){if(1&Z&&B.Gf(he.Pl,7),2&Z){let K;B.iGM(K=B.CRH())&&(Ee._portalOutlet=K.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(Z,Ee){2&Z&&B.uIk("id",Ee._config.id||null)("role",Ee._config.role)("aria-modal",Ee._config.ariaModal)("aria-labelledby",Ee._config.ariaLabel?null:Ee._ariaLabelledBy)("aria-label",Ee._config.ariaLabel)("aria-describedby",Ee._config.ariaDescribedBy||null)},features:[B.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Z,Ee){1&Z&&B.YNc(0,zi,0,0,"ng-template",0)},dependencies:[he.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),rt})();class gt{constructor(ie,Z){this.overlayRef=ie,this.config=Z,this.closed=new Re.x,this.disableClose=Z.disableClose,this.backdropClick=ie.backdropClick(),this.keydownEvents=ie.keydownEvents(),this.outsidePointerEvents=ie.outsidePointerEvents(),this.id=Z.id,this.keydownEvents.subscribe(Ee=>{Ee.keyCode===$n.hY&&!this.disableClose&&!(0,$n.Vb)(Ee)&&(Ee.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(ie,Z){if(this.containerInstance){const Ee=this.closed;this.containerInstance._closeInteractionType=Z?.focusOrigin||"program",this.overlayRef.dispose(),Ee.next(ie),Ee.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(ie="",Z=""){return this.overlayRef.updateSize({width:ie,height:Z}),this}addPanelClass(ie){return this.overlayRef.addPanelClass(ie),this}removePanelClass(ie){return this.overlayRef.removePanelClass(ie),this}}const Te=new B.OlP("DialogScrollStrategy"),wt=new B.OlP("DialogData"),Lt=new B.OlP("DefaultDialogConfig"),Cn={provide:Te,deps:[Gn],useFactory:function qt(rt){return()=>rt.scrollStrategies.block()}};let je=0,It=(()=>{class rt{constructor(Z,Ee,K,De,Se,st){this._overlay=Z,this._injector=Ee,this._defaultOptions=K,this._parentDialog=De,this._overlayContainer=Se,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Re.x,this._afterOpenedAtThisLevel=new Re.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,ti.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Pi.O)(void 0))),this._scrollStrategy=st}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(Z,Ee){(Ee={...this._defaultOptions||new Fn,...Ee}).id=Ee.id||"cdk-dialog-"+je++,Ee.id&&this.getDialogById(Ee.id);const De=this._getOverlayConfig(Ee),Se=this._overlay.create(De),st=new gt(Se,Ee),Kt=this._attachContainer(Se,st,Ee);return st.containerInstance=Kt,this._attachDialogContent(Z,st,Kt,Ee),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(st),st.closed.subscribe(()=>this._removeOpenDialog(st,!0)),this.afterOpened.next(st),st}closeAll(){$(this.openDialogs,Z=>Z.close())}getDialogById(Z){return this.openDialogs.find(Ee=>Ee.id===Z)}ngOnDestroy(){$(this._openDialogsAtThisLevel,Z=>{!1===Z.config.closeOnDestroy&&this._removeOpenDialog(Z,!1)}),$(this._openDialogsAtThisLevel,Z=>Z.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(Z){const Ee=new Xe({positionStrategy:Z.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:Z.scrollStrategy||this._scrollStrategy(),panelClass:Z.panelClass,hasBackdrop:Z.hasBackdrop,direction:Z.direction,minWidth:Z.minWidth,minHeight:Z.minHeight,maxWidth:Z.maxWidth,maxHeight:Z.maxHeight,width:Z.width,height:Z.height,disposeOnNavigation:Z.closeOnNavigation});return Z.backdropClass&&(Ee.backdropClass=Z.backdropClass),Ee}_attachContainer(Z,Ee,K){const De=K.injector||K.viewContainerRef?.injector,Se=[{provide:Fn,useValue:K},{provide:gt,useValue:Ee},{provide:En,useValue:Z}];let st;K.container?"function"==typeof K.container?st=K.container:(st=K.container.type,Se.push(...K.container.providers(K))):st=Qt;const Kt=new he.C5(st,K.viewContainerRef,B.zs3.create({parent:De||this._injector,providers:Se}),K.componentFactoryResolver);return Z.attach(Kt).instance}_attachDialogContent(Z,Ee,K,De){if(Z instanceof B.Rgc){const Se=this._createInjector(De,Ee,K,void 0);let st={$implicit:De.data,dialogRef:Ee};De.templateContext&&(st={...st,..."function"==typeof De.templateContext?De.templateContext():De.templateContext}),K.attachTemplatePortal(new he.UE(Z,null,st,Se))}else{const Se=this._createInjector(De,Ee,K,this._injector),st=K.attachComponentPortal(new he.C5(Z,De.viewContainerRef,Se,De.componentFactoryResolver));Ee.componentInstance=st.instance}}_createInjector(Z,Ee,K,De){const Se=Z.injector||Z.viewContainerRef?.injector,st=[{provide:wt,useValue:Z.data},{provide:gt,useValue:Ee}];return Z.providers&&("function"==typeof Z.providers?st.push(...Z.providers(Ee,Z,K)):st.push(...Z.providers)),Z.direction&&(!Se||!Se.get(Fe.Is,null,B.XFs.Optional))&&st.push({provide:Fe.Is,useValue:{value:Z.direction,change:(0,fi.of)()}}),B.zs3.create({parent:Se||De,providers:st})}_removeOpenDialog(Z,Ee){const K=this.openDialogs.indexOf(Z);K>-1&&(this.openDialogs.splice(K,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((De,Se)=>{De?Se.setAttribute("aria-hidden",De):Se.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),Ee&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Z=this._overlayContainer.getContainerElement();if(Z.parentElement){const Ee=Z.parentElement.children;for(let K=Ee.length-1;K>-1;K--){const De=Ee[K];De!==Z&&"SCRIPT"!==De.nodeName&&"STYLE"!==De.nodeName&&!De.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(De,De.getAttribute("aria-hidden")),De.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const Z=this._parentDialog;return Z?Z._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(Gn),B.LFG(B.zs3),B.LFG(Lt,8),B.LFG(rt,12),B.LFG(Pt),B.LFG(Te))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac}),rt})();function $(rt,ie){let Z=rt.length;for(;Z--;)ie(rt[Z])}let ee=(()=>{class rt{}return rt.\u0275fac=function(Z){return new(Z||rt)},rt.\u0275mod=B.oAB({type:rt}),rt.\u0275inj=B.cJS({providers:[It,Cn],imports:[ei,he.eL,d.rt,he.eL]}),rt})();var se=T(3238),Q=T(9300),de=T(7340);function ve(rt,ie){}const J={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},Ce={dialogContainer:(0,de.X$)("dialogContainer",[(0,de.SB)("void, exit",(0,de.oB)({opacity:0,transform:"scale(0.7)"})),(0,de.SB)("enter",(0,de.oB)({transform:"none"})),(0,de.eR)("* => enter",(0,de.ru)([(0,de.jt)("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",(0,de.oB)({transform:"none",opacity:1})),(0,de.IO)("@*",(0,de.pV)(),{optional:!0})]),J),(0,de.eR)("* => void, * => exit",(0,de.ru)([(0,de.jt)("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",(0,de.oB)({opacity:0})),(0,de.IO)("@*",(0,de.pV)(),{optional:!0})]),J)])};class Ie{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=J.params.enterAnimationDuration,this.exitAnimationDuration=J.params.exitAnimationDuration}}let Je=(()=>{class rt extends Qt{constructor(Z,Ee,K,De,Se,st,Kt,pn){super(Z,Ee,K,De,Se,st,Kt,pn),this._animationStateChanged=new B.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(Z){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:Z})}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.Y36(B.SBq),B.Y36(d.qV),B.Y36(P.K0,8),B.Y36(Ie),B.Y36(d.ic),B.Y36(B.R0b),B.Y36(En),B.Y36(d.tE))},rt.\u0275cmp=B.Xpm({type:rt,selectors:[["ng-component"]],features:[B.qOj],decls:0,vars:0,template:function(Z,Ee){},encapsulation:2}),rt})(),it=(()=>{class rt extends Je{constructor(Z,Ee,K,De,Se,st,Kt,pn,xn){super(Z,Ee,K,De,Se,st,Kt,xn),this._changeDetectorRef=pn,this._state="enter"}_onAnimationDone({toState:Z,totalTime:Ee}){"enter"===Z?this._openAnimationDone(Ee):"exit"===Z&&this._animationStateChanged.next({state:"closed",totalTime:Ee})}_onAnimationStart({toState:Z,totalTime:Ee}){"enter"===Z?this._animationStateChanged.next({state:"opening",totalTime:Ee}):("exit"===Z||"void"===Z)&&this._animationStateChanged.next({state:"closing",totalTime:Ee})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||J.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||J.params.exitAnimationDuration}}}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.Y36(B.SBq),B.Y36(d.qV),B.Y36(P.K0,8),B.Y36(Ie),B.Y36(d.ic),B.Y36(B.R0b),B.Y36(En),B.Y36(B.sBO),B.Y36(d.tE))},rt.\u0275cmp=B.Xpm({type:rt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(Z,Ee){1&Z&&B.WFA("@dialogContainer.start",function(De){return Ee._onAnimationStart(De)})("@dialogContainer.done",function(De){return Ee._onAnimationDone(De)}),2&Z&&(B.Ikx("id",Ee._config.id),B.uIk("aria-modal",Ee._config.ariaModal)("role",Ee._config.role)("aria-labelledby",Ee._config.ariaLabel?null:Ee._ariaLabelledBy)("aria-label",Ee._config.ariaLabel)("aria-describedby",Ee._config.ariaDescribedBy||null),B.d8E("@dialogContainer",Ee._getAnimationState()))},features:[B.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Z,Ee){1&Z&&B.YNc(0,ve,0,0,"ng-template",0)},dependencies:[he.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[Ce.dialogContainer]}}),rt})();class nn{constructor(ie,Z,Ee){this._ref=ie,this._containerInstance=Ee,this._afterOpened=new Re.x,this._beforeClosed=new Re.x,this._state=0,this.disableClose=Z.disableClose,this.id=ie.id,Ee._animationStateChanged.pipe((0,Q.h)(K=>"opened"===K.state),(0,ye.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Ee._animationStateChanged.pipe((0,Q.h)(K=>"closed"===K.state),(0,ye.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),ie.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ue.T)(this.backdropClick(),this.keydownEvents().pipe((0,Q.h)(K=>K.keyCode===$n.hY&&!this.disableClose&&!(0,$n.Vb)(K)))).subscribe(K=>{this.disableClose||(K.preventDefault(),function fn(rt,ie,Z){rt._closeInteractionType=ie,rt.close(Z)}(this,"keydown"===K.type?"keyboard":"mouse"))})}close(ie){this._result=ie,this._containerInstance._animationStateChanged.pipe((0,Q.h)(Z=>"closing"===Z.state),(0,ye.q)(1)).subscribe(Z=>{this._beforeClosed.next(ie),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Z.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(ie){let Z=this._ref.config.positionStrategy;return ie&&(ie.left||ie.right)?ie.left?Z.left(ie.left):Z.right(ie.right):Z.centerHorizontally(),ie&&(ie.top||ie.bottom)?ie.top?Z.top(ie.top):Z.bottom(ie.bottom):Z.centerVertically(),this._ref.updatePosition(),this}updateSize(ie="",Z=""){return this._ref.updateSize(ie,Z),this}addPanelClass(ie){return this._ref.addPanelClass(ie),this}removePanelClass(ie){return this._ref.removePanelClass(ie),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const dn=new B.OlP("MatDialogData"),at=new B.OlP("mat-dialog-default-options"),ke=new B.OlP("mat-dialog-scroll-strategy"),Ge={provide:ke,deps:[Gn],useFactory:function Tt(rt){return()=>rt.scrollStrategies.block()}};let Le=0,be=(()=>{class rt{constructor(Z,Ee,K,De,Se,st,Kt,pn,xn,Jn){this._overlay=Z,this._defaultOptions=K,this._parentDialog=De,this._dialogRefConstructor=Kt,this._dialogContainerType=pn,this._dialogDataToken=xn,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Re.x,this._afterOpenedAtThisLevel=new Re.x,this._idPrefix="mat-dialog-",this.afterAllClosed=(0,ti.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Pi.O)(void 0))),this._scrollStrategy=st,this._dialog=Ee.get(It)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Z=this._parentDialog;return Z?Z._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Z,Ee){let K;(Ee={...this._defaultOptions||new Ie,...Ee}).id=Ee.id||`${this._idPrefix}${Le++}`,Ee.scrollStrategy=Ee.scrollStrategy||this._scrollStrategy();const De=this._dialog.open(Z,{...Ee,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Ie,useValue:Ee},{provide:Fn,useValue:Ee}]},templateContext:()=>({dialogRef:K}),providers:(Se,st,Kt)=>(K=new this._dialogRefConstructor(Se,Ee,Kt),K.updatePosition(Ee?.position),[{provide:this._dialogContainerType,useValue:Kt},{provide:this._dialogDataToken,useValue:st.data},{provide:this._dialogRefConstructor,useValue:K}])});return K.componentInstance=De.componentInstance,this.openDialogs.push(K),this.afterOpened.next(K),K.afterClosed().subscribe(()=>{const Se=this.openDialogs.indexOf(K);Se>-1&&(this.openDialogs.splice(Se,1),this.openDialogs.length||this._getAfterAllClosed().next())}),K}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Z){return this.openDialogs.find(Ee=>Ee.id===Z)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(Z){let Ee=Z.length;for(;Ee--;)Z[Ee].close()}}return rt.\u0275fac=function(Z){B.$Z()},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),te=(()=>{class rt extends be{constructor(Z,Ee,K,De,Se,st,Kt,pn){super(Z,Ee,De,st,Kt,Se,nn,it,dn,pn)}}return rt.\u0275fac=function(Z){return new(Z||rt)(B.LFG(Gn),B.LFG(B.zs3),B.LFG(P.Ye,8),B.LFG(at,8),B.LFG(ke),B.LFG(rt,12),B.LFG(Pt),B.LFG(B.QbO,8))},rt.\u0275prov=B.Yz7({token:rt,factory:rt.\u0275fac}),rt})(),oi=(()=>{class rt{}return rt.\u0275fac=function(Z){return new(Z||rt)},rt.\u0275mod=B.oAB({type:rt}),rt.\u0275inj=B.cJS({providers:[te,Ge],imports:[ee,ei,he.eL,se.BQ,se.BQ]}),rt})()},1481:(rn,et,T)=>{T.d(et,{Dx:()=>yi,H7:()=>Tt,b2:()=>ti,q6:()=>qn,se:()=>Et});var d=T(6895),f=T(4650);class P extends d.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class B extends P{static makeCurrent(){(0,d.HT)(new B)}onAndCancel(oe,ae,Be){return oe.addEventListener(ae,Be,!1),()=>{oe.removeEventListener(ae,Be,!1)}}dispatchEvent(oe,ae){oe.dispatchEvent(ae)}remove(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}createElement(oe,ae){return(ae=ae||this.getDefaultDocument()).createElement(oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(oe){return oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(oe){return oe instanceof DocumentFragment}getGlobalEventTarget(oe,ae){return"window"===ae?window:"document"===ae?oe:"body"===ae?oe.body:null}getBaseHref(oe){const ae=function Oe(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==ae?null:function he(te){Fe=Fe||document.createElement("a"),Fe.setAttribute("href",te);const oe=Fe.pathname;return"/"===oe.charAt(0)?oe:`/${oe}`}(ae)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(oe){return(0,d.Mx)(document.cookie,oe)}}let Fe,_e=null;const Re=new f.OlP("TRANSITION_ID"),ue=[{provide:f.ip1,useFactory:function q(te,oe,ae){return()=>{ae.get(f.CZH).donePromise.then(()=>{const Be=(0,d.q)(),lt=oe.querySelectorAll(`style[ng-transition="${te}"]`);for(let hn=0;hn<lt.length;hn++)Be.remove(lt[hn])})}},deps:[Re,d.K0,f.zs3],multi:!0}];let tt=(()=>{class te{build(){return new XMLHttpRequest}}return te.\u0275fac=function(ae){return new(ae||te)},te.\u0275prov=f.Yz7({token:te,factory:te.\u0275fac}),te})();const dt=new f.OlP("EventManagerPlugins");let Ye=(()=>{class te{constructor(ae,Be){this._zone=Be,this._eventNameToPlugin=new Map,ae.forEach(lt=>lt.manager=this),this._plugins=ae.slice().reverse()}addEventListener(ae,Be,lt){return this._findPluginFor(Be).addEventListener(ae,Be,lt)}addGlobalEventListener(ae,Be,lt){return this._findPluginFor(Be).addGlobalEventListener(ae,Be,lt)}getZone(){return this._zone}_findPluginFor(ae){const Be=this._eventNameToPlugin.get(ae);if(Be)return Be;const lt=this._plugins;for(let hn=0;hn<lt.length;hn++){const Sn=lt[hn];if(Sn.supports(ae))return this._eventNameToPlugin.set(ae,Sn),Sn}throw new Error(`No event manager plugin found for event ${ae}`)}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(dt),f.LFG(f.R0b))},te.\u0275prov=f.Yz7({token:te,factory:te.\u0275fac}),te})();class Ft{constructor(oe){this._doc=oe}addGlobalEventListener(oe,ae,Be){const lt=(0,d.q)().getGlobalEventTarget(this._doc,oe);if(!lt)throw new Error(`Unsupported event target ${lt} for event ${ae}`);return this.addEventListener(lt,ae,Be)}}let pt=(()=>{class te{constructor(){this._stylesSet=new Set}addStyles(ae){const Be=new Set;ae.forEach(lt=>{this._stylesSet.has(lt)||(this._stylesSet.add(lt),Be.add(lt))}),this.onStylesAdded(Be)}onStylesAdded(ae){}getAllStyles(){return Array.from(this._stylesSet)}}return te.\u0275fac=function(ae){return new(ae||te)},te.\u0275prov=f.Yz7({token:te,factory:te.\u0275fac}),te})(),ze=(()=>{class te extends pt{constructor(ae){super(),this._doc=ae,this._hostNodes=new Map,this._hostNodes.set(ae.head,[])}_addStylesToHost(ae,Be,lt){ae.forEach(hn=>{const Sn=this._doc.createElement("style");Sn.textContent=hn,lt.push(Be.appendChild(Sn))})}addHost(ae){const Be=[];this._addStylesToHost(this._stylesSet,ae,Be),this._hostNodes.set(ae,Be)}removeHost(ae){const Be=this._hostNodes.get(ae);Be&&Be.forEach(_t),this._hostNodes.delete(ae)}onStylesAdded(ae){this._hostNodes.forEach((Be,lt)=>{this._addStylesToHost(ae,lt,Be)})}ngOnDestroy(){this._hostNodes.forEach(ae=>ae.forEach(_t))}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(d.K0))},te.\u0275prov=f.Yz7({token:te,factory:te.\u0275fac}),te})();function _t(te){(0,d.q)().remove(te)}const yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ot=/%COMP%/g;function Ze(te,oe,ae){for(let Be=0;Be<oe.length;Be++){let lt=oe[Be];Array.isArray(lt)?Ze(te,lt,ae):(lt=lt.replace(ot,te),ae.push(lt))}return ae}function Qe(te){return oe=>{if("__ngUnwrap__"===oe)return te;!1===te(oe)&&(oe.preventDefault(),oe.returnValue=!1)}}let Et=(()=>{class te{constructor(ae,Be,lt){this.eventManager=ae,this.sharedStylesHost=Be,this.appId=lt,this.rendererByCompId=new Map,this.defaultRenderer=new Pt(ae)}createRenderer(ae,Be){if(!ae||!Be)return this.defaultRenderer;switch(Be.encapsulation){case f.ifc.Emulated:{let lt=this.rendererByCompId.get(Be.id);return lt||(lt=new Jt(this.eventManager,this.sharedStylesHost,Be,this.appId),this.rendererByCompId.set(Be.id,lt)),lt.applyToHost(ae),lt}case 1:case f.ifc.ShadowDom:return new qe(this.eventManager,this.sharedStylesHost,ae,Be);default:if(!this.rendererByCompId.has(Be.id)){const lt=Ze(Be.id,Be.styles,[]);this.sharedStylesHost.addStyles(lt),this.rendererByCompId.set(Be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(Ye),f.LFG(ze),f.LFG(f.AFp))},te.\u0275prov=f.Yz7({token:te,factory:te.\u0275fac}),te})();class Pt{constructor(oe){this.eventManager=oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(oe,ae){return ae?document.createElementNS(yt[ae]||ae,oe):document.createElement(oe)}createComment(oe){return document.createComment(oe)}createText(oe){return document.createTextNode(oe)}appendChild(oe,ae){(Rn(oe)?oe.content:oe).appendChild(ae)}insertBefore(oe,ae,Be){oe&&(Rn(oe)?oe.content:oe).insertBefore(ae,Be)}removeChild(oe,ae){oe&&oe.removeChild(ae)}selectRootElement(oe,ae){let Be="string"==typeof oe?document.querySelector(oe):oe;if(!Be)throw new Error(`The selector "${oe}" did not match any elements`);return ae||(Be.textContent=""),Be}parentNode(oe){return oe.parentNode}nextSibling(oe){return oe.nextSibling}setAttribute(oe,ae,Be,lt){if(lt){ae=lt+":"+ae;const hn=yt[lt];hn?oe.setAttributeNS(hn,ae,Be):oe.setAttribute(ae,Be)}else oe.setAttribute(ae,Be)}removeAttribute(oe,ae,Be){if(Be){const lt=yt[Be];lt?oe.removeAttributeNS(lt,ae):oe.removeAttribute(`${Be}:${ae}`)}else oe.removeAttribute(ae)}addClass(oe,ae){oe.classList.add(ae)}removeClass(oe,ae){oe.classList.remove(ae)}setStyle(oe,ae,Be,lt){lt&(f.JOm.DashCase|f.JOm.Important)?oe.style.setProperty(ae,Be,lt&f.JOm.Important?"important":""):oe.style[ae]=Be}removeStyle(oe,ae,Be){Be&f.JOm.DashCase?oe.style.removeProperty(ae):oe.style[ae]=""}setProperty(oe,ae,Be){oe[ae]=Be}setValue(oe,ae){oe.nodeValue=ae}listen(oe,ae,Be){return"string"==typeof oe?this.eventManager.addGlobalEventListener(oe,ae,Qe(Be)):this.eventManager.addEventListener(oe,ae,Qe(Be))}}function Rn(te){return"TEMPLATE"===te.tagName&&void 0!==te.content}class Jt extends Pt{constructor(oe,ae,Be,lt){super(oe),this.component=Be;const hn=Ze(lt+"-"+Be.id,Be.styles,[]);ae.addStyles(hn),this.contentAttr=function nt(te){return"_ngcontent-%COMP%".replace(ot,te)}(lt+"-"+Be.id),this.hostAttr=function Ae(te){return"_nghost-%COMP%".replace(ot,te)}(lt+"-"+Be.id)}applyToHost(oe){super.setAttribute(oe,this.hostAttr,"")}createElement(oe,ae){const Be=super.createElement(oe,ae);return super.setAttribute(Be,this.contentAttr,""),Be}}class qe extends Pt{constructor(oe,ae,Be,lt){super(oe),this.sharedStylesHost=ae,this.hostEl=Be,this.shadowRoot=Be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const hn=Ze(lt.id,lt.styles,[]);for(let Sn=0;Sn<hn.length;Sn++){const oi=document.createElement("style");oi.textContent=hn[Sn],this.shadowRoot.appendChild(oi)}}nodeOrShadowRoot(oe){return oe===this.hostEl?this.shadowRoot:oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(oe,ae){return super.appendChild(this.nodeOrShadowRoot(oe),ae)}insertBefore(oe,ae,Be){return super.insertBefore(this.nodeOrShadowRoot(oe),ae,Be)}removeChild(oe,ae){return super.removeChild(this.nodeOrShadowRoot(oe),ae)}parentNode(oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(oe)))}}let Yt=(()=>{class te extends Ft{constructor(ae){super(ae)}supports(ae){return!0}addEventListener(ae,Be,lt){return ae.addEventListener(Be,lt,!1),()=>this.removeEventListener(ae,Be,lt)}removeEventListener(ae,Be,lt){return ae.removeEventListener(Be,lt)}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(d.K0))},te.\u0275prov=f.Yz7({token:te,factory:te.\u0275fac}),te})();const Dt=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$t={alt:te=>te.altKey,control:te=>te.ctrlKey,meta:te=>te.metaKey,shift:te=>te.shiftKey};let An=(()=>{class te extends Ft{constructor(ae){super(ae)}supports(ae){return null!=te.parseEventName(ae)}addEventListener(ae,Be,lt){const hn=te.parseEventName(Be),Sn=te.eventCallback(hn.fullKey,lt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.q)().onAndCancel(ae,hn.domEventName,Sn))}static parseEventName(ae){const Be=ae.toLowerCase().split("."),lt=Be.shift();if(0===Be.length||"keydown"!==lt&&"keyup"!==lt)return null;const hn=te._normalizeKey(Be.pop());let Sn="",oi=Be.indexOf("code");if(oi>-1&&(Be.splice(oi,1),Sn="code."),Dt.forEach(ie=>{const Z=Be.indexOf(ie);Z>-1&&(Be.splice(Z,1),Sn+=ie+".")}),Sn+=hn,0!=Be.length||0===hn.length)return null;const rt={};return rt.domEventName=lt,rt.fullKey=Sn,rt}static matchEventFullKeyCode(ae,Be){let lt=jt[ae.key]||ae.key,hn="";return Be.indexOf("code.")>-1&&(lt=ae.code,hn="code."),!(null==lt||!lt)&&(lt=lt.toLowerCase()," "===lt?lt="space":"."===lt&&(lt="dot"),Dt.forEach(Sn=>{Sn!==lt&&(0,$t[Sn])(ae)&&(hn+=Sn+".")}),hn+=lt,hn===Be)}static eventCallback(ae,Be,lt){return hn=>{te.matchEventFullKeyCode(hn,ae)&&lt.runGuarded(()=>Be(hn))}}static _normalizeKey(ae){return"esc"===ae?"escape":ae}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(d.K0))},te.\u0275prov=f.Yz7({token:te,factory:te.\u0275fac}),te})();const qn=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:d.bD},{provide:f.g9A,useValue:function Ii(){B.makeCurrent()},multi:!0},{provide:d.K0,useFactory:function ii(){return(0,f.RDi)(document),document},deps:[]}]),ei=new f.OlP(""),en=[{provide:f.rWj,useClass:class ye{addToWindow(oe){f.dqk.getAngularTestability=(Be,lt=!0)=>{const hn=oe.findTestabilityInTree(Be,lt);if(null==hn)throw new Error("Could not find testability for element.");return hn},f.dqk.getAllAngularTestabilities=()=>oe.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>oe.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(Be=>{const lt=f.dqk.getAllAngularTestabilities();let hn=lt.length,Sn=!1;const oi=function(rt){Sn=Sn||rt,hn--,0==hn&&Be(Sn)};lt.forEach(function(rt){rt.whenStable(oi)})})}findTestabilityInTree(oe,ae,Be){return null==ae?null:oe.getTestability(ae)??(Be?(0,d.q)().isShadowRoot(ae)?this.findTestabilityInTree(oe,ae.host,!0):this.findTestabilityInTree(oe,ae.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],$n=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Wn(){return new f.qLn},deps:[]},{provide:dt,useClass:Yt,multi:!0,deps:[d.K0,f.R0b,f.Lbi]},{provide:dt,useClass:An,multi:!0,deps:[d.K0]},{provide:Et,useClass:Et,deps:[Ye,ze,f.AFp]},{provide:f.FYo,useExisting:Et},{provide:pt,useExisting:ze},{provide:ze,useClass:ze,deps:[d.K0]},{provide:Ye,useClass:Ye,deps:[dt,f.R0b]},{provide:d.JF,useClass:tt,deps:[]},[]];let ti=(()=>{class te{constructor(ae){}static withServerTransition(ae){return{ngModule:te,providers:[{provide:f.AFp,useValue:ae.appId},{provide:Re,useExisting:f.AFp},ue]}}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(ei,12))},te.\u0275mod=f.oAB({type:te}),te.\u0275inj=f.cJS({providers:[...$n,...en],imports:[d.ez,f.hGG]}),te})(),yi=(()=>{class te{constructor(ae){this._doc=ae}getTitle(){return this._doc.title}setTitle(ae){this._doc.title=ae||""}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(d.K0))},te.\u0275prov=f.Yz7({token:te,factory:function(ae){let Be=null;return Be=ae?new ae:function Fn(){return new yi((0,f.LFG)(d.K0))}(),Be},providedIn:"root"}),te})();typeof window<"u"&&window;let Tt=(()=>{class te{}return te.\u0275fac=function(ae){return new(ae||te)},te.\u0275prov=f.Yz7({token:te,factory:function(ae){let Be=null;return Be=ae?new(ae||te):f.LFG(Le),Be},providedIn:"root"}),te})(),Le=(()=>{class te extends Tt{constructor(ae){super(),this._doc=ae}sanitize(ae,Be){if(null==Be)return null;switch(ae){case f.q3G.NONE:return Be;case f.q3G.HTML:return(0,f.qzn)(Be,"HTML")?(0,f.z3N)(Be):(0,f.EiD)(this._doc,String(Be)).toString();case f.q3G.STYLE:return(0,f.qzn)(Be,"Style")?(0,f.z3N)(Be):Be;case f.q3G.SCRIPT:if((0,f.qzn)(Be,"Script"))return(0,f.z3N)(Be);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.qzn)(Be,"URL")?(0,f.z3N)(Be):(0,f.mCW)(String(Be));case f.q3G.RESOURCE_URL:if((0,f.qzn)(Be,"ResourceURL"))return(0,f.z3N)(Be);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ae} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ae){return(0,f.JVY)(ae)}bypassSecurityTrustStyle(ae){return(0,f.L6k)(ae)}bypassSecurityTrustScript(ae){return(0,f.eBb)(ae)}bypassSecurityTrustUrl(ae){return(0,f.LAX)(ae)}bypassSecurityTrustResourceUrl(ae){return(0,f.pB0)(ae)}}return te.\u0275fac=function(ae){return new(ae||te)(f.LFG(d.K0))},te.\u0275prov=f.Yz7({token:te,factory:function(ae){let Be=null;return Be=ae?new ae:function Ge(te){return new Le(te.get(d.K0))}(f.LFG(f.zs3)),Be},providedIn:"root"}),te})()},7799:(rn,et,T)=>{T.d(et,{F0:()=>Bn,rH:()=>Ci,yS:()=>Vn,Bz:()=>Vr,lC:()=>ds});var d=T(4650),f=T(8996),P=T(9646),B=T(1135),_e=T(6805),Oe=T(9841),Fe=T(7272),he=T(9770),Re=T(9635),q=T(2843),ue=T(9751),ye=T(515),tt=T(727),dt=T(4482),Ye=T(5403);function Ft(){return(0,dt.e)((D,I)=>{let E=null;D._refCount++;const k=new Ye.Q(I,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(E=null);const j=D._connection,ce=E;E=null,j&&(!ce||j===ce)&&j.unsubscribe(),I.unsubscribe()});D.subscribe(k),k.closed||(E=D.connect())})}class pt extends ue.y{constructor(I,E){super(),this.source=I,this.subjectFactory=E,this._subject=null,this._refCount=0,this._connection=null,(0,dt.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new tt.w0;const E=this.getSubject();I.add(this.source.subscribe(new Ye.Q(E,void 0,()=>{this._teardown(),E.complete()},k=>{this._teardown(),E.error(k)},()=>this._teardown()))),I.closed&&(this._connection=null,I=tt.w0.EMPTY)}return I}refCount(){return Ft()(this)}}var ze=T(7579),_t=T(6895),yt=T(4004),ot=T(3900),Ue=T(5698),Xe=T(8675),mt=T(9300),vt=T(5577),nt=T(590),Ae=T(4351),Ze=T(8505),Qe=T(262),Ct=T(5026);function Et(D){return D<=0?()=>ye.E:(0,dt.e)((I,E)=>{let k=[];I.subscribe(new Ye.Q(E,j=>{k.push(j),D<k.length&&k.shift()},()=>{for(const j of k)E.next(j);E.complete()},void 0,()=>{k=null}))})}var Pt=T(8068),En=T(6590),sn=T(4671);function Rn(D,I){const E=arguments.length>=2;return k=>k.pipe(D?(0,mt.h)((j,ce)=>D(j,ce,k)):sn.y,Et(1),E?(0,En.d)(I):(0,Pt.T)(()=>new _e.K))}var qe=T(9718),Yt=T(8746),Dt=T(8189),jt=T(1481);const $t="primary",An=Symbol("RouteTitle");class Nn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const E=this.params[I];return Array.isArray(E)?E[0]:E}return null}getAll(I){if(this.has(I)){const E=this.params[I];return Array.isArray(E)?E:[E]}return[]}get keys(){return Object.keys(this.params)}}function Hn(D){return new Nn(D)}function xi(D,I,E){const k=E.path.split("/");if(k.length>D.length||"full"===E.pathMatch&&(I.hasChildren()||k.length<D.length))return null;const j={};for(let ce=0;ce<k.length;ce++){const Ne=k[ce],Pe=D[ce];if(Ne.startsWith(":"))j[Ne.substring(1)]=Pe;else if(Ne!==Pe.path)return null}return{consumed:D.slice(0,k.length),posParams:j}}function jn(D,I){const E=D?Object.keys(D):void 0,k=I?Object.keys(I):void 0;if(!E||!k||E.length!=k.length)return!1;let j;for(let ce=0;ce<E.length;ce++)if(j=E[ce],!Ii(D[j],I[j]))return!1;return!0}function Ii(D,I){if(Array.isArray(D)&&Array.isArray(I)){if(D.length!==I.length)return!1;const E=[...D].sort(),k=[...I].sort();return E.every((j,ce)=>k[ce]===j)}return D===I}function Wn(D){return Array.prototype.concat.apply([],D)}function ii(D){return D.length>0?D[D.length-1]:null}function qn(D,I){for(const E in D)D.hasOwnProperty(E)&&I(D[E],E)}function ei(D){return(0,d.CqO)(D)?D:(0,d.QGY)(D)?(0,f.D)(Promise.resolve(D)):(0,P.of)(D)}const ti={exact:function Fn(D,I,E){if(!je(D.segments,I.segments)||!Te(D.segments,I.segments,E)||D.numberOfChildren!==I.numberOfChildren)return!1;for(const k in I.children)if(!D.children[k]||!Fn(D.children[k],I.children[k],E))return!1;return!0},subset:Qt},fi={exact:function zi(D,I){return jn(D,I)},subset:function yi(D,I){return Object.keys(I).length<=Object.keys(D).length&&Object.keys(I).every(E=>Ii(D[E],I[E]))},ignored:()=>!0};function Pi(D,I,E){return ti[E.paths](D.root,I.root,E.matrixParams)&&fi[E.queryParams](D.queryParams,I.queryParams)&&!("exact"===E.fragment&&D.fragment!==I.fragment)}function Qt(D,I,E){return gt(D,I,I.segments,E)}function gt(D,I,E,k){if(D.segments.length>E.length){const j=D.segments.slice(0,E.length);return!(!je(j,E)||I.hasChildren()||!Te(j,E,k))}if(D.segments.length===E.length){if(!je(D.segments,E)||!Te(D.segments,E,k))return!1;for(const j in I.children)if(!D.children[j]||!Qt(D.children[j],I.children[j],k))return!1;return!0}{const j=E.slice(0,D.segments.length),ce=E.slice(D.segments.length);return!!(je(D.segments,j)&&Te(D.segments,j,k)&&D.children[$t])&&gt(D.children[$t],I,ce,k)}}function Te(D,I,E){return I.every((k,j)=>fi[E](D[j].parameters,k.parameters))}class wt{constructor(I,E,k){this.root=I,this.queryParams=E,this.fragment=k}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return se.serialize(this)}}class Lt{constructor(I,E){this.segments=I,this.children=E,this.parent=null,qn(E,(k,j)=>k.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Q(this)}}class qt{constructor(I,E){this.path=I,this.parameters=E}get parameterMap(){return this._parameterMap||(this._parameterMap=Hn(this.parameters)),this._parameterMap}toString(){return nn(this)}}function je(D,I){return D.length===I.length&&D.every((E,k)=>E.path===I[k].path)}let $=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=d.Yz7({token:D,factory:function(){return new ee},providedIn:"root"}),D})();class ee{parse(I){const E=new be(I);return new wt(E.parseRootSegment(),E.parseQueryParams(),E.parseFragment())}serialize(I){const E=`/${de(I.root,!0)}`,k=function dn(D){const I=Object.keys(D).map(E=>{const k=D[E];return Array.isArray(k)?k.map(j=>`${J(E)}=${J(j)}`).join("&"):`${J(E)}=${J(k)}`}).filter(E=>!!E);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${E}${k}${"string"==typeof I.fragment?`#${function Ce(D){return encodeURI(D)}(I.fragment)}`:""}`}}const se=new ee;function Q(D){return D.segments.map(I=>nn(I)).join("/")}function de(D,I){if(!D.hasChildren())return Q(D);if(I){const E=D.children[$t]?de(D.children[$t],!1):"",k=[];return qn(D.children,(j,ce)=>{ce!==$t&&k.push(`${ce}:${de(j,!1)}`)}),k.length>0?`${E}(${k.join("//")})`:E}{const E=function It(D,I){let E=[];return qn(D.children,(k,j)=>{j===$t&&(E=E.concat(I(k,j)))}),qn(D.children,(k,j)=>{j!==$t&&(E=E.concat(I(k,j)))}),E}(D,(k,j)=>j===$t?[de(D.children[$t],!1)]:[`${j}:${de(k,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[$t]?`${Q(D)}/${E[0]}`:`${Q(D)}/(${E.join("//")})`}}function ve(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function J(D){return ve(D).replace(/%3B/gi,";")}function Ie(D){return ve(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(D){return decodeURIComponent(D)}function it(D){return Je(D.replace(/\+/g,"%20"))}function nn(D){return`${Ie(D.path)}${function fn(D){return Object.keys(D).map(I=>`;${Ie(I)}=${Ie(D[I])}`).join("")}(D.parameters)}`}const at=/^[^\/()?;=#]+/;function ke(D){const I=D.match(at);return I?I[0]:""}const He=/^[^=?&#]+/,Ge=/^[^&#]+/;class be{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let E={};this.peekStartsWith("/(")&&(this.capture("/"),E=this.parseParens(!0));let k={};return this.peekStartsWith("(")&&(k=this.parseParens(!1)),(I.length>0||Object.keys(E).length>0)&&(k[$t]=new Lt(I,E)),k}parseSegment(){const I=ke(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new d.vHH(4009,!1);return this.capture(I),new qt(Je(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const E=ke(this.remaining);if(!E)return;this.capture(E);let k="";if(this.consumeOptional("=")){const j=ke(this.remaining);j&&(k=j,this.capture(k))}I[Je(E)]=Je(k)}parseQueryParam(I){const E=function Tt(D){const I=D.match(He);return I?I[0]:""}(this.remaining);if(!E)return;this.capture(E);let k="";if(this.consumeOptional("=")){const Ne=function Le(D){const I=D.match(Ge);return I?I[0]:""}(this.remaining);Ne&&(k=Ne,this.capture(k))}const j=it(E),ce=it(k);if(I.hasOwnProperty(j)){let Ne=I[j];Array.isArray(Ne)||(Ne=[Ne],I[j]=Ne),Ne.push(ce)}else I[j]=ce}parseParens(I){const E={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const k=ke(this.remaining),j=this.remaining[k.length];if("/"!==j&&")"!==j&&";"!==j)throw new d.vHH(4010,!1);let ce;k.indexOf(":")>-1?(ce=k.slice(0,k.indexOf(":")),this.capture(ce),this.capture(":")):I&&(ce=$t);const Ne=this.parseChildren();E[ce]=1===Object.keys(Ne).length?Ne[$t]:new Lt([],Ne),this.consumeOptional("//")}return E}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new d.vHH(4011,!1)}}function te(D){return D.segments.length>0?new Lt([],{[$t]:D}):D}function oe(D){const I={};for(const k of Object.keys(D.children)){const ce=oe(D.children[k]);(ce.segments.length>0||ce.hasChildren())&&(I[k]=ce)}return function ae(D){if(1===D.numberOfChildren&&D.children[$t]){const I=D.children[$t];return new Lt(D.segments.concat(I.segments),I.children)}return D}(new Lt(D.segments,I))}function Be(D){return D instanceof wt}function rt(D,I,E,k,j){if(0===E.length)return Ee(I.root,I.root,I.root,k,j);const ce=function Se(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new De(!0,0,D);let I=0,E=!1;const k=D.reduce((j,ce,Ne)=>{if("object"==typeof ce&&null!=ce){if(ce.outlets){const Pe={};return qn(ce.outlets,(Ut,mn)=>{Pe[mn]="string"==typeof Ut?Ut.split("/"):Ut}),[...j,{outlets:Pe}]}if(ce.segmentPath)return[...j,ce.segmentPath]}return"string"!=typeof ce?[...j,ce]:0===Ne?(ce.split("/").forEach((Pe,Ut)=>{0==Ut&&"."===Pe||(0==Ut&&""===Pe?E=!0:".."===Pe?I++:""!=Pe&&j.push(Pe))}),j):[...j,ce]},[]);return new De(E,I,k)}(E);return ce.toRoot()?Ee(I.root,I.root,new Lt([],{}),k,j):function Ne(Ut){const mn=function pn(D,I,E,k){if(D.isAbsolute)return new st(I.root,!0,0);if(-1===k)return new st(E,E===I.root,0);return function xn(D,I,E){let k=D,j=I,ce=E;for(;ce>j;){if(ce-=j,k=k.parent,!k)throw new d.vHH(4005,!1);j=k.segments.length}return new st(k,!1,j-ce)}(E,k+(ie(D.commands[0])?0:1),D.numberOfDoubleDots)}(ce,I,D.snapshot?._urlSegment,Ut),Kn=mn.processChildren?Xn(mn.segmentGroup,mn.index,ce.commands):mr(mn.segmentGroup,mn.index,ce.commands);return Ee(I.root,mn.segmentGroup,Kn,k,j)}(D.snapshot?._lastPathIndex)}function ie(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Z(D){return"object"==typeof D&&null!=D&&D.outlets}function Ee(D,I,E,k,j){let Ne,ce={};k&&qn(k,(Ut,mn)=>{ce[mn]=Array.isArray(Ut)?Ut.map(Kn=>`${Kn}`):`${Ut}`}),Ne=D===I?E:K(D,I,E);const Pe=te(oe(Ne));return new wt(Pe,ce,j)}function K(D,I,E){const k={};return qn(D.children,(j,ce)=>{k[ce]=j===I?E:K(j,I,E)}),new Lt(D.segments,k)}class De{constructor(I,E,k){if(this.isAbsolute=I,this.numberOfDoubleDots=E,this.commands=k,I&&k.length>0&&ie(k[0]))throw new d.vHH(4003,!1);const j=k.find(Z);if(j&&j!==ii(k))throw new d.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class st{constructor(I,E,k){this.segmentGroup=I,this.processChildren=E,this.index=k}}function mr(D,I,E){if(D||(D=new Lt([],{})),0===D.segments.length&&D.hasChildren())return Xn(D,I,E);const k=function Dr(D,I,E){let k=0,j=I;const ce={match:!1,pathIndex:0,commandIndex:0};for(;j<D.segments.length;){if(k>=E.length)return ce;const Ne=D.segments[j],Pe=E[k];if(Z(Pe))break;const Ut=`${Pe}`,mn=k<E.length-1?E[k+1]:null;if(j>0&&void 0===Ut)break;if(Ut&&mn&&"object"==typeof mn&&void 0===mn.outlets){if(!qr(Ut,mn,Ne))return ce;k+=2}else{if(!qr(Ut,{},Ne))return ce;k++}j++}return{match:!0,pathIndex:j,commandIndex:k}}(D,I,E),j=E.slice(k.commandIndex);if(k.match&&k.pathIndex<D.segments.length){const ce=new Lt(D.segments.slice(0,k.pathIndex),{});return ce.children[$t]=new Lt(D.segments.slice(k.pathIndex),D.children),Xn(ce,0,j)}return k.match&&0===j.length?new Lt(D.segments,{}):k.match&&!D.hasChildren()?Ki(D,I,E):k.match?Xn(D,0,j):Ki(D,I,E)}function Xn(D,I,E){if(0===E.length)return new Lt(D.segments,{});{const k=function Jn(D){return Z(D[0])?D[0].outlets:{[$t]:D}}(E),j={};return qn(k,(ce,Ne)=>{"string"==typeof ce&&(ce=[ce]),null!==ce&&(j[Ne]=mr(D.children[Ne],I,ce))}),qn(D.children,(ce,Ne)=>{void 0===k[Ne]&&(j[Ne]=ce)}),new Lt(D.segments,j)}}function Ki(D,I,E){const k=D.segments.slice(0,I);let j=0;for(;j<E.length;){const ce=E[j];if(Z(ce)){const Ut=Mr(ce.outlets);return new Lt(k,Ut)}if(0===j&&ie(E[0])){k.push(new qt(D.segments[I].path,Fr(E[0]))),j++;continue}const Ne=Z(ce)?ce.outlets[$t]:`${ce}`,Pe=j<E.length-1?E[j+1]:null;Ne&&Pe&&ie(Pe)?(k.push(new qt(Ne,Fr(Pe))),j+=2):(k.push(new qt(Ne,{})),j++)}return new Lt(k,{})}function Mr(D){const I={};return qn(D,(E,k)=>{"string"==typeof E&&(E=[E]),null!==E&&(I[k]=Ki(new Lt([],{}),0,E))}),I}function Fr(D){const I={};return qn(D,(E,k)=>I[k]=`${E}`),I}function qr(D,I,E){return D==E.path&&jn(I,E.parameters)}class Ai{constructor(I,E){this.id=I,this.url=E}}class ns extends Ai{constructor(I,E,k="imperative",j=null){super(I,E),this.type=0,this.navigationTrigger=k,this.restoredState=j}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ti extends Ai{constructor(I,E,k){super(I,E),this.urlAfterRedirects=k,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cs extends Ai{constructor(I,E,k,j){super(I,E),this.reason=k,this.code=j,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class or extends Ai{constructor(I,E,k,j){super(I,E),this.error=k,this.target=j,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class is extends Ai{constructor(I,E,k,j){super(I,E),this.urlAfterRedirects=k,this.state=j,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Do extends Ai{constructor(I,E,k,j){super(I,E),this.urlAfterRedirects=k,this.state=j,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends Ai{constructor(I,E,k,j,ce){super(I,E),this.urlAfterRedirects=k,this.state=j,this.shouldActivate=ce,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xs extends Ai{constructor(I,E,k,j){super(I,E),this.urlAfterRedirects=k,this.state=j,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vi extends Ai{constructor(I,E,k,j){super(I,E),this.urlAfterRedirects=k,this.state=j,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class na{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gs{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uo{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Na{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(I,E,k){this.routerEvent=I,this.position=E,this.anchor=k,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class St{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const E=this.pathFromRoot(I);return E.length>1?E[E.length-2]:null}children(I){const E=Zt(I,this._root);return E?E.children.map(k=>k.value):[]}firstChild(I){const E=Zt(I,this._root);return E&&E.children.length>0?E.children[0].value:null}siblings(I){const E=yn(I,this._root);return E.length<2?[]:E[E.length-2].children.map(j=>j.value).filter(j=>j!==I)}pathFromRoot(I){return yn(I,this._root).map(E=>E.value)}}function Zt(D,I){if(D===I.value)return I;for(const E of I.children){const k=Zt(D,E);if(k)return k}return null}function yn(D,I){if(D===I.value)return[I];for(const E of I.children){const k=yn(D,E);if(k.length)return k.unshift(I),k}return[]}class Tn{constructor(I,E){this.value=I,this.children=E}toString(){return`TreeNode(${this.value})`}}function di(D){const I={};return D&&D.children.forEach(E=>I[E.value.outlet]=E),I}class _r extends St{constructor(I,E){super(I),this.snapshot=E,ks(this,I)}toString(){return this.snapshot.toString()}}function Fi(D,I){const E=function Xi(D,I){const Ne=new jr([],{},{},"",{},$t,I,null,D.root,-1,{});return new Qn("",new Tn(Ne,[]))}(D,I),k=new B.X([new qt("",{})]),j=new B.X({}),ce=new B.X({}),Ne=new B.X({}),Pe=new B.X(""),Ut=new ar(k,j,Ne,Pe,ce,$t,I,E.root);return Ut.snapshot=E.root,new _r(new Tn(Ut,[]),E)}class ar{constructor(I,E,k,j,ce,Ne,Pe,Ut){this.url=I,this.params=E,this.queryParams=k,this.fragment=j,this.data=ce,this.outlet=Ne,this.component=Pe,this.title=this.data?.pipe((0,yt.U)(mn=>mn[An]))??(0,P.of)(void 0),this._futureSnapshot=Ut}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,yt.U)(I=>Hn(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,yt.U)(I=>Hn(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zr(D,I="emptyOnly"){const E=D.pathFromRoot;let k=0;if("always"!==I)for(k=E.length-1;k>=1;){const j=E[k],ce=E[k-1];if(j.routeConfig&&""===j.routeConfig.path)k--;else{if(ce.component)break;k--}}return function Os(D){return D.reduce((I,E)=>({params:{...I.params,...E.params},data:{...I.data,...E.data},resolve:{...E.data,...I.resolve,...E.routeConfig?.data,...E._resolvedData}}),{params:{},data:{},resolve:{}})}(E.slice(k))}class jr{constructor(I,E,k,j,ce,Ne,Pe,Ut,mn,Kn,Mn,$i){this.url=I,this.params=E,this.queryParams=k,this.fragment=j,this.data=ce,this.outlet=Ne,this.component=Pe,this.title=this.data?.[An],this.routeConfig=Ut,this._urlSegment=mn,this._lastPathIndex=Kn,this._correctedLastPathIndex=$i??Kn,this._resolve=Mn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(k=>k.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qn extends St{constructor(I,E){super(E),this.url=I,ks(this,E)}toString(){return Js(this._root)}}function ks(D,I){I.value._routerState=D,I.children.forEach(E=>ks(D,E))}function Js(D){const I=D.children.length>0?` { ${D.children.map(Js).join(", ")} } `:"";return`${D.value}${I}`}function Hr(D){if(D.snapshot){const I=D.snapshot,E=D._futureSnapshot;D.snapshot=E,jn(I.queryParams,E.queryParams)||D.queryParams.next(E.queryParams),I.fragment!==E.fragment&&D.fragment.next(E.fragment),jn(I.params,E.params)||D.params.next(E.params),function Gn(D,I){if(D.length!==I.length)return!1;for(let E=0;E<D.length;++E)if(!jn(D[E],I[E]))return!1;return!0}(I.url,E.url)||D.url.next(E.url),jn(I.data,E.data)||D.data.next(E.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Io(D,I){const E=jn(D.params,I.params)&&function Cn(D,I){return je(D,I)&&D.every((E,k)=>jn(E.parameters,I[k].parameters))}(D.url,I.url);return E&&!(!D.parent!=!I.parent)&&(!D.parent||Io(D.parent,I.parent))}function Qr(D,I,E){if(E&&D.shouldReuseRoute(I.value,E.value.snapshot)){const k=E.value;k._futureSnapshot=I.value;const j=function xs(D,I,E){return I.children.map(k=>{for(const j of E.children)if(D.shouldReuseRoute(k.value,j.value.snapshot))return Qr(D,k,j);return Qr(D,k)})}(D,I,E);return new Tn(k,j)}{if(D.shouldAttach(I.value)){const ce=D.retrieve(I.value);if(null!==ce){const Ne=ce.route;return Ne.value._futureSnapshot=I.value,Ne.children=I.children.map(Pe=>Qr(D,Pe)),Ne}}const k=function $s(D){return new ar(new B.X(D.url),new B.X(D.params),new B.X(D.queryParams),new B.X(D.fragment),new B.X(D.data),D.outlet,D.component,D)}(I.value),j=I.children.map(ce=>Qr(D,ce));return new Tn(k,j)}}const Ps="ngNavigationCancelingError";function us(D,I){const{redirectTo:E,navigationBehaviorOptions:k}=Be(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,j=ia(!1,0,I);return j.url=E,j.navigationBehaviorOptions=k,j}function ia(D,I,E){const k=new Error("NavigationCancelingError: "+(D||""));return k[Ps]=!0,k.cancellationCode=I,E&&(k.url=E),k}function Li(D){return yr(D)&&Be(D.url)}function yr(D){return D&&D[Ps]}class rs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ds,this.attachRef=null}}let Ds=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(E,k){const j=this.getOrCreateContext(E);j.outlet=k,this.contexts.set(E,j)}onChildOutletDestroyed(E){const k=this.getContext(E);k&&(k.outlet=null,k.attachRef=null)}onOutletDeactivated(){const E=this.contexts;return this.contexts=new Map,E}onOutletReAttached(E){this.contexts=E}getOrCreateContext(E){let k=this.getContext(E);return k||(k=new rs,this.contexts.set(E,k)),k}getContext(E){return this.contexts.get(E)||null}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const zs=!1;let ds=(()=>{class D{constructor(E,k,j,ce,Ne){this.parentContexts=E,this.location=k,this.changeDetector=ce,this.environmentInjector=Ne,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=j||$t,E.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const E=this.parentContexts.getContext(this.name);E&&E.route&&(E.attachRef?this.attach(E.attachRef,E.route):this.activateWith(E.route,E.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,zs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,zs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,zs);this.location.detach();const E=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(E.instance),E}attach(E,k){this.activated=E,this._activatedRoute=k,this.location.insert(E.hostView),this.attachEvents.emit(E.instance)}deactivate(){if(this.activated){const E=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(E)}}activateWith(E,k){if(this.isActivated)throw new d.vHH(4013,zs);this._activatedRoute=E;const j=this.location,Ne=E._futureSnapshot.component,Pe=this.parentContexts.getOrCreateContext(this.name).children,Ut=new Ao(E,Pe,j.injector);if(k&&function ya(D){return!!D.resolveComponentFactory}(k)){const mn=k.resolveComponentFactory(Ne);this.activated=j.createComponent(mn,j.length,Ut)}else this.activated=j.createComponent(Ne,{index:j.length,injector:Ut,environmentInjector:k??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(E){return new(E||D)(d.Y36(Ds),d.Y36(d.s_b),d.$8M("name"),d.Y36(d.sBO),d.Y36(d.lqb))},D.\u0275dir=d.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),D})();class Ao{constructor(I,E,k){this.route=I,this.childContexts=E,this.parent=k}get(I,E){return I===ar?this.route:I===Ds?this.childContexts:this.parent.get(I,E)}}let ur=(()=>{class D{}return D.\u0275fac=function(E){return new(E||D)},D.\u0275cmp=d.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(E,k){1&E&&d._UZ(0,"router-outlet")},dependencies:[ds],encapsulation:2}),D})();function Ba(D,I){return D.providers&&!D._injector&&(D._injector=(0,d.MMx)(D.providers,I,`Route: ${D.path}`)),D._injector??I}function Gr(D){const I=D.children&&D.children.map(Gr),E=I?{...D,children:I}:{...D};return!E.component&&!E.loadComponent&&(I||E.loadChildren)&&E.outlet&&E.outlet!==$t&&(E.component=ur),E}function Rr(D){return D.outlet||$t}function ss(D,I){const E=D.filter(k=>Rr(k)===I);return E.push(...D.filter(k=>Rr(k)!==I)),E}function fo(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let I=D.parent;I;I=I.parent){const E=I.routeConfig;if(E?._loadedInjector)return E._loadedInjector;if(E?._injector)return E._injector}return null}class mi{constructor(I,E,k,j){this.routeReuseStrategy=I,this.futureState=E,this.currState=k,this.forwardEvent=j}activate(I){const E=this.futureState._root,k=this.currState?this.currState._root:null;this.deactivateChildRoutes(E,k,I),Hr(this.futureState.root),this.activateChildRoutes(E,k,I)}deactivateChildRoutes(I,E,k){const j=di(E);I.children.forEach(ce=>{const Ne=ce.value.outlet;this.deactivateRoutes(ce,j[Ne],k),delete j[Ne]}),qn(j,(ce,Ne)=>{this.deactivateRouteAndItsChildren(ce,k)})}deactivateRoutes(I,E,k){const j=I.value,ce=E?E.value:null;if(j===ce)if(j.component){const Ne=k.getContext(j.outlet);Ne&&this.deactivateChildRoutes(I,E,Ne.children)}else this.deactivateChildRoutes(I,E,k);else ce&&this.deactivateRouteAndItsChildren(E,k)}deactivateRouteAndItsChildren(I,E){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,E):this.deactivateRouteAndOutlet(I,E)}detachAndStoreRouteSubtree(I,E){const k=E.getContext(I.value.outlet),j=k&&I.value.component?k.children:E,ce=di(I);for(const Ne of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ne],j);if(k&&k.outlet){const Ne=k.outlet.detach(),Pe=k.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Ne,route:I,contexts:Pe})}}deactivateRouteAndOutlet(I,E){const k=E.getContext(I.value.outlet),j=k&&I.value.component?k.children:E,ce=di(I);for(const Ne of Object.keys(ce))this.deactivateRouteAndItsChildren(ce[Ne],j);k&&k.outlet&&(k.outlet.deactivate(),k.children.onOutletDeactivated(),k.attachRef=null,k.resolver=null,k.route=null)}activateChildRoutes(I,E,k){const j=di(E);I.children.forEach(ce=>{this.activateRoutes(ce,j[ce.value.outlet],k),this.forwardEvent(new cs(ce.value.snapshot))}),I.children.length&&this.forwardEvent(new uo(I.value.snapshot))}activateRoutes(I,E,k){const j=I.value,ce=E?E.value:null;if(Hr(j),j===ce)if(j.component){const Ne=k.getOrCreateContext(j.outlet);this.activateChildRoutes(I,E,Ne.children)}else this.activateChildRoutes(I,E,k);else if(j.component){const Ne=k.getOrCreateContext(j.outlet);if(this.routeReuseStrategy.shouldAttach(j.snapshot)){const Pe=this.routeReuseStrategy.retrieve(j.snapshot);this.routeReuseStrategy.store(j.snapshot,null),Ne.children.onOutletReAttached(Pe.contexts),Ne.attachRef=Pe.componentRef,Ne.route=Pe.route.value,Ne.outlet&&Ne.outlet.attach(Pe.componentRef,Pe.route.value),Hr(Pe.route.value),this.activateChildRoutes(I,null,Ne.children)}else{const Pe=fo(j.snapshot),Ut=Pe?.get(d._Vd)??null;Ne.attachRef=null,Ne.route=j,Ne.resolver=Ut,Ne.injector=Pe,Ne.outlet&&Ne.outlet.activateWith(j,Ne.injector),this.activateChildRoutes(I,null,Ne.children)}}else this.activateChildRoutes(I,null,k)}}class Fs{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class ra{constructor(I,E){this.component=I,this.route=E}}function po(D,I,E){const k=D._root;return $r(k,I?I._root:null,E,[k.value])}function Ls(D,I){const E=Symbol(),k=I.get(D,E);return k===E?"function"!=typeof D||(0,d.Z0I)(D)?I.get(D):D:k}function $r(D,I,E,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const ce=di(I);return D.children.forEach(Ne=>{(function fs(D,I,E,k,j={canDeactivateChecks:[],canActivateChecks:[]}){const ce=D.value,Ne=I?I.value:null,Pe=E?E.getContext(D.value.outlet):null;if(Ne&&ce.routeConfig===Ne.routeConfig){const Ut=function va(D,I,E){if("function"==typeof E)return E(D,I);switch(E){case"pathParamsChange":return!je(D.url,I.url);case"pathParamsOrQueryParamsChange":return!je(D.url,I.url)||!jn(D.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Io(D,I)||!jn(D.queryParams,I.queryParams);default:return!Io(D,I)}}(Ne,ce,ce.routeConfig.runGuardsAndResolvers);Ut?j.canActivateChecks.push(new Fs(k)):(ce.data=Ne.data,ce._resolvedData=Ne._resolvedData),$r(D,I,ce.component?Pe?Pe.children:null:E,k,j),Ut&&Pe&&Pe.outlet&&Pe.outlet.isActivated&&j.canDeactivateChecks.push(new ra(Pe.outlet.component,Ne))}else Ne&&tn(I,Pe,j),j.canActivateChecks.push(new Fs(k)),$r(D,null,ce.component?Pe?Pe.children:null:E,k,j)})(Ne,ce[Ne.value.outlet],E,k.concat([Ne.value]),j),delete ce[Ne.value.outlet]}),qn(ce,(Ne,Pe)=>tn(Ne,E.getContext(Pe),j)),j}function tn(D,I,E){const k=di(D),j=D.value;qn(k,(ce,Ne)=>{tn(ce,j.component?I?I.children.getContext(Ne):null:I,E)}),E.canDeactivateChecks.push(new ra(j.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,j))}function vi(D){return"function"==typeof D}function Zn(D){return D instanceof _e.K||"EmptyError"===D?.name}const lr=Symbol("INITIAL_VALUE");function os(){return(0,ot.w)(D=>(0,Oe.a)(D.map(I=>I.pipe((0,Ue.q)(1),(0,Xe.O)(lr)))).pipe((0,yt.U)(I=>{for(const E of I)if(!0!==E){if(E===lr)return lr;if(!1===E||E instanceof wt)return E}return!0}),(0,mt.h)(I=>I!==lr),(0,Ue.q)(1)))}function wa(D){return(0,Re.z)((0,Ze.b)(I=>{if(Be(I))throw us(0,I)}),(0,yt.U)(I=>!0===I))}const zo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mo(D,I,E,k,j){const ce=mo(D,I,E);return ce.matched?function $o(D,I,E,k){const j=I.canMatch;if(!j||0===j.length)return(0,P.of)(!0);const ce=j.map(Ne=>{const Pe=Ls(Ne,D);return ei(function L(D){return D&&vi(D.canMatch)}(Pe)?Pe.canMatch(I,E):D.runInContext(()=>Pe(I,E)))});return(0,P.of)(ce).pipe(os(),wa())}(k=Ba(I,k),I,E).pipe((0,yt.U)(Ne=>!0===Ne?ce:{...zo})):(0,P.of)(ce)}function mo(D,I,E){if(""===I.path)return"full"===I.pathMatch&&(D.hasChildren()||E.length>0)?{...zo}:{matched:!0,consumedSegments:[],remainingSegments:E,parameters:{},positionalParamSegments:{}};const j=(I.matcher||xi)(E,D,I);if(!j)return{...zo};const ce={};qn(j.posParams,(Pe,Ut)=>{ce[Ut]=Pe.path});const Ne=j.consumed.length>0?{...ce,...j.consumed[j.consumed.length-1].parameters}:ce;return{matched:!0,consumedSegments:j.consumed,remainingSegments:E.slice(j.consumed.length),parameters:Ne,positionalParamSegments:j.posParams??{}}}function _o(D,I,E,k,j="corrected"){if(E.length>0&&function fc(D,I,E){return E.some(k=>Wo(D,I,k)&&Rr(k)!==$t)}(D,E,k)){const Ne=new Lt(I,function Ro(D,I,E,k){const j={};j[$t]=k,k._sourceSegment=D,k._segmentIndexShift=I.length;for(const ce of E)if(""===ce.path&&Rr(ce)!==$t){const Ne=new Lt([],{});Ne._sourceSegment=D,Ne._segmentIndexShift=I.length,j[Rr(ce)]=Ne}return j}(D,I,k,new Lt(E,D.children)));return Ne._sourceSegment=D,Ne._segmentIndexShift=I.length,{segmentGroup:Ne,slicedSegments:[]}}if(0===E.length&&function Ea(D,I,E){return E.some(k=>Wo(D,I,k))}(D,E,k)){const Ne=new Lt(D.segments,function cl(D,I,E,k,j,ce){const Ne={};for(const Pe of k)if(Wo(D,E,Pe)&&!j[Rr(Pe)]){const Ut=new Lt([],{});Ut._sourceSegment=D,Ut._segmentIndexShift="legacy"===ce?D.segments.length:I.length,Ne[Rr(Pe)]=Ut}return{...j,...Ne}}(D,I,E,k,D.children,j));return Ne._sourceSegment=D,Ne._segmentIndexShift=I.length,{segmentGroup:Ne,slicedSegments:E}}const ce=new Lt(D.segments,D.children);return ce._sourceSegment=D,ce._segmentIndexShift=I.length,{segmentGroup:ce,slicedSegments:E}}function Wo(D,I,E){return(!(D.hasChildren()||I.length>0)||"full"!==E.pathMatch)&&""===E.path}function O(D,I,E,k){return!!(Rr(D)===k||k!==$t&&Wo(I,E,D))&&("**"===D.path||mo(I,D,E).matched)}function X(D,I,E){return 0===I.length&&!D.children[E]}const N=!1;class fe{constructor(I){this.segmentGroup=I||null}}class $e{constructor(I){this.urlTree=I}}function Rt(D){return(0,q._)(new fe(D))}function Gt(D){return(0,q._)(new $e(D))}class Hi{constructor(I,E,k,j,ce){this.injector=I,this.configLoader=E,this.urlSerializer=k,this.urlTree=j,this.config=ce,this.allowRedirects=!0}apply(){const I=_o(this.urlTree.root,[],[],this.config).segmentGroup,E=new Lt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,E,$t).pipe((0,yt.U)(ce=>this.createUrlTree(oe(ce),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Qe.K)(ce=>{if(ce instanceof $e)return this.allowRedirects=!1,this.match(ce.urlTree);throw ce instanceof fe?this.noMatchError(ce):ce}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,$t).pipe((0,yt.U)(j=>this.createUrlTree(oe(j),I.queryParams,I.fragment))).pipe((0,Qe.K)(j=>{throw j instanceof fe?this.noMatchError(j):j}))}noMatchError(I){return new d.vHH(4002,N)}createUrlTree(I,E,k){const j=te(I);return new wt(j,E,k)}expandSegmentGroup(I,E,k,j){return 0===k.segments.length&&k.hasChildren()?this.expandChildren(I,E,k).pipe((0,yt.U)(ce=>new Lt([],ce))):this.expandSegment(I,k,E,k.segments,j,!0)}expandChildren(I,E,k){const j=[];for(const ce of Object.keys(k.children))"primary"===ce?j.unshift(ce):j.push(ce);return(0,f.D)(j).pipe((0,Ae.b)(ce=>{const Ne=k.children[ce],Pe=ss(E,ce);return this.expandSegmentGroup(I,Pe,Ne,ce).pipe((0,yt.U)(Ut=>({segment:Ut,outlet:ce})))}),(0,Ct.R)((ce,Ne)=>(ce[Ne.outlet]=Ne.segment,ce),{}),Rn())}expandSegment(I,E,k,j,ce,Ne){return(0,f.D)(k).pipe((0,Ae.b)(Pe=>this.expandSegmentAgainstRoute(I,E,k,Pe,j,ce,Ne).pipe((0,Qe.K)(mn=>{if(mn instanceof fe)return(0,P.of)(null);throw mn}))),(0,nt.P)(Pe=>!!Pe),(0,Qe.K)((Pe,Ut)=>{if(Zn(Pe))return X(E,j,ce)?(0,P.of)(new Lt([],{})):Rt(E);throw Pe}))}expandSegmentAgainstRoute(I,E,k,j,ce,Ne,Pe){return O(j,E,ce,Ne)?void 0===j.redirectTo?this.matchSegmentAgainstRoute(I,E,j,ce,Ne):Pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,E,k,j,ce,Ne):Rt(E):Rt(E)}expandSegmentAgainstRouteUsingRedirect(I,E,k,j,ce,Ne){return"**"===j.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,k,j,Ne):this.expandRegularSegmentAgainstRouteUsingRedirect(I,E,k,j,ce,Ne)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,E,k,j){const ce=this.applyRedirectCommands([],k.redirectTo,{});return k.redirectTo.startsWith("/")?Gt(ce):this.lineralizeSegments(k,ce).pipe((0,vt.z)(Ne=>{const Pe=new Lt(Ne,{});return this.expandSegment(I,Pe,E,Ne,j,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,E,k,j,ce,Ne){const{matched:Pe,consumedSegments:Ut,remainingSegments:mn,positionalParamSegments:Kn}=mo(E,j,ce);if(!Pe)return Rt(E);const Mn=this.applyRedirectCommands(Ut,j.redirectTo,Kn);return j.redirectTo.startsWith("/")?Gt(Mn):this.lineralizeSegments(j,Mn).pipe((0,vt.z)($i=>this.expandSegment(I,E,k,$i.concat(mn),Ne,!1)))}matchSegmentAgainstRoute(I,E,k,j,ce){return"**"===k.path?(I=Ba(k,I),k.loadChildren?(k._loadedRoutes?(0,P.of)({routes:k._loadedRoutes,injector:k._loadedInjector}):this.configLoader.loadChildren(I,k)).pipe((0,yt.U)(Pe=>(k._loadedRoutes=Pe.routes,k._loadedInjector=Pe.injector,new Lt(j,{})))):(0,P.of)(new Lt(j,{}))):Mo(E,k,j,I).pipe((0,ot.w)(({matched:Ne,consumedSegments:Pe,remainingSegments:Ut})=>Ne?this.getChildConfig(I=k._injector??I,k,j).pipe((0,vt.z)(Kn=>{const Mn=Kn.injector??I,$i=Kn.routes,{segmentGroup:ls,slicedSegments:vs}=_o(E,Pe,Ut,$i),Za=new Lt(ls.segments,ls.children);if(0===vs.length&&Za.hasChildren())return this.expandChildren(Mn,$i,Za).pipe((0,yt.U)(qs=>new Lt(Pe,qs)));if(0===$i.length&&0===vs.length)return(0,P.of)(new Lt(Pe,{}));const bs=Rr(k)===ce;return this.expandSegment(Mn,Za,$i,vs,bs?$t:ce,!0).pipe((0,yt.U)(Ys=>new Lt(Pe.concat(Ys.segments),Ys.children)))})):Rt(E)))}getChildConfig(I,E,k){return E.children?(0,P.of)({routes:E.children,injector:I}):E.loadChildren?void 0!==E._loadedRoutes?(0,P.of)({routes:E._loadedRoutes,injector:E._loadedInjector}):function Lc(D,I,E,k){const j=I.canLoad;if(void 0===j||0===j.length)return(0,P.of)(!0);const ce=j.map(Ne=>{const Pe=Ls(Ne,D);return ei(function So(D){return D&&vi(D.canLoad)}(Pe)?Pe.canLoad(I,E):D.runInContext(()=>Pe(I,E)))});return(0,P.of)(ce).pipe(os(),wa())}(I,E,k).pipe((0,vt.z)(j=>j?this.configLoader.loadChildren(I,E).pipe((0,Ze.b)(ce=>{E._loadedRoutes=ce.routes,E._loadedInjector=ce.injector})):function Mi(D){return(0,q._)(ia(N,3))}())):(0,P.of)({routes:[],injector:I})}lineralizeSegments(I,E){let k=[],j=E.root;for(;;){if(k=k.concat(j.segments),0===j.numberOfChildren)return(0,P.of)(k);if(j.numberOfChildren>1||!j.children[$t])return(0,q._)(new d.vHH(4e3,N));j=j.children[$t]}}applyRedirectCommands(I,E,k){return this.applyRedirectCreateUrlTree(E,this.urlSerializer.parse(E),I,k)}applyRedirectCreateUrlTree(I,E,k,j){const ce=this.createSegmentGroup(I,E.root,k,j);return new wt(ce,this.createQueryParams(E.queryParams,this.urlTree.queryParams),E.fragment)}createQueryParams(I,E){const k={};return qn(I,(j,ce)=>{if("string"==typeof j&&j.startsWith(":")){const Pe=j.substring(1);k[ce]=E[Pe]}else k[ce]=j}),k}createSegmentGroup(I,E,k,j){const ce=this.createSegments(I,E.segments,k,j);let Ne={};return qn(E.children,(Pe,Ut)=>{Ne[Ut]=this.createSegmentGroup(I,Pe,k,j)}),new Lt(ce,Ne)}createSegments(I,E,k,j){return E.map(ce=>ce.path.startsWith(":")?this.findPosParam(I,ce,j):this.findOrReturn(ce,k))}findPosParam(I,E,k){const j=k[E.path.substring(1)];if(!j)throw new d.vHH(4001,N);return j}findOrReturn(I,E){let k=0;for(const j of E){if(j.path===I.path)return E.splice(k),j;k++}return I}}class Gi{}class gs{constructor(I,E,k,j,ce,Ne,Pe,Ut){this.injector=I,this.rootComponentType=E,this.config=k,this.urlTree=j,this.url=ce,this.paramsInheritanceStrategy=Ne,this.relativeLinkResolution=Pe,this.urlSerializer=Ut}recognize(){const I=_o(this.urlTree.root,[],[],this.config.filter(E=>void 0===E.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,$t).pipe((0,yt.U)(E=>{if(null===E)return null;const k=new jr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),j=new Tn(k,E),ce=new Qn(this.url,j);return this.inheritParamsAndData(ce._root),ce}))}inheritParamsAndData(I){const E=I.value,k=Zr(E,this.paramsInheritanceStrategy);E.params=Object.freeze(k.params),E.data=Object.freeze(k.data),I.children.forEach(j=>this.inheritParamsAndData(j))}processSegmentGroup(I,E,k,j){return 0===k.segments.length&&k.hasChildren()?this.processChildren(I,E,k):this.processSegment(I,E,k,k.segments,j)}processChildren(I,E,k){return(0,f.D)(Object.keys(k.children)).pipe((0,Ae.b)(j=>{const ce=k.children[j],Ne=ss(E,j);return this.processSegmentGroup(I,Ne,ce,j)}),(0,Ct.R)((j,ce)=>j&&ce?(j.push(...ce),j):null),function Jt(D,I=!1){return(0,dt.e)((E,k)=>{let j=0;E.subscribe(new Ye.Q(k,ce=>{const Ne=D(ce,j++);(Ne||I)&&k.next(ce),!Ne&&k.complete()}))})}(j=>null!==j),(0,En.d)(null),Rn(),(0,yt.U)(j=>{if(null===j)return null;const ce=Bs(j);return function Xr(D){D.sort((I,E)=>I.value.outlet===$t?-1:E.value.outlet===$t?1:I.value.outlet.localeCompare(E.value.outlet))}(ce),ce}))}processSegment(I,E,k,j,ce){return(0,f.D)(E).pipe((0,Ae.b)(Ne=>this.processSegmentAgainstRoute(Ne._injector??I,Ne,k,j,ce)),(0,nt.P)(Ne=>!!Ne),(0,Qe.K)(Ne=>{if(Zn(Ne))return X(k,j,ce)?(0,P.of)([]):(0,P.of)(null);throw Ne}))}processSegmentAgainstRoute(I,E,k,j,ce){if(E.redirectTo||!O(E,k,j,ce))return(0,P.of)(null);let Ne;if("**"===E.path){const Pe=j.length>0?ii(j).parameters:{},Ut=fr(k)+j.length,mn=new jr(j,Pe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dl(E),Rr(E),E.component??E._loadedComponent??null,E,ul(k),Ut,pc(E),Ut);Ne=(0,P.of)({snapshot:mn,consumedSegments:[],remainingSegments:[]})}else Ne=Mo(k,E,j,I).pipe((0,yt.U)(({matched:Pe,consumedSegments:Ut,remainingSegments:mn,parameters:Kn})=>{if(!Pe)return null;const Mn=fr(k)+Ut.length;return{snapshot:new jr(Ut,Kn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,dl(E),Rr(E),E.component??E._loadedComponent??null,E,ul(k),Mn,pc(E),Mn),consumedSegments:Ut,remainingSegments:mn}}));return Ne.pipe((0,ot.w)(Pe=>{if(null===Pe)return(0,P.of)(null);const{snapshot:Ut,consumedSegments:mn,remainingSegments:Kn}=Pe;I=E._injector??I;const Mn=E._loadedInjector??I,$i=function Ks(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(E),{segmentGroup:ls,slicedSegments:vs}=_o(k,mn,Kn,$i.filter(bs=>void 0===bs.redirectTo),this.relativeLinkResolution);if(0===vs.length&&ls.hasChildren())return this.processChildren(Mn,$i,ls).pipe((0,yt.U)(bs=>null===bs?null:[new Tn(Ut,bs)]));if(0===$i.length&&0===vs.length)return(0,P.of)([new Tn(Ut,[])]);const Za=Rr(E)===ce;return this.processSegment(Mn,$i,ls,vs,Za?$t:ce).pipe((0,yt.U)(bs=>null===bs?null:[new Tn(Ut,bs)]))}))}}function eo(D){const I=D.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Bs(D){const I=[],E=new Set;for(const k of D){if(!eo(k)){I.push(k);continue}const j=I.find(ce=>k.value.routeConfig===ce.value.routeConfig);void 0!==j?(j.children.push(...k.children),E.add(j)):I.push(k)}for(const k of E){const j=Bs(k.children);I.push(new Tn(k.value,j))}return I.filter(k=>!E.has(k))}function ul(D){let I=D;for(;I._sourceSegment;)I=I._sourceSegment;return I}function fr(D){let I=D,E=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,E+=I._segmentIndexShift??0;return E-1}function dl(D){return D.data||{}}function pc(D){return D.resolve||{}}function on(D){return"string"==typeof D.title||null===D.title}function br(D){return(0,ot.w)(I=>{const E=D(I);return E?(0,f.D)(E).pipe((0,yt.U)(()=>I)):(0,P.of)(I)})}let pr=(()=>{class D{buildTitle(E){let k,j=E.root;for(;void 0!==j;)k=this.getResolvedTitleForRoute(j)??k,j=j.children.find(ce=>ce.outlet===$t);return k}getResolvedTitleForRoute(E){return E.data[An]}}return D.\u0275fac=function(E){return new(E||D)},D.\u0275prov=d.Yz7({token:D,factory:function(){return(0,d.f3M)(Ua)},providedIn:"root"}),D})(),Ua=(()=>{class D extends pr{constructor(E){super(),this.title=E}updateTitle(E){const k=this.buildTitle(E);void 0!==k&&this.title.setTitle(k)}}return D.\u0275fac=function(E){return new(E||D)(d.LFG(jt.Dx))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class _i{}class xt extends class Dl{shouldDetach(I){return!1}store(I,E){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,E){return I.routeConfig===E.routeConfig}}{}const un=new d.OlP("",{providedIn:"root",factory:()=>({})}),Vs=new d.OlP("ROUTES");let aa=(()=>{class D{constructor(E,k){this.injector=E,this.compiler=k,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(E){if(this.componentLoaders.get(E))return this.componentLoaders.get(E);if(E._loadedComponent)return(0,P.of)(E._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(E);const k=ei(E.loadComponent()).pipe((0,Ze.b)(ce=>{this.onLoadEndListener&&this.onLoadEndListener(E),E._loadedComponent=ce}),(0,Yt.x)(()=>{this.componentLoaders.delete(E)})),j=new pt(k,()=>new ze.x).pipe(Ft());return this.componentLoaders.set(E,j),j}loadChildren(E,k){if(this.childrenLoaders.get(k))return this.childrenLoaders.get(k);if(k._loadedRoutes)return(0,P.of)({routes:k._loadedRoutes,injector:k._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(k);const ce=this.loadModuleFactoryOrRoutes(k.loadChildren).pipe((0,yt.U)(Pe=>{this.onLoadEndListener&&this.onLoadEndListener(k);let Ut,mn,Kn=!1;Array.isArray(Pe)?mn=Pe:(Ut=Pe.create(E).injector,mn=Wn(Ut.get(Vs,[],d.XFs.Self|d.XFs.Optional)));return{routes:mn.map(Gr),injector:Ut}}),(0,Yt.x)(()=>{this.childrenLoaders.delete(k)})),Ne=new pt(ce,()=>new ze.x).pipe(Ft());return this.childrenLoaders.set(k,Ne),Ne}loadModuleFactoryOrRoutes(E){return ei(E()).pipe((0,vt.z)(k=>k instanceof d.YKP||Array.isArray(k)?(0,P.of)(k):(0,f.D)(this.compiler.compileModuleAsync(k))))}}return D.\u0275fac=function(E){return new(E||D)(d.LFG(d.zs3),d.LFG(d.Sil))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class Us{}class ja{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,E){return I}}function Ha(D){throw D}function Da(D,I,E){return I.parse("/")}const Nc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ga={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $a(){const D=(0,d.f3M)($),I=(0,d.f3M)(Ds),E=(0,d.f3M)(_t.Ye),k=(0,d.f3M)(d.zs3),j=(0,d.f3M)(d.Sil),ce=(0,d.f3M)(Vs,{optional:!0})??[],Ne=(0,d.f3M)(un,{optional:!0})??{},Pe=(0,d.f3M)(Ua),Ut=(0,d.f3M)(pr,{optional:!0}),mn=(0,d.f3M)(Us,{optional:!0}),Kn=(0,d.f3M)(_i,{optional:!0}),Mn=new Bn(null,D,I,E,k,j,Wn(ce));return mn&&(Mn.urlHandlingStrategy=mn),Kn&&(Mn.routeReuseStrategy=Kn),Mn.titleStrategy=Ut??Pe,function Ia(D,I){D.errorHandler&&(I.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(I.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(I.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(I.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(I.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(I.canceledNavigationResolution=D.canceledNavigationResolution)}(Ne,Mn),Mn}let Bn=(()=>{class D{constructor(E,k,j,ce,Ne,Pe,Ut){this.rootComponentType=E,this.urlSerializer=k,this.rootContexts=j,this.location=ce,this.config=Ut,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ze.x,this.errorHandler=Ha,this.malformedUriErrorHandler=Da,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,P.of)(void 0),this.urlHandlingStrategy=new ja,this.routeReuseStrategy=new xt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Ne.get(aa),this.configLoader.onLoadEndListener=$i=>this.triggerEvent(new na($i)),this.configLoader.onLoadStartListener=$i=>this.triggerEvent(new Ho($i)),this.ngModule=Ne.get(d.h0i),this.console=Ne.get(d.c2e);const Mn=Ne.get(d.R0b);this.isNgZoneEnabled=Mn instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(Ut),this.currentUrlTree=function $n(){return new wt(new Lt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fi(this.currentUrlTree,this.rootComponentType),this.transitions=new B.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(E){const k=this.events;return E.pipe((0,mt.h)(j=>0!==j.id),(0,yt.U)(j=>({...j,extractedUrl:this.urlHandlingStrategy.extract(j.rawUrl)})),(0,ot.w)(j=>{let ce=!1,Ne=!1;return(0,P.of)(j).pipe((0,Ze.b)(Pe=>{this.currentNavigation={id:Pe.id,initialUrl:Pe.rawUrl,extractedUrl:Pe.extractedUrl,trigger:Pe.source,extras:Pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,ot.w)(Pe=>{const Ut=this.browserUrlTree.toString(),mn=!this.navigated||Pe.extractedUrl.toString()!==Ut||Ut!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||mn)&&this.urlHandlingStrategy.shouldProcessUrl(Pe.rawUrl))return to(Pe.source)&&(this.browserUrlTree=Pe.extractedUrl),(0,P.of)(Pe).pipe((0,ot.w)(Mn=>{const $i=this.transitions.getValue();return k.next(new ns(Mn.id,this.serializeUrl(Mn.extractedUrl),Mn.source,Mn.restoredState)),$i!==this.transitions.getValue()?ye.E:Promise.resolve(Mn)}),function Bi(D,I,E,k){return(0,ot.w)(j=>function ji(D,I,E,k,j){return new Hi(D,I,E,k,j).apply()}(D,I,E,j.extractedUrl,k).pipe((0,yt.U)(ce=>({...j,urlAfterRedirects:ce}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ze.b)(Mn=>{this.currentNavigation={...this.currentNavigation,finalUrl:Mn.urlAfterRedirects},j.urlAfterRedirects=Mn.urlAfterRedirects}),function gc(D,I,E,k,j,ce){return(0,vt.z)(Ne=>function Ws(D,I,E,k,j,ce,Ne="emptyOnly",Pe="legacy"){return new gs(D,I,E,k,j,Ne,Pe,ce).recognize().pipe((0,ot.w)(Ut=>null===Ut?function Ri(D){return new ue.y(I=>I.error(D))}(new Gi):(0,P.of)(Ut)))}(D,I,E,Ne.urlAfterRedirects,k.serialize(Ne.urlAfterRedirects),k,j,ce).pipe((0,yt.U)(Pe=>({...Ne,targetSnapshot:Pe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ze.b)(Mn=>{if(j.targetSnapshot=Mn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Mn.extras.skipLocationChange){const ls=this.urlHandlingStrategy.merge(Mn.urlAfterRedirects,Mn.rawUrl);this.setBrowserUrl(ls,Mn)}this.browserUrlTree=Mn.urlAfterRedirects}const $i=new is(Mn.id,this.serializeUrl(Mn.extractedUrl),this.serializeUrl(Mn.urlAfterRedirects),Mn.targetSnapshot);k.next($i)}));if(mn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$i,extractedUrl:ls,source:vs,restoredState:Za,extras:bs}=Pe,gl=new ns($i,this.serializeUrl(ls),vs,Za);k.next(gl);const Ys=Fi(ls,this.rootComponentType).snapshot;return j={...Pe,targetSnapshot:Ys,urlAfterRedirects:ls,extras:{...bs,skipLocationChange:!1,replaceUrl:!1}},(0,P.of)(j)}return this.rawUrlTree=Pe.rawUrl,Pe.resolve(null),ye.E}),(0,Ze.b)(Pe=>{const Ut=new Do(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);this.triggerEvent(Ut)}),(0,yt.U)(Pe=>j={...Pe,guards:po(Pe.targetSnapshot,Pe.currentSnapshot,this.rootContexts)}),function Ns(D,I){return(0,vt.z)(E=>{const{targetSnapshot:k,currentSnapshot:j,guards:{canActivateChecks:ce,canDeactivateChecks:Ne}}=E;return 0===Ne.length&&0===ce.length?(0,P.of)({...E,guardsResult:!0}):function nr(D,I,E,k){return(0,f.D)(D).pipe((0,vt.z)(j=>function ba(D,I,E,k,j){const ce=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!ce||0===ce.length)return(0,P.of)(!0);const Ne=ce.map(Pe=>{const Ut=fo(I)??j,mn=Ls(Pe,Ut);return ei(function V(D){return D&&vi(D.canDeactivate)}(mn)?mn.canDeactivate(D,I,E,k):Ut.runInContext(()=>mn(D,I,E,k))).pipe((0,nt.P)())});return(0,P.of)(Ne).pipe(os())}(j.component,j.route,E,I,k)),(0,nt.P)(j=>!0!==j,!0))}(Ne,k,j,D).pipe((0,vt.z)(Pe=>Pe&&function Go(D){return"boolean"==typeof D}(Pe)?function ps(D,I,E,k){return(0,f.D)(I).pipe((0,Ae.b)(j=>(0,Fe.z)(function go(D,I){return null!==D&&I&&I(new Gs(D)),(0,P.of)(!0)}(j.route.parent,k),function oa(D,I){return null!==D&&I&&I(new Na(D)),(0,P.of)(!0)}(j.route,k),function To(D,I,E){const k=I[I.length-1],ce=I.slice(0,I.length-1).reverse().map(Ne=>function sa(D){const I=D.routeConfig?D.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:D,guards:I}:null}(Ne)).filter(Ne=>null!==Ne).map(Ne=>(0,he.P)(()=>{const Pe=Ne.guards.map(Ut=>{const mn=fo(Ne.node)??E,Kn=Ls(Ut,mn);return ei(function G(D){return D&&vi(D.canActivateChild)}(Kn)?Kn.canActivateChild(k,D):mn.runInContext(()=>Kn(k,D))).pipe((0,nt.P)())});return(0,P.of)(Pe).pipe(os())}));return(0,P.of)(ce).pipe(os())}(D,j.path,E),function As(D,I,E){const k=I.routeConfig?I.routeConfig.canActivate:null;if(!k||0===k.length)return(0,P.of)(!0);const j=k.map(ce=>(0,he.P)(()=>{const Ne=fo(I)??E,Pe=Ls(ce,Ne);return ei(function vr(D){return D&&vi(D.canActivate)}(Pe)?Pe.canActivate(I,D):Ne.runInContext(()=>Pe(I,D))).pipe((0,nt.P)())}));return(0,P.of)(j).pipe(os())}(D,j.route,E))),(0,nt.P)(j=>!0!==j,!0))}(k,ce,D,I):(0,P.of)(Pe)),(0,yt.U)(Pe=>({...E,guardsResult:Pe})))})}(this.ngModule.injector,Pe=>this.triggerEvent(Pe)),(0,Ze.b)(Pe=>{if(j.guardsResult=Pe.guardsResult,Be(Pe.guardsResult))throw us(0,Pe.guardsResult);const Ut=new jo(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot,!!Pe.guardsResult);this.triggerEvent(Ut)}),(0,mt.h)(Pe=>!!Pe.guardsResult||(this.restoreHistory(Pe),this.cancelNavigationTransition(Pe,"",3),!1)),br(Pe=>{if(Pe.guards.canActivateChecks.length)return(0,P.of)(Pe).pipe((0,Ze.b)(Ut=>{const mn=new Xs(Ut.id,this.serializeUrl(Ut.extractedUrl),this.serializeUrl(Ut.urlAfterRedirects),Ut.targetSnapshot);this.triggerEvent(mn)}),(0,ot.w)(Ut=>{let mn=!1;return(0,P.of)(Ut).pipe(function Ir(D,I){return(0,vt.z)(E=>{const{targetSnapshot:k,guards:{canActivateChecks:j}}=E;if(!j.length)return(0,P.of)(E);let ce=0;return(0,f.D)(j).pipe((0,Ae.b)(Ne=>function Oo(D,I,E,k){const j=D.routeConfig,ce=D._resolve;return void 0!==j?.title&&!on(j)&&(ce[An]=j.title),function Br(D,I,E,k){const j=function hl(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===j.length)return(0,P.of)({});const ce={};return(0,f.D)(j).pipe((0,vt.z)(Ne=>function xa(D,I,E,k){const j=fo(I)??k,ce=Ls(D,j);return ei(ce.resolve?ce.resolve(I,E):j.runInContext(()=>ce(I,E)))}(D[Ne],I,E,k).pipe((0,nt.P)(),(0,Ze.b)(Pe=>{ce[Ne]=Pe}))),Et(1),(0,qe.h)(ce),(0,Qe.K)(Ne=>Zn(Ne)?ye.E:(0,q._)(Ne)))}(ce,D,I,k).pipe((0,yt.U)(Ne=>(D._resolvedData=Ne,D.data=Zr(D,E).resolve,j&&on(j)&&(D.data[An]=j.title),null)))}(Ne.route,k,D,I)),(0,Ze.b)(()=>ce++),Et(1),(0,vt.z)(Ne=>ce===j.length?(0,P.of)(E):ye.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ze.b)({next:()=>mn=!0,complete:()=>{mn||(this.restoreHistory(Ut),this.cancelNavigationTransition(Ut,"",2))}}))}),(0,Ze.b)(Ut=>{const mn=new Vi(Ut.id,this.serializeUrl(Ut.extractedUrl),this.serializeUrl(Ut.urlAfterRedirects),Ut.targetSnapshot);this.triggerEvent(mn)}))}),br(Pe=>{const Ut=mn=>{const Kn=[];mn.routeConfig?.loadComponent&&!mn.routeConfig._loadedComponent&&Kn.push(this.configLoader.loadComponent(mn.routeConfig).pipe((0,Ze.b)(Mn=>{mn.component=Mn}),(0,yt.U)(()=>{})));for(const Mn of mn.children)Kn.push(...Ut(Mn));return Kn};return(0,Oe.a)(Ut(Pe.targetSnapshot.root)).pipe((0,En.d)(),(0,Ue.q)(1))}),br(()=>this.afterPreactivation()),(0,yt.U)(Pe=>{const Ut=function _a(D,I,E){const k=Qr(D,I._root,E?E._root:void 0);return new _r(k,I)}(this.routeReuseStrategy,Pe.targetSnapshot,Pe.currentRouterState);return j={...Pe,targetRouterState:Ut}}),(0,Ze.b)(Pe=>{this.currentUrlTree=Pe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Pe.urlAfterRedirects,Pe.rawUrl),this.routerState=Pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Pe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Pe),this.browserUrlTree=Pe.urlAfterRedirects)}),((D,I,E)=>(0,yt.U)(k=>(new mi(I,k.targetRouterState,k.currentRouterState,E).activate(D),k)))(this.rootContexts,this.routeReuseStrategy,Pe=>this.triggerEvent(Pe)),(0,Ze.b)({next(){ce=!0},complete(){ce=!0}}),(0,Yt.x)(()=>{ce||Ne||this.cancelNavigationTransition(j,"",1),this.currentNavigation?.id===j.id&&(this.currentNavigation=null)}),(0,Qe.K)(Pe=>{if(Ne=!0,yr(Pe)){Li(Pe)||(this.navigated=!0,this.restoreHistory(j,!0));const Ut=new Cs(j.id,this.serializeUrl(j.extractedUrl),Pe.message,Pe.cancellationCode);if(k.next(Ut),Li(Pe)){const mn=this.urlHandlingStrategy.merge(Pe.url,this.rawUrlTree),Kn={skipLocationChange:j.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||to(j.source)};this.scheduleNavigation(mn,"imperative",null,Kn,{resolve:j.resolve,reject:j.reject,promise:j.promise})}else j.resolve(!1)}else{this.restoreHistory(j,!0);const Ut=new or(j.id,this.serializeUrl(j.extractedUrl),Pe,j.targetSnapshot??void 0);k.next(Ut);try{j.resolve(this.errorHandler(Pe))}catch(mn){j.reject(mn)}}return ye.E}))}))}resetRootComponentType(E){this.rootComponentType=E,this.routerState.root.component=this.rootComponentType}setTransition(E){this.transitions.next({...this.transitions.value,...E})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(E=>{const k="popstate"===E.type?"popstate":"hashchange";"popstate"===k&&setTimeout(()=>{const j={replaceUrl:!0},ce=E.state?.navigationId?E.state:null;if(ce){const Pe={...ce};delete Pe.navigationId,delete Pe.\u0275routerPageId,0!==Object.keys(Pe).length&&(j.state=Pe)}const Ne=this.parseUrl(E.url);this.scheduleNavigation(Ne,k,ce,j)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(E){this.events.next(E)}resetConfig(E){this.config=E.map(Gr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(E,k={}){const{relativeTo:j,queryParams:ce,fragment:Ne,queryParamsHandling:Pe,preserveFragment:Ut}=k,mn=j||this.routerState.root,Kn=Ut?this.currentUrlTree.fragment:Ne;let Mn=null;switch(Pe){case"merge":Mn={...this.currentUrlTree.queryParams,...ce};break;case"preserve":Mn=this.currentUrlTree.queryParams;break;default:Mn=ce||null}return null!==Mn&&(Mn=this.removeEmptyProps(Mn)),rt(mn,this.currentUrlTree,E,Mn,Kn??null)}navigateByUrl(E,k={skipLocationChange:!1}){const j=Be(E)?E:this.parseUrl(E),ce=this.urlHandlingStrategy.merge(j,this.rawUrlTree);return this.scheduleNavigation(ce,"imperative",null,k)}navigate(E,k={skipLocationChange:!1}){return function Po(D){for(let I=0;I<D.length;I++){if(null==D[I])throw new d.vHH(4008,false)}}(E),this.navigateByUrl(this.createUrlTree(E,k),k)}serializeUrl(E){return this.urlSerializer.serialize(E)}parseUrl(E){let k;try{k=this.urlSerializer.parse(E)}catch(j){k=this.malformedUriErrorHandler(j,this.urlSerializer,E)}return k}isActive(E,k){let j;if(j=!0===k?{...Nc}:!1===k?{...Ga}:k,Be(E))return Pi(this.currentUrlTree,E,j);const ce=this.parseUrl(E);return Pi(this.currentUrlTree,ce,j)}removeEmptyProps(E){return Object.keys(E).reduce((k,j)=>{const ce=E[j];return null!=ce&&(k[j]=ce),k},{})}processNavigations(){this.navigations.subscribe(E=>{this.navigated=!0,this.lastSuccessfulId=E.id,this.currentPageId=E.targetPageId,this.events.next(new Ti(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),E.resolve(!0)},E=>{this.console.warn(`Unhandled Navigation Error: ${E}`)})}scheduleNavigation(E,k,j,ce,Ne){if(this.disposed)return Promise.resolve(!1);let Pe,Ut,mn;Ne?(Pe=Ne.resolve,Ut=Ne.reject,mn=Ne.promise):mn=new Promise(($i,ls)=>{Pe=$i,Ut=ls});const Kn=++this.navigationId;let Mn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(j=this.location.getState()),Mn=j&&j.\u0275routerPageId?j.\u0275routerPageId:ce.replaceUrl||ce.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Mn=0,this.setTransition({id:Kn,targetPageId:Mn,source:k,restoredState:j,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:E,extras:ce,resolve:Pe,reject:Ut,promise:mn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),mn.catch($i=>Promise.reject($i))}setBrowserUrl(E,k){const j=this.urlSerializer.serialize(E),ce={...k.extras.state,...this.generateNgRouterState(k.id,k.targetPageId)};this.location.isCurrentPathEqualTo(j)||k.extras.replaceUrl?this.location.replaceState(j,"",ce):this.location.go(j,"",ce)}restoreHistory(E,k=!1){if("computed"===this.canceledNavigationResolution){const j=this.currentPageId-E.targetPageId;"popstate"!==E.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===j?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===j&&(this.resetState(E),this.browserUrlTree=E.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(j)}else"replace"===this.canceledNavigationResolution&&(k&&this.resetState(E),this.resetUrlToCurrentUrlTree())}resetState(E){this.routerState=E.currentRouterState,this.currentUrlTree=E.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,E.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(E,k,j){const ce=new Cs(E.id,this.serializeUrl(E.extractedUrl),k,j);this.triggerEvent(ce),E.resolve(!1)}generateNgRouterState(E,k){return"computed"===this.canceledNavigationResolution?{navigationId:E,\u0275routerPageId:k}:{navigationId:E}}}return D.\u0275fac=function(E){d.$Z()},D.\u0275prov=d.Yz7({token:D,factory:function(){return $a()},providedIn:"root"}),D})();function to(D){return"imperative"!==D}let Ci=(()=>{class D{constructor(E,k,j,ce,Ne){this.router=E,this.route=k,this.tabIndexAttribute=j,this.renderer=ce,this.el=Ne,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ze.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(E){this._preserveFragment=(0,d.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,d.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,d.D6c)(E)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(E){if(null!=this.tabIndexAttribute)return;const k=this.renderer,j=this.el.nativeElement;null!==E?k.setAttribute(j,"tabindex",E):k.removeAttribute(j,"tabindex")}ngOnChanges(E){this.onChanges.next(this)}set routerLink(E){null!=E?(this.commands=Array.isArray(E)?E:[E],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(E){return new(E||D)(d.Y36(Bn),d.Y36(ar),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq))},D.\u0275dir=d.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(E,k){1&E&&d.NdJ("click",function(){return k.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),D})(),Vn=(()=>{class D{constructor(E,k,j){this.router=E,this.route=k,this.locationStrategy=j,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ze.x,this.subscription=E.events.subscribe(ce=>{ce instanceof Ti&&this.updateTargetUrlAndHref()})}set preserveFragment(E){this._preserveFragment=(0,d.D6c)(E)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(E){this._skipLocationChange=(0,d.D6c)(E)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(E){this._replaceUrl=(0,d.D6c)(E)}get replaceUrl(){return this._replaceUrl}set routerLink(E){this.commands=null!=E?Array.isArray(E)?E:[E]:null}ngOnChanges(E){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(E,k,j,ce,Ne){return!!(0!==E||k||j||ce||Ne||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return D.\u0275fac=function(E){return new(E||D)(d.Y36(Bn),d.Y36(ar),d.Y36(_t.S$))},D.\u0275dir=d.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(E,k){1&E&&d.NdJ("click",function(ce){return k.onClick(ce.button,ce.ctrlKey,ce.shiftKey,ce.altKey,ce.metaKey)}),2&E&&d.uIk("target",k.target)("href",k.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),D})();class yo{}let ca=(()=>{class D{constructor(E,k,j,ce,Ne){this.router=E,this.injector=j,this.preloadingStrategy=ce,this.loader=Ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,mt.h)(E=>E instanceof Ti),(0,Ae.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(E,k){const j=[];for(const ce of k){ce.providers&&!ce._injector&&(ce._injector=(0,d.MMx)(ce.providers,E,`Route: ${ce.path}`));const Ne=ce._injector??E,Pe=ce._loadedInjector??Ne;ce.loadChildren&&!ce._loadedRoutes&&void 0===ce.canLoad||ce.loadComponent&&!ce._loadedComponent?j.push(this.preloadConfig(Ne,ce)):(ce.children||ce._loadedRoutes)&&j.push(this.processRoutes(Pe,ce.children??ce._loadedRoutes))}return(0,f.D)(j).pipe((0,Dt.J)())}preloadConfig(E,k){return this.preloadingStrategy.preload(k,()=>{let j;j=k.loadChildren&&void 0===k.canLoad?this.loader.loadChildren(E,k):(0,P.of)(null);const ce=j.pipe((0,vt.z)(Ne=>null===Ne?(0,P.of)(void 0):(k._loadedRoutes=Ne.routes,k._loadedInjector=Ne.injector,this.processRoutes(Ne.injector??E,Ne.routes))));if(k.loadComponent&&!k._loadedComponent){const Ne=this.loader.loadComponent(k);return(0,f.D)([ce,Ne]).pipe((0,Dt.J)())}return ce})}}return D.\u0275fac=function(E){return new(E||D)(d.LFG(Bn),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(yo),d.LFG(aa))},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const vo=new d.OlP("");let ms=(()=>{class D{constructor(E,k,j={}){this.router=E,this.viewportScroller=k,this.options=j,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},j.scrollPositionRestoration=j.scrollPositionRestoration||"disabled",j.anchorScrolling=j.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(E=>{E instanceof ns?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=E.navigationTrigger,this.restoredId=E.restoredState?E.restoredState.navigationId:0):E instanceof Ti&&(this.lastId=E.id,this.scheduleScrollEvent(E,this.router.parseUrl(E.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(E=>{E instanceof ft&&(E.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(E.position):E.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(E.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(E,k){this.router.triggerEvent(new ft(E,"popstate"===this.lastSource?this.store[this.restoredId]:null,k))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(E){d.$Z()},D.\u0275prov=d.Yz7({token:D,factory:D.\u0275fac}),D})();function ys(D,I){return{\u0275kind:D,\u0275providers:I}}function Fo(D){return[{provide:Vs,multi:!0,useValue:D}]}function er(){const D=(0,d.f3M)(d.zs3);return I=>{const E=D.get(d.z2F);if(I!==E.components[0])return;const k=D.get(Bn),j=D.get(no);1===D.get(za)&&k.initialNavigation(),D.get(Ot,null,d.XFs.Optional)?.setUpPreloading(),D.get(vo,null,d.XFs.Optional)?.init(),k.resetRootComponentType(E.componentTypes[0]),j.next(),j.complete()}}const no=new d.OlP("",{factory:()=>new ze.x}),za=new d.OlP("",{providedIn:"root",factory:()=>1});const Ot=new d.OlP("");function Ka(D){return ys(0,[{provide:Ot,useExisting:ca},{provide:yo,useExisting:D}])}const ro=new d.OlP("ROUTER_FORROOT_GUARD"),mc=[_t.Ye,{provide:$,useClass:ee},{provide:Bn,useFactory:$a},Ds,{provide:ar,useFactory:function _s(D){return D.routerState.root},deps:[Bn]},aa];function Aa(){return new d.PXZ("Router",Bn)}let Vr=(()=>{class D{constructor(E){}static forRoot(E,k){return{ngModule:D,providers:[mc,[],Fo(E),{provide:ro,useFactory:Ss,deps:[[Bn,new d.FiY,new d.tp0]]},{provide:un,useValue:k||{}},k?.useHash?{provide:_t.S$,useClass:_t.Do}:{provide:_t.S$,useClass:_t.b0},{provide:vo,useFactory:()=>{const D=(0,d.f3M)(Bn),I=(0,d.f3M)(_t.EM),E=(0,d.f3M)(un);return E.scrollOffset&&I.setOffset(E.scrollOffset),new ms(D,I,E)}},k?.preloadingStrategy?Ka(k.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:Aa},k?.initialNavigation?js(k):[],[{provide:as,useFactory:er},{provide:d.tb,multi:!0,useExisting:as}]]}}static forChild(E){return{ngModule:D,providers:[Fo(E)]}}}return D.\u0275fac=function(E){return new(E||D)(d.LFG(ro,8))},D.\u0275mod=d.oAB({type:D}),D.\u0275inj=d.cJS({imports:[ur]}),D})();function Ss(D){return"guarded"}function js(D){return["disabled"===D.initialNavigation?ys(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const I=(0,d.f3M)(Bn);return()=>{I.setUpLocationChangeListener()}}},{provide:za,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?ys(2,[{provide:za,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:I=>{const E=I.get(_t.V_,Promise.resolve(null));let k=!1;return()=>E.then(()=>new Promise(ce=>{const Ne=I.get(Bn),Pe=I.get(no);(function j(ce){I.get(Bn).events.pipe((0,mt.h)(Pe=>Pe instanceof Ti||Pe instanceof Cs||Pe instanceof or),(0,yt.U)(Pe=>Pe instanceof Ti||Pe instanceof Cs&&(0===Pe.code||1===Pe.code)&&null),(0,mt.h)(Pe=>null!==Pe),(0,Ue.q)(1)).subscribe(()=>{ce()})})(()=>{ce(!0),k=!0}),Ne.afterPreactivation=()=>(ce(!0),k||Pe.closed?(0,P.of)(void 0):Pe),Ne.initialNavigation()}))}}]).\u0275providers:[]]}const as=new d.OlP("")},3942:(rn,et,T)=>{T.d(et,{Z:()=>Ye});var d=T(2090),f=T(4859),P=T(9681),B=T(1877);class _e{constructor(pt,ze){this._delegate=pt,this.firebase=ze,(0,P._addComponent)(pt,new f.wA("app-compat",()=>this,"PUBLIC")),this.container=pt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this._delegate.automaticDataCollectionEnabled=pt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pt=>{this._delegate.checkDestroyed(),pt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(pt,ze=P._DEFAULT_ENTRY_NAME){var _t;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(pt);return!yt.isInitialized()&&"EXPLICIT"===(null===(_t=yt.getComponent())||void 0===_t?void 0:_t.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:ze})}_removeServiceInstance(pt,ze=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pt).clearInstance(ze)}_addComponent(pt){(0,P._addComponent)(this._delegate,pt)}_addOrOverwriteComponent(pt){(0,P._addOrOverwriteComponent)(this._delegate,pt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Fe=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function Re(){const Ft=function he(Ft){const pt={},ze={__esModule:!0,initializeApp:function ot(vt,nt={}){const Ae=P.initializeApp(vt,nt);if((0,d.r3)(pt,Ae.name))return pt[Ae.name];const Ze=new Ft(Ae,ze);return pt[Ae.name]=Ze,Ze},app:yt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Xe(vt){const nt=vt.name,Ae=nt.replace("-compat","");if(P._registerComponent(vt)&&"PUBLIC"===vt.type){const Ze=(Qe=yt())=>{if("function"!=typeof Qe[Ae])throw Fe.create("invalid-app-argument",{appName:nt});return Qe[Ae]()};void 0!==vt.serviceProps&&(0,d.ZB)(Ze,vt.serviceProps),ze[Ae]=Ze,Ft.prototype[Ae]=function(...Qe){return this._getService.bind(this,nt).apply(this,vt.multipleInstances?Qe:[])}}return"PUBLIC"===vt.type?ze[Ae]:null},removeApp:function _t(vt){delete pt[vt]},useAsService:function mt(vt,nt){return"serverAuth"===nt?null:nt},modularAPIs:P}};function yt(vt){if(!(0,d.r3)(pt,vt=vt||P._DEFAULT_ENTRY_NAME))throw Fe.create("no-app",{appName:vt});return pt[vt]}return ze.default=ze,Object.defineProperty(ze,"apps",{get:function Ue(){return Object.keys(pt).map(vt=>pt[vt])}}),yt.App=Ft,ze}(_e);return Ft.INTERNAL=Object.assign(Object.assign({},Ft.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function pt(ze){(0,d.ZB)(Ft,ze)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ft}(),ue=new B.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ft=self.firebase.SDK_VERSION;Ft&&Ft.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=q;!function dt(Ft){(0,P.registerVersion)("@firebase/app-compat","0.1.33",Ft)}()},9681:(rn,et,T)=>{T.r(et),T.d(et,{FirebaseError:()=>B.ZR,SDK_VERSION:()=>Wn,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>jt,_addOrOverwriteComponent:()=>$t,_apps:()=>Yt,_clearComponents:()=>xi,_components:()=>Dt,_getProvider:()=>Nn,_registerComponent:()=>An,_removeServiceInstance:()=>Hn,deleteApp:()=>ei,getApp:()=>zt,getApps:()=>qn,initializeApp:()=>ii,onLog:()=>ti,registerVersion:()=>$n,setLogLevel:()=>fi});var d=T(5861),f=T(4859),P=T(1877),B=T(2090),_e=T(8766);class Oe{constructor(J){this.container=J}getPlatformInfoString(){return this.container.getProviders().map(Ce=>{if(function Fe(ve){return"VERSION"===ve.getComponent()?.type}(Ce)){const Ie=Ce.getImmediate();return`${Ie.library}/${Ie.version}`}return null}).filter(Ce=>Ce).join(" ")}}const he="@firebase/app",q=new P.Yd("@firebase/app"),Jt="[DEFAULT]",qe={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yt=new Map,Dt=new Map;function jt(ve,J){try{ve.container.addComponent(J)}catch(Ce){q.debug(`Component ${J.name} failed to register with FirebaseApp ${ve.name}`,Ce)}}function $t(ve,J){ve.container.addOrOverwriteComponent(J)}function An(ve){const J=ve.name;if(Dt.has(J))return q.debug(`There were multiple attempts to register component ${J}.`),!1;Dt.set(J,ve);for(const Ce of Yt.values())jt(Ce,ve);return!0}function Nn(ve,J){const Ce=ve.container.getProvider("heartbeat").getImmediate({optional:!0});return Ce&&Ce.triggerHeartbeat(),ve.container.getProvider(J)}function Hn(ve,J,Ce=Jt){Nn(ve,J).clearInstance(Ce)}function xi(){Dt.clear()}const jn=new B.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ii{constructor(J,Ce,Ie){this._isDeleted=!1,this._options=Object.assign({},J),this._config=Object.assign({},Ce),this._name=Ce.name,this._automaticDataCollectionEnabled=Ce.automaticDataCollectionEnabled,this._container=Ie,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(J){this.checkDestroyed(),this._automaticDataCollectionEnabled=J}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(J){this._isDeleted=J}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}const Wn="9.9.4";function ii(ve,J={}){"object"!=typeof J&&(J={name:J});const Ce=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},J),Ie=Ce.name;if("string"!=typeof Ie||!Ie)throw jn.create("bad-app-name",{appName:String(Ie)});const Je=Yt.get(Ie);if(Je){if((0,B.vZ)(ve,Je.options)&&(0,B.vZ)(Ce,Je.config))return Je;throw jn.create("duplicate-app",{appName:Ie})}const it=new f.H0(Ie);for(const fn of Dt.values())it.addComponent(fn);const nn=new Ii(ve,Ce,it);return Yt.set(Ie,nn),nn}function zt(ve=Jt){const J=Yt.get(ve);if(!J)throw jn.create("no-app",{appName:ve});return J}function qn(){return Array.from(Yt.values())}function ei(ve){return en.apply(this,arguments)}function en(){return(en=(0,d.Z)(function*(ve){const J=ve.name;Yt.has(J)&&(Yt.delete(J),yield Promise.all(ve.container.getProviders().map(Ce=>Ce.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function $n(ve,J,Ce){var Ie;let Je=null!==(Ie=qe[ve])&&void 0!==Ie?Ie:ve;Ce&&(Je+=`-${Ce}`);const it=Je.match(/\s|\//),nn=J.match(/\s|\//);if(it||nn){const fn=[`Unable to register library "${Je}" with version "${J}":`];return it&&fn.push(`library name "${Je}" contains illegal characters (whitespace or "/")`),it&&nn&&fn.push("and"),nn&&fn.push(`version name "${J}" contains illegal characters (whitespace or "/")`),void q.warn(fn.join(" "))}An(new f.wA(`${Je}-version`,()=>({library:Je,version:J}),"VERSION"))}function ti(ve,J){if(null!==ve&&"function"!=typeof ve)throw jn.create("invalid-log-argument");(0,P.Am)(ve,J)}function fi(ve){(0,P.Ub)(ve)}const Fn="firebase-heartbeat-store";let yi=null;function Qt(){return yi||(yi=(0,_e.X3)("firebase-heartbeat-database",1,{upgrade:(ve,J)=>{0===J&&ve.createObjectStore(Fn)}}).catch(ve=>{throw jn.create("idb-open",{originalErrorMessage:ve.message})})),yi}function Te(){return(Te=(0,d.Z)(function*(ve){var J;try{return(yield Qt()).transaction(Fn).objectStore(Fn).get(qt(ve))}catch(Ce){if(Ce instanceof B.ZR)q.warn(Ce.message);else{const Ie=jn.create("idb-get",{originalErrorMessage:null===(J=Ce)||void 0===J?void 0:J.message});q.warn(Ie.message)}}})).apply(this,arguments)}function wt(ve,J){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,d.Z)(function*(ve,J){var Ce;try{const Je=(yield Qt()).transaction(Fn,"readwrite");return yield Je.objectStore(Fn).put(J,qt(ve)),Je.done}catch(Ie){if(Ie instanceof B.ZR)q.warn(Ie.message);else{const Je=jn.create("idb-set",{originalErrorMessage:null===(Ce=Ie)||void 0===Ce?void 0:Ce.message});q.warn(Je.message)}}})).apply(this,arguments)}function qt(ve){return`${ve.name}!${ve.options.appId}`}class It{constructor(J){this.container=J,this._heartbeatsCache=null;const Ce=this.container.getProvider("app").getImmediate();this._storage=new se(Ce),this._heartbeatsCachePromise=this._storage.read().then(Ie=>(this._heartbeatsCache=Ie,Ie))}triggerHeartbeat(){var J=this;return(0,d.Z)(function*(){const Ie=J.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Je=$();if(null===J._heartbeatsCache&&(J._heartbeatsCache=yield J._heartbeatsCachePromise),J._heartbeatsCache.lastSentHeartbeatDate!==Je&&!J._heartbeatsCache.heartbeats.some(it=>it.date===Je))return J._heartbeatsCache.heartbeats.push({date:Je,agent:Ie}),J._heartbeatsCache.heartbeats=J._heartbeatsCache.heartbeats.filter(it=>{const nn=new Date(it.date).valueOf();return Date.now()-nn<=2592e6}),J._storage.overwrite(J._heartbeatsCache)})()}getHeartbeatsHeader(){var J=this;return(0,d.Z)(function*(){if(null===J._heartbeatsCache&&(yield J._heartbeatsCachePromise),null===J._heartbeatsCache||0===J._heartbeatsCache.heartbeats.length)return"";const Ce=$(),{heartbeatsToSend:Ie,unsentEntries:Je}=function ee(ve,J=1024){const Ce=[];let Ie=ve.slice();for(const Je of ve){const it=Ce.find(nn=>nn.agent===Je.agent);if(it){if(it.dates.push(Je.date),Q(Ce)>J){it.dates.pop();break}}else if(Ce.push({agent:Je.agent,dates:[Je.date]}),Q(Ce)>J){Ce.pop();break}Ie=Ie.slice(1)}return{heartbeatsToSend:Ce,unsentEntries:Ie}}(J._heartbeatsCache.heartbeats),it=(0,B.L)(JSON.stringify({version:2,heartbeats:Ie}));return J._heartbeatsCache.lastSentHeartbeatDate=Ce,Je.length>0?(J._heartbeatsCache.heartbeats=Je,yield J._storage.overwrite(J._heartbeatsCache)):(J._heartbeatsCache.heartbeats=[],J._storage.overwrite(J._heartbeatsCache)),it})()}}function $(){return(new Date).toISOString().substring(0,10)}class se{constructor(J){this.app=J,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,B.hl)()&&(0,B.eu)().then(()=>!0).catch(()=>!1)})()}read(){var J=this;return(0,d.Z)(function*(){return(yield J._canUseIndexedDBPromise)&&(yield function gt(ve){return Te.apply(this,arguments)}(J.app))||{heartbeats:[]}})()}overwrite(J){var Ce=this;return(0,d.Z)(function*(){var Ie;if(yield Ce._canUseIndexedDBPromise){const it=yield Ce.read();return wt(Ce.app,{lastSentHeartbeatDate:null!==(Ie=J.lastSentHeartbeatDate)&&void 0!==Ie?Ie:it.lastSentHeartbeatDate,heartbeats:J.heartbeats})}})()}add(J){var Ce=this;return(0,d.Z)(function*(){var Ie;if(yield Ce._canUseIndexedDBPromise){const it=yield Ce.read();return wt(Ce.app,{lastSentHeartbeatDate:null!==(Ie=J.lastSentHeartbeatDate)&&void 0!==Ie?Ie:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...J.heartbeats]})}})()}}function Q(ve){return(0,B.L)(JSON.stringify({version:2,heartbeats:ve})).length}!function de(ve){An(new f.wA("platform-logger",J=>new Oe(J),"PRIVATE")),An(new f.wA("heartbeat",J=>new It(J),"PRIVATE")),$n(he,"0.7.32",ve),$n(he,"0.7.32","esm2017"),$n("fire-js","")}("")},4859:(rn,et,T)=>{T.d(et,{H0:()=>he,wA:()=>P});var d=T(5861),f=T(2090);class P{constructor(q,ue,ye){this.name=q,this.instanceFactory=ue,this.type=ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const B="[DEFAULT]";class _e{constructor(q,ue){this.name=q,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const ue=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(ue)){const ye=new f.BH;if(this.instancesDeferred.set(ue,ye),this.isInitialized(ue)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:ue});tt&&ye.resolve(tt)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(q){var ue;const ye=this.normalizeInstanceIdentifier(q?.identifier),tt=null!==(ue=q?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(ye)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ye})}catch(dt){if(tt)return null;throw dt}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function Fe(Re){return"EAGER"===Re.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:B})}catch{}for(const[ue,ye]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(ue);try{const dt=this.getOrInitializeService({instanceIdentifier:tt});ye.resolve(dt)}catch{}}}}clearInstance(q=B){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,d.Z)(function*(){const ue=Array.from(q.instances.values());yield Promise.all([...ue.filter(ye=>"INTERNAL"in ye).map(ye=>ye.INTERNAL.delete()),...ue.filter(ye=>"_delete"in ye).map(ye=>ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=B){return this.instances.has(q)}getOptions(q=B){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:ue={}}=q,ye=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ye))throw Error(`${this.name}(${ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:ye,options:ue});for(const[dt,Ye]of this.instancesDeferred.entries())ye===this.normalizeInstanceIdentifier(dt)&&Ye.resolve(tt);return tt}onInit(q,ue){var ye;const tt=this.normalizeInstanceIdentifier(ue),dt=null!==(ye=this.onInitCallbacks.get(tt))&&void 0!==ye?ye:new Set;dt.add(q),this.onInitCallbacks.set(tt,dt);const Ye=this.instances.get(tt);return Ye&&q(Ye,tt),()=>{dt.delete(q)}}invokeOnInitCallbacks(q,ue){const ye=this.onInitCallbacks.get(ue);if(ye)for(const tt of ye)try{tt(q,ue)}catch{}}getOrInitializeService({instanceIdentifier:q,options:ue={}}){let ye=this.instances.get(q);if(!ye&&this.component&&(ye=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=q,Re===B?void 0:Re),options:ue}),this.instances.set(q,ye),this.instancesOptions.set(q,ue),this.invokeOnInitCallbacks(ye,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ye)}catch{}var Re;return ye||null}normalizeInstanceIdentifier(q=B){return this.component?this.component.multipleInstances?q:B:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const ue=this.getProvider(q.name);if(ue.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);ue.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const ue=new _e(q,this);return this.providers.set(q,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(rn,et,T)=>{T.d(et,{Am:()=>Re,Ub:()=>he,Yd:()=>Fe,in:()=>f});const d=[];var f=(()=>{return(q=f||(f={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",f;var q})();const P={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},B=f.INFO,_e={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},Oe=(q,ue,...ye)=>{if(ue<q.logLevel)return;const tt=(new Date).toISOString(),dt=_e[ue];if(!dt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[dt](`[${tt}]  ${q.name}:`,...ye)};class Fe{constructor(ue){this.name=ue,this._logLevel=B,this._logHandler=Oe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in f))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?P[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...ue),this._logHandler(this,f.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...ue),this._logHandler(this,f.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,f.INFO,...ue),this._logHandler(this,f.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,f.WARN,...ue),this._logHandler(this,f.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...ue),this._logHandler(this,f.ERROR,...ue)}}function he(q){d.forEach(ue=>{ue.setLogLevel(q)})}function Re(q,ue){for(const ye of d){let tt=null;ue&&ue.level&&(tt=P[ue.level]),ye.userLogHandler=null===q?null:(dt,Ye,...Ft)=>{const pt=Ft.map(ze=>{if(null==ze)return null;if("string"==typeof ze)return ze;if("number"==typeof ze||"boolean"==typeof ze)return ze.toString();if(ze instanceof Error)return ze.message;try{return JSON.stringify(ze)}catch{return null}}).filter(ze=>ze).join(" ");Ye>=(tt??dt.logLevel)&&q({level:f[Ye].toLowerCase(),message:pt,args:Ft,type:dt.name})}}}},8766:(rn,et,T)=>{T.d(et,{Lj:()=>ot,X3:()=>yt});var d=T(5861);let P,B;const Fe=new WeakMap,he=new WeakMap,Re=new WeakMap,q=new WeakMap,ue=new WeakMap;let dt={get(nt,Ae,Ze){if(nt instanceof IDBTransaction){if("done"===Ae)return he.get(nt);if("objectStoreNames"===Ae)return nt.objectStoreNames||Re.get(nt);if("store"===Ae)return Ze.objectStoreNames[1]?void 0:Ze.objectStore(Ze.objectStoreNames[0])}return ze(nt[Ae])},set:(nt,Ae,Ze)=>(nt[Ae]=Ze,!0),has:(nt,Ae)=>nt instanceof IDBTransaction&&("done"===Ae||"store"===Ae)||Ae in nt};function pt(nt){return"function"==typeof nt?function Ft(nt){return nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oe(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(nt)?function(...Ae){return nt.apply(_t(this),Ae),ze(Fe.get(this))}:function(...Ae){return ze(nt.apply(_t(this),Ae))}:function(Ae,...Ze){const Qe=nt.call(_t(this),Ae,...Ze);return Re.set(Qe,Ae.sort?Ae.sort():[Ae]),ze(Qe)}}(nt):(nt instanceof IDBTransaction&&function tt(nt){if(he.has(nt))return;const Ae=new Promise((Ze,Qe)=>{const Ct=()=>{nt.removeEventListener("complete",Et),nt.removeEventListener("error",Pt),nt.removeEventListener("abort",Pt)},Et=()=>{Ze(),Ct()},Pt=()=>{Qe(nt.error||new DOMException("AbortError","AbortError")),Ct()};nt.addEventListener("complete",Et),nt.addEventListener("error",Pt),nt.addEventListener("abort",Pt)});he.set(nt,Ae)}(nt),((nt,Ae)=>Ae.some(Ze=>nt instanceof Ze))(nt,function _e(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(nt,dt):nt)}function ze(nt){if(nt instanceof IDBRequest)return function ye(nt){const Ae=new Promise((Ze,Qe)=>{const Ct=()=>{nt.removeEventListener("success",Et),nt.removeEventListener("error",Pt)},Et=()=>{Ze(ze(nt.result)),Ct()},Pt=()=>{Qe(nt.error),Ct()};nt.addEventListener("success",Et),nt.addEventListener("error",Pt)});return Ae.then(Ze=>{Ze instanceof IDBCursor&&Fe.set(Ze,nt)}).catch(()=>{}),ue.set(Ae,nt),Ae}(nt);if(q.has(nt))return q.get(nt);const Ae=pt(nt);return Ae!==nt&&(q.set(nt,Ae),ue.set(Ae,nt)),Ae}const _t=nt=>ue.get(nt);function yt(nt,Ae,{blocked:Ze,upgrade:Qe,blocking:Ct,terminated:Et}={}){const Pt=indexedDB.open(nt,Ae),En=ze(Pt);return Qe&&Pt.addEventListener("upgradeneeded",sn=>{Qe(ze(Pt.result),sn.oldVersion,sn.newVersion,ze(Pt.transaction))}),Ze&&Pt.addEventListener("blocked",()=>Ze()),En.then(sn=>{Et&&sn.addEventListener("close",()=>Et()),Ct&&sn.addEventListener("versionchange",()=>Ct())}).catch(()=>{}),En}function ot(nt,{blocked:Ae}={}){const Ze=indexedDB.deleteDatabase(nt);return Ae&&Ze.addEventListener("blocked",()=>Ae()),ze(Ze).then(()=>{})}const Ue=["get","getKey","getAll","getAllKeys","count"],Xe=["put","add","delete","clear"],mt=new Map;function vt(nt,Ae){if(!(nt instanceof IDBDatabase)||Ae in nt||"string"!=typeof Ae)return;if(mt.get(Ae))return mt.get(Ae);const Ze=Ae.replace(/FromIndex$/,""),Qe=Ae!==Ze,Ct=Xe.includes(Ze);if(!(Ze in(Qe?IDBIndex:IDBObjectStore).prototype)||!Ct&&!Ue.includes(Ze))return;const Et=function(){var Pt=(0,d.Z)(function*(En,...sn){const Rn=this.transaction(En,Ct?"readwrite":"readonly");let Jt=Rn.store;return Qe&&(Jt=Jt.index(sn.shift())),(yield Promise.all([Jt[Ze](...sn),Ct&&Rn.done]))[0]});return function(sn){return Pt.apply(this,arguments)}}();return mt.set(Ae,Et),Et}!function Ye(nt){dt=nt(dt)}(nt=>({...nt,get:(Ae,Ze,Qe)=>vt(Ae,Ze)||nt.get(Ae,Ze,Qe),has:(Ae,Ze)=>!!vt(Ae,Ze)||nt.has(Ae,Ze)}))},5861:(rn,et,T)=>{function d(P,B,_e,Oe,Fe,he,Re){try{var q=P[he](Re),ue=q.value}catch(ye){return void _e(ye)}q.done?B(ue):Promise.resolve(ue).then(Oe,Fe)}function f(P){return function(){var B=this,_e=arguments;return new Promise(function(Oe,Fe){var he=P.apply(B,_e);function Re(ue){d(he,Oe,Fe,Re,q,"next",ue)}function q(ue){d(he,Oe,Fe,Re,q,"throw",ue)}Re(void 0)})}}T.d(et,{Z:()=>f})}},rn=>{rn(rn.s=2982)}]);